(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3fb2fb4e","chunk-dfa0e890","chunk-f5728f0e","chunk-6728f83e","chunk-3f93175c","chunk-7e2cd51e","chunk-58336881","chunk-41836670","chunk-c4993c78","chunk-68702101","chunk-d19c1a98","chunk-2727631f","chunk-2d0f012d"],{"0062":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"任务名称",prop:"jobName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入任务名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.jobName,callback:function(t){e.$set(e.queryParams,"jobName",t)},expression:"queryParams.jobName"}})],1),a("el-form-item",{attrs:{label:"任务组名",prop:"jobGroup"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"请任务组名",clearable:"",size:"small"},model:{value:e.queryParams.jobGroup,callback:function(t){e.$set(e.queryParams,"jobGroup",t)},expression:"queryParams.jobGroup"}},e._l(e.dict.type.sys_job_group,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"执行状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"请选择执行状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.dict.type.sys_common_status,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"执行时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:remove"],expression:"['monitor:job:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:remove"],expression:"['monitor:job:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini"},on:{click:e.handleClean}},[e._v("清空")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:export"],expression:"['monitor:job:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-close",size:"mini"},on:{click:e.handleClose}},[e._v("关闭")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.jobLogList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"日志编号",width:"80",align:"center",prop:"jobLogId"}}),a("el-table-column",{attrs:{label:"任务名称",align:"center",prop:"jobName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"任务组名",align:"center",prop:"jobGroup","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("dict-tag",{attrs:{options:e.dict.type.sys_job_group,value:t.row.jobGroup}})]}}])}),a("el-table-column",{attrs:{label:"调用目标字符串",align:"center",prop:"invokeTarget","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"日志信息",align:"center",prop:"jobMessage","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"执行状态",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("dict-tag",{attrs:{options:e.dict.type.sys_common_status,value:t.row.status}})]}}])}),a("el-table-column",{attrs:{label:"执行时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:query"],expression:"['monitor:job:query']"}],attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleView(t.row)}}},[e._v("详细")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:"调度日志详细",visible:e.open,width:"700px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",size:"mini"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"日志序号："}},[e._v(e._s(e.form.jobLogId))]),a("el-form-item",{attrs:{label:"任务名称："}},[e._v(e._s(e.form.jobName))])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务分组："}},[e._v(e._s(e.form.jobGroup))]),a("el-form-item",{attrs:{label:"执行时间："}},[e._v(e._s(e.form.createTime))])],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"调用方法："}},[e._v(e._s(e.form.invokeTarget))])],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"日志信息："}},[e._v(e._s(e.form.jobMessage))])],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"执行状态："}},[0==e.form.status?a("div",[e._v("正常")]):1==e.form.status?a("div",[e._v("失败")]):e._e()])],1),a("el-col",{attrs:{span:24}},[1==e.form.status?a("el-form-item",{attrs:{label:"异常信息："}},[e._v(e._s(e.form.exceptionInfo))]):e._e()],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.open=!1}}},[e._v("关 闭")])],1)],1)],1)},o=[],l=(a("6540"),a("1d7a"),a("a159")),i=a("b775");function s(e){return Object(i["a"])({url:"/monitor/jobLog/list",method:"get",params:e})}function n(e){return Object(i["a"])({url:"/monitor/jobLog/"+e,method:"delete"})}function c(){return Object(i["a"])({url:"/monitor/jobLog/clean",method:"delete"})}function u(e){return Object(i["a"])({url:"/monitor/jobLog/export",method:"get",params:e})}var d={name:"JobLog",dicts:["sys_common_status","sys_job_group"],data:function(){return{loading:!0,exportLoading:!1,ids:[],multiple:!0,showSearch:!0,total:0,jobLogList:[],open:!1,dateRange:[],form:{},queryParams:{pageNum:1,pageSize:10,jobName:void 0,jobGroup:void 0,status:void 0}}},created:function(){var e=this,t=this.$route.query.jobId;void 0!==t&&0!=t?Object(l["e"])(t).then((function(t){e.queryParams.jobName=t.data.jobName,e.queryParams.jobGroup=t.data.jobGroup,e.getList()})):this.getList()},methods:{getList:function(){var e=this;this.loading=!0,s(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.jobLogList=t.rows,e.total=t.total,e.loading=!1}))},handleClose:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/monitor/job"})},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.jobLogId})),this.multiple=!e.length},handleView:function(e){this.open=!0,this.form=e},handleDelete:function(e){var t=this,a=this.ids;this.$modal.confirm('是否确认删除调度日志编号为"'+a+'"的数据项？').then((function(){return n(a)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},handleClean:function(){var e=this;this.$modal.confirm("是否确认清空所有调度日志数据项？").then((function(){return c()})).then((function(){e.getList(),e.$modal.msgSuccess("清空成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$modal.confirm("是否确认导出所有调度日志数据项？").then((function(){return e.exportLoading=!0,u(t)})).then((function(t){e.$download.name(t.msg),e.exportLoading=!1})).catch((function(){}))}}},m=d,p=a("cba8"),f=Object(p["a"])(m,r,o,!1,null,null,null);t["default"]=f.exports},"02f2":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"系统模块",prop:"title"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入系统模块",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.title,callback:function(t){e.$set(e.queryParams,"title",t)},expression:"queryParams.title"}})],1),a("el-form-item",{attrs:{label:"操作人员",prop:"operName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入操作人员",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.operName,callback:function(t){e.$set(e.queryParams,"operName",t)},expression:"queryParams.operName"}})],1),a("el-form-item",{attrs:{label:"类型",prop:"businessType"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"操作类型",clearable:"",size:"small"},model:{value:e.queryParams.businessType,callback:function(t){e.$set(e.queryParams,"businessType",t)},expression:"queryParams.businessType"}},e._l(e.dict.type.sys_oper_type,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"操作状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.dict.type.sys_common_status,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"操作时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:operlog:remove"],expression:"['monitor:operlog:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:operlog:remove"],expression:"['monitor:operlog:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini"},on:{click:e.handleClean}},[e._v("清空")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:operlog:export"],expression:"['monitor:operlog:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"tables",attrs:{data:e.list,"default-sort":e.defaultSort},on:{"selection-change":e.handleSelectionChange,"sort-change":e.handleSortChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"日志编号",align:"center",prop:"operId"}}),a("el-table-column",{attrs:{label:"系统模块",align:"center",prop:"title"}}),a("el-table-column",{attrs:{label:"操作类型",align:"center",prop:"businessType"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("dict-tag",{attrs:{options:e.dict.type.sys_oper_type,value:t.row.businessType}})]}}])}),a("el-table-column",{attrs:{label:"请求方式",align:"center",prop:"requestMethod"}}),a("el-table-column",{attrs:{label:"操作人员",align:"center",prop:"operName",width:"100","show-overflow-tooltip":!0,sortable:"custom","sort-orders":["descending","ascending"]}}),a("el-table-column",{attrs:{label:"操作地址",align:"center",prop:"operIp",width:"130","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作地点",align:"center",prop:"operLocation","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作状态",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("dict-tag",{attrs:{options:e.dict.type.sys_common_status,value:t.row.status}})]}}])}),a("el-table-column",{attrs:{label:"操作日期",align:"center",prop:"operTime",sortable:"custom","sort-orders":["descending","ascending"],width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.operTime)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:operlog:query"],expression:"['monitor:operlog:query']"}],attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleView(t.row,t.index)}}},[e._v("详细")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:"操作日志详细",visible:e.open,width:"700px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",size:"mini"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"操作模块："}},[e._v(e._s(e.form.title)+" / "+e._s(e.typeFormat(e.form)))]),a("el-form-item",{attrs:{label:"登录信息："}},[e._v(e._s(e.form.operName)+" / "+e._s(e.form.operIp)+" / "+e._s(e.form.operLocation))])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"请求地址："}},[e._v(e._s(e.form.operUrl))]),a("el-form-item",{attrs:{label:"请求方式："}},[e._v(e._s(e.form.requestMethod))])],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"操作方法："}},[e._v(e._s(e.form.method))])],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"请求参数："}},[e._v(e._s(e.form.operParam))])],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"返回参数："}},[e._v(e._s(e.form.jsonResult))])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"操作状态："}},[0===e.form.status?a("div",[e._v("正常")]):1===e.form.status?a("div",[e._v("失败")]):e._e()])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"操作时间："}},[e._v(e._s(e.parseTime(e.form.operTime)))])],1),a("el-col",{attrs:{span:24}},[1===e.form.status?a("el-form-item",{attrs:{label:"异常信息："}},[e._v(e._s(e.form.errorMsg))]):e._e()],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.open=!1}}},[e._v("关 闭")])],1)],1)],1)},o=[],l=(a("dede"),a("6540"),a("1d7a"),a("b775"));function i(e){return Object(l["a"])({url:"/monitor/operlog/list",method:"get",params:e})}function s(e){return Object(l["a"])({url:"/monitor/operlog/"+e,method:"delete"})}function n(){return Object(l["a"])({url:"/monitor/operlog/clean",method:"delete"})}function c(e){return Object(l["a"])({url:"/monitor/operlog/export",method:"get",params:e})}var u={name:"Operlog",dicts:["sys_oper_type","sys_common_status"],data:function(){return{loading:!0,exportLoading:!1,ids:[],multiple:!0,showSearch:!0,total:0,list:[],open:!1,dateRange:[],defaultSort:{prop:"operTime",order:"descending"},form:{},queryParams:{pageNum:1,pageSize:10,title:void 0,operName:void 0,businessType:void 0,status:void 0}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,i(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.list=t.rows,e.total=t.total,e.loading=!1}))},typeFormat:function(e,t){return this.selectDictLabel(this.dict.type.sys_oper_type,e.businessType)},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.$refs.tables.sort(this.defaultSort.prop,this.defaultSort.order),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.operId})),this.multiple=!e.length},handleSortChange:function(e,t,a){this.queryParams.orderByColumn=e.prop,this.queryParams.isAsc=e.order,this.getList()},handleView:function(e){this.open=!0,this.form=e},handleDelete:function(e){var t=this,a=e.operId||this.ids;this.$modal.confirm('是否确认删除日志编号为"'+a+'"的数据项？').then((function(){return s(a)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},handleClean:function(){var e=this;this.$modal.confirm("是否确认清空所有操作日志数据项？").then((function(){return n()})).then((function(){e.getList(),e.$modal.msgSuccess("清空成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$modal.confirm("是否确认导出所有操作日志数据项？").then((function(){return e.exportLoading=!0,c(t)})).then((function(t){e.$download.name(t.msg),e.exportLoading=!1})).catch((function(){}))}}},d=u,m=a("cba8"),p=Object(m["a"])(d,r,o,!1,null,null,null);t["default"]=p.exports},"0309":function(e,t,a){},"046a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"字典名称",prop:"dictName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入字典名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictName,callback:function(t){e.$set(e.queryParams,"dictName",t)},expression:"queryParams.dictName"}})],1),a("el-form-item",{attrs:{label:"字典类型",prop:"dictType"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入字典类型",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictType,callback:function(t){e.$set(e.queryParams,"dictType",t)},expression:"queryParams.dictType"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"字典状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.dict.type.sys_normal_disable,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:add"],expression:"['system:dict:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:edit"],expression:"['system:dict:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:remove"],expression:"['system:dict:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:export"],expression:"['system:dict:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:remove"],expression:"['system:dict:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-refresh",size:"mini"},on:{click:e.handleRefreshCache}},[e._v("刷新缓存")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.typeList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"字典编号",align:"center",prop:"dictId"}}),a("el-table-column",{attrs:{label:"字典名称",align:"center",prop:"dictName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"字典类型",align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"link-type",attrs:{to:"/system/dict-data/index/"+t.row.dictId}},[a("span",[e._v(e._s(t.row.dictType))])])]}}])}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("dict-tag",{attrs:{options:e.dict.type.sys_normal_disable,value:t.row.status}})]}}])}),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:edit"],expression:"['system:dict:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:remove"],expression:"['system:dict:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"字典名称",prop:"dictName"}},[a("el-input",{attrs:{placeholder:"请输入字典名称"},model:{value:e.form.dictName,callback:function(t){e.$set(e.form,"dictName",t)},expression:"form.dictName"}})],1),a("el-form-item",{attrs:{label:"字典类型",prop:"dictType"}},[a("el-input",{attrs:{placeholder:"请输入字典类型"},model:{value:e.form.dictType,callback:function(t){e.$set(e.form,"dictType",t)},expression:"form.dictType"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.dict.type.sys_normal_disable,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},o=[],l=(a("6540"),a("1d7a"),a("ed45")),i={name:"Dict",dicts:["sys_normal_disable"],data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,typeList:[],title:"",open:!1,dateRange:[],queryParams:{pageNum:1,pageSize:10,dictName:void 0,dictType:void 0,status:void 0},form:{},rules:{dictName:[{required:!0,message:"字典名称不能为空",trigger:"blur"}],dictType:[{required:!0,message:"字典类型不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(l["e"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.typeList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={dictId:void 0,dictName:void 0,dictType:void 0,status:"0",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加字典类型"},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.dictId})),this.single=1!=e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.dictId||this.ids;Object(l["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改字典类型"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.dictId?Object(l["h"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(l["a"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.dictId||this.ids;this.$modal.confirm('是否确认删除字典编号为"'+a+'"的数据项？').then((function(){return Object(l["b"])(a)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$modal.confirm("是否确认导出所有类型数据项？").then((function(){return e.exportLoading=!0,Object(l["c"])(t)})).then((function(t){e.$download.name(t.msg),e.exportLoading=!1})).catch((function(){}))},handleRefreshCache:function(){var e=this;Object(l["g"])().then((function(){e.$modal.msgSuccess("刷新成功")}))}}},s=i,n=a("cba8"),c=Object(n["a"])(s,r,o,!1,null,null,null);t["default"]=c.exports},"05c4":function(e,t,a){},"061b":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],style:"height:"+e.height},[a("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.src,frameborder:"no",scrolling:"auto"}})])},o=[],l={props:{src:{type:String,required:!0}},data:function(){return{height:document.documentElement.clientHeight-94.5+"px;",loading:!0,url:this.src}},mounted:function(){var e=this;setTimeout((function(){e.loading=!1}),300);var t=this;window.onresize=function(){t.height=document.documentElement.clientHeight-94.5+"px;"}}},i=l,s=a("cba8"),n=Object(s["a"])(i,r,o,!1,null,null,null);t["a"]=n.exports},"0a36":function(e,t,a){"use strict";a("80ea")},"0a42":function(e,t,a){},"0a5c":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},o=[],l=a("4d28"),i=a.n(l),s=a("feb2");a("d8ac");var n=3e3,c={mixins:[s["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},radar:{radius:"66%",center:["50%","42%"],splitNumber:8,splitArea:{areaStyle:{color:"rgba(127,95,132,.3)",opacity:1,shadowBlur:45,shadowColor:"rgba(0,0,0,.5)",shadowOffsetX:0,shadowOffsetY:15}},indicator:[{name:"Sales",max:1e4},{name:"Administration",max:2e4},{name:"Information Techology",max:2e4},{name:"Customer Support",max:2e4},{name:"Development",max:2e4},{name:"Marketing",max:2e4}]},legend:{left:"center",bottom:"10",data:["Allocated Budget","Expected Spending","Actual Spending"]},series:[{type:"radar",symbolSize:0,areaStyle:{normal:{shadowBlur:13,shadowColor:"rgba(0,0,0,.2)",shadowOffsetX:0,shadowOffsetY:10,opacity:1}},data:[{value:[5e3,7e3,12e3,11e3,15e3,14e3],name:"Allocated Budget"},{value:[4e3,9e3,15e3,15e3,13e3,11e3],name:"Expected Spending"},{value:[5500,11e3,12e3,15e3,12e3,12e3],name:"Actual Spending"}],animationDuration:n}]})}}},u=c,d=a("cba8"),m=Object(d["a"])(u,r,o,!1,null,null,null);t["default"]=m.exports},"0c1d":function(e,t,a){},"0c7b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"盘点仓库",prop:"store"}},[a("el-input",{attrs:{placeholder:"请输入盘点仓库",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.store,callback:function(t){e.$set(e.queryParams,"store",t)},expression:"queryParams.store"}})],1),a("el-form-item",{attrs:{label:"盘点人",prop:"purchasor"}},[a("el-input",{attrs:{placeholder:"请输入盘点人",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.purchasor,callback:function(t){e.$set(e.queryParams,"purchasor",t)},expression:"queryParams.purchasor"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList}},[a("el-table-column",{attrs:{label:"盘点单据号",align:"center",prop:"ORDER_CODE"}}),a("el-table-column",{attrs:{label:"盘点人",align:"center",prop:"PURCHASOR"}}),a("el-table-column",{attrs:{label:"盘点仓库",align:"center",prop:"NAME"}}),a("el-table-column",{attrs:{label:"盘点日期",align:"center",prop:"TAKE_DATE",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTimeShort(t.row.TAKE_DATE)))])]}}])}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"STATUZ"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-tickets"},on:{click:function(a){return e.lookTakeDetail(t.row)}}},[e._v("盘点明细")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-finished"},on:{click:function(a){return e.verify(t.row)}}},[e._v("通过")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-close"},on:{click:function(a){return e.Noverify(t.row)}}},[e._v("不通过")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"45%","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"盘点人",prop:"purchasor"}},[a("el-input",{attrs:{placeholder:"请输入盘点人名称"},model:{value:e.form.purchasor,callback:function(t){e.$set(e.form,"purchasor",t)},expression:"form.purchasor"}})],1),a("el-form-item",{attrs:{label:"盘点日期",prop:"takeDate"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择盘点日期"},model:{value:e.form.takeDate,callback:function(t){e.$set(e.form,"takeDate",t)},expression:"form.takeDate"}})],1),a("el-form-item",{attrs:{label:"总金额(元)",prop:"money"}},[a("el-input",{attrs:{placeholder:"请输入总金额"},model:{value:e.form.money,callback:function(t){e.$set(e.form,"money",t)},expression:"form.money"}})],1),a("el-form-item",{attrs:{label:"盘点仓库",prop:"storeId"}},[a("el-select",{attrs:{placeholder:"请选择盘点仓库"},model:{value:e.form.storeId,callback:function(t){e.$set(e.form,"storeId",t)},expression:"form.storeId"}},e._l(e.storeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"note"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:e.form.note,callback:function(t){e.$set(e.form,"note",t)},expression:"form.note"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"盘库商品",visible:e.show,width:"50%","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.show=t}}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.tableRowClassName,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",selectable:e.handleSelectable}}),a("el-table-column",{attrs:{label:"商品名称",prop:"productName"}}),a("el-table-column",{attrs:{prop:"cnt",label:"库存数量"}}),a("el-table-column",{attrs:{prop:"cntCheck",label:"盘点数量"}}),a("el-table-column",{attrs:{prop:"statuz",label:"状态"}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.takeTotal>0,expression:"takeTotal>0"}],attrs:{total:e.takeTotal,page:e.params.pageNum,limit:e.params.pageSize},on:{"update:page":function(t){return e.$set(e.params,"pageNum",t)},"update:limit":function(t){return e.$set(e.params,"pageSize",t)},pagination:e.getTakeList}})],1)],1)},o=[],l=a("8955"),i=(a("d0bf"),a("6540"),a("644b")),s=a("83f1"),n={data:function(){var e;return e={show:!1,tableData:[],loadingDetail:!1,single:!0,loading:!0,exportLoading:!1,ids:[]},Object(l["a"])(e,"single",!0),Object(l["a"])(e,"multiple",!0),Object(l["a"])(e,"showSearch",!0),Object(l["a"])(e,"total",0),Object(l["a"])(e,"postList",[]),Object(l["a"])(e,"title",""),Object(l["a"])(e,"open",!1),Object(l["a"])(e,"queryParams",{pageNum:1,pageSize:10,purchasor:void 0,store:void 0,status:"待审核"}),Object(l["a"])(e,"params",{pageNum:1,pageSize:10}),Object(l["a"])(e,"form",{purchasor:"",takeDate:"",money:"",storeId:"",note:""}),Object(l["a"])(e,"rules",{purchasor:[{required:!0,message:"盘点人不能为空",trigger:"blur"},{required:!0,message:"盘点人不能为空",trigger:"change"}],takeDate:[{required:!0,message:"盘点日期不能为空",trigger:"blur"},{required:!0,message:"盘点日期不能为空",trigger:"change"}],money:[{required:!0,message:"总金额不能为空",trigger:"blur"},{required:!0,message:"总金额不能为空",trigger:"change"}],storeId:[{required:!0,message:"仓库不能为空",trigger:"blur"},{required:!0,message:"仓库不能为空",trigger:"change"}]}),Object(l["a"])(e,"storeList",[]),Object(l["a"])(e,"takeTotal",0),Object(l["a"])(e,"ids",[]),e},created:function(){this.getList(),this.getstoreList()},methods:{verify:function(e){var t=this;Object(i["e"])({objectId:e.OBJECT_ID,statuz:"已审核"}).then((function(e){t.$modal.msgSuccess("审核成功"),t.getList()}))},Noverify:function(e){var t=this;Object(i["e"])({objectId:e.OBJECT_ID,statuz:"审核拒绝"}).then((function(e){t.$modal.msgSuccess("审核拒绝"),t.getList()}))},sunmitAudit:function(e){var t=this;Object(i["d"])({objectId:e.OBJECT_ID}).then((function(e){t.msgSuccess("提交成功")}))},tableRowClassName:function(e){var t=e.row;e.rowIndex;return"已清点"===t.statuz?"success-row":""},handleSelectable:function(e){return"已清点"!==e.statuz},changeCntNumber:function(e){e.cntCheck&&Object(i["i"])({objectId:e.objectId,cntCheck:Number(e.cntCheck)}).then((function(e){console.log(e)}))},checkProduct:function(e){var t=this;Object(i["j"])({list:[e.objectId]}).then((function(e){t.takeDetailList()}))},handleUpdateStatuz:function(){var e=this;Object(i["j"])({list:this.ids}).then((function(t){e.takeDetailList()}))},lookTakeDetail:function(e){this.show=!0,this.currentOrderId=e.OBJECT_ID,this.takeDetailList()},takeDetailList:function(){var e=this;this.loadingDetail=!0,Object(i["f"])({orderId:this.currentOrderId}).then((function(t){e.tableData=t.rows,e.takeTotal=t.total,e.loadingDetail=!1}))},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.objectId})),this.single=1!=e.length},getTakeList:function(){},getstoreList:function(){var e=this;Object(s["O"])({companyId:this.$store.state.user.companyInfo.companyId}).then((function(t){e.storeList=t.data}))},getList:function(){var e=this;this.loading=!0,Object(i["h"])(this.queryParams).then((function(t){e.postList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={purchasor:"",takeDate:"",money:"",storeId:"",note:""},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加盘点"},handleUpdate:function(e){var t=this;this.reset(),Object(i["g"])(e.objectId).then((function(e){t.form=e.data,t.open=!0,t.title="修改盘点"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.objectId?Object(i["c"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(i["a"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this;this.$modal.confirm("是否确认删除该数据项？").then((function(){return Object(i["b"])(postIds)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))}}},c=n,u=(a("7808"),a("cba8")),d=Object(u["a"])(c,r,o,!1,null,"4b21b4e4",null);t["default"]=d.exports},"0ce9":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-checkbox-group",{on:{change:e.change},model:{value:e.noteCheck,callback:function(t){e.noteCheck=t},expression:"noteCheck"}},[a("div",{staticClass:"input-suffix"},[a("el-checkbox",{attrs:{label:"单纯火锅"}}),a("el-checkbox",{attrs:{label:"单纯烧烤"}}),a("el-checkbox",{attrs:{label:"全部使用半成品加工"}}),a("el-checkbox",{attrs:{label:"中餐类制售"}}),a("el-checkbox",{attrs:{label:"西餐类制售"}}),a("el-checkbox",{attrs:{label:"日餐类制售"}}),a("el-checkbox",{attrs:{label:"韩餐类制售"}}),a("el-checkbox",{attrs:{label:"工地食堂"}}),a("el-checkbox",{attrs:{label:"学校食堂"}}),a("el-checkbox",{attrs:{label:"幼儿园食堂"}}),a("el-checkbox",{attrs:{label:"企事业机关单位食堂"}}),a("el-checkbox",{attrs:{label:"含凉菜"}}),a("el-checkbox",{attrs:{label:"含裱花蛋糕"}}),a("el-checkbox",{attrs:{label:"含生食海食品"}}),a("el-checkbox",{attrs:{label:"冷热饮品制售"}}),a("span",{staticStyle:{"font-size":"14px"}},[e._v("(")]),a("el-checkbox",{attrs:{label:"其他"}}),-1!=e.noteCheck.indexOf("其他")?a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"其他"},on:{input:e.input},model:{value:e.noteOther,callback:function(t){e.noteOther=t},expression:"noteOther"}}):e._e(),a("span",{staticStyle:{"font-size":"14px","margin-left":"10px"}},[e._v(")")])],1)])],1)},o=[],l={props:{value:{type:Array,required:!0},inputOther:{type:String,required:!0}},data:function(){return{noteCheck:[],noteOther:""}},methods:{change:function(e){this.$emit("noteCheck",this.noteCheck)},input:function(e){this.$emit("noteOther",this.noteOther)}},watch:{value:function(){this.noteCheck=this.value},inputOther:function(){this.noteOther=this.inputOther}}},i=l,s=a("cba8"),n=Object(s["a"])(i,r,o,!1,null,"ff337f72",null);t["default"]=n.exports},"0ef1":function(e,t,a){"use strict";a("a88a")},"0fe3":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"商品名称",prop:"productName"}},[a("el-input",{attrs:{placeholder:"请输入商品名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.productName,callback:function(t){e.$set(e.queryParams,"productName",t)},expression:"queryParams.productName"}})],1),a("el-form-item",{attrs:{label:"订单编号",prop:"productCode"}},[a("el-input",{attrs:{placeholder:"请输入订单编号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.productCode,callback:function(t){e.$set(e.queryParams,"productCode",t)},expression:"queryParams.productCode"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList}},[a("el-table-column",{attrs:{label:"订单编号",align:"center",prop:"orderCode"}}),a("el-table-column",{attrs:{label:"商品编号",align:"center",prop:"productCode"}}),a("el-table-column",{attrs:{label:"商品名称",align:"center",prop:"productName"}}),a("el-table-column",{attrs:{label:" 客户名称",align:"center",prop:"productName"}}),a("el-table-column",{attrs:{label:"入库数量",align:"center",prop:"cnt"}}),a("el-table-column",{attrs:{label:"金额(元)",align:"center",prop:"money"}}),a("el-table-column",{attrs:{label:"规格",align:"center",prop:"specs"}}),a("el-table-column",{attrs:{label:"订单日期",align:"center",prop:"createDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createDate)))])]}}])}),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"note"}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)},o=[],l=a("9378"),i={name:"Post",data:function(){return{loading:!1,showSearch:!0,total:0,postList:[],queryParams:{pageNum:1,pageSize:10,productName:void 0,productCode:void 0}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(l["c"])(this.queryParams).then((function(t){e.postList=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()}}},s=i,n=(a("7c4f"),a("cba8")),c=Object(n["a"])(s,r,o,!1,null,"26618878",null);t["default"]=c.exports},"11a0":function(e,t,a){"use strict";a("2aed")},"11f1":function(e,t,a){"use strict";a("ea7a")},"136c":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-input",{on:{input:e.input},model:{value:e.employeeCount,callback:function(t){e.employeeCount=t},expression:"employeeCount"}})],1)},o=[],l={props:{value:{type:String,required:!0}},data:function(){return{employeeCount:""}},methods:{input:function(e){this.$emit("employeeCount",this.employeeCount)}},watch:{value:function(){this.employeeCount=this.value}}},i=l,s=a("cba8"),n=Object(s["a"])(i,r,o,!1,null,"6a1c435a",null);t["default"]=n.exports},"13cb":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"报损单号",prop:"orderCode"}},[a("el-input",{attrs:{placeholder:"请输入报损单号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.orderCode,callback:function(t){e.$set(e.queryParams,"orderCode",t)},expression:"queryParams.orderCode"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList}},[a("el-table-column",{attrs:{label:"报损编号",align:"center",prop:"orderCode"}}),a("el-table-column",{attrs:{label:"报损时间",align:"center",prop:"takeDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e.parseTimeShort(t.row.createTime))+" ")])]}}])}),a("el-table-column",{attrs:{label:"报损金额(元)",align:"center",prop:"costMoney"}}),a("el-table-column",{attrs:{label:"总金额(元)",align:"center",prop:"money"}}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"statuz"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(t.row.statuz)+" ")])]}}])}),a("el-table-column",{attrs:{label:"经办人员",align:"center",prop:"purchasor"}}),a("el-table-column",{attrs:{label:"操作人",align:"center",prop:"verifyUserId"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-tickets"},on:{click:function(a){return e.lookDetail(t.row)}}},[e._v("报损明细")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.title,visible:e.open,width:"50%","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"label-width":"130px"}},[a("el-form-item",{attrs:{prop:"purchasor",label:"经办人员",required:""}},[a("el-input",{model:{value:e.form.purchasor,callback:function(t){e.$set(e.form,"purchasor",t)},expression:"form.purchasor"}})],1),a("el-form-item",{attrs:{prop:"costMoney",label:"报损金额(成本价)",required:""}},[a("el-input",{model:{value:e.form.costMoney,callback:function(t){e.$set(e.form,"costMoney",t)},expression:"form.costMoney"}})],1),a("el-form-item",{attrs:{prop:"money",label:"总金额(元)",required:""}},[a("el-input",{model:{value:e.form.money,callback:function(t){e.$set(e.form,"money",t)},expression:"form.money"}})],1),a("el-form-item",{attrs:{prop:"note",label:"报损原因",required:""}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.note,callback:function(t){e.$set(e.form,"note",t)},expression:"form.note"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"添加报损商品",visible:e.detailBool,width:"85%","append-to-body":""},on:{"update:visible":function(t){e.detailBool=t}}},[a("el-form",{ref:"detailform",staticClass:"formDetail",attrs:{model:e.detailform,"label-width":"0"}},[a("div",{staticClass:"descriptions"},e._l(e.currentDetail,(function(t){return a("el-descriptions",{key:t.objectId,staticClass:"descriptions-td",attrs:{column:9,border:"",direction:"vertical"}},[a("el-descriptions-item",{attrs:{label:"产品名称",labelStyle:"width:160px"}},[a("div",[e._v(e._s(t.name))])]),a("el-descriptions-item",{attrs:{label:"单价",labelStyle:"width:60px"}},[a("div",[e._v(e._s(t.price))])]),a("el-descriptions-item",{attrs:{label:"单位",labelStyle:"width:60px"}},[a("div",[e._v(e._s(t.unit))])]),a("el-descriptions-item",{attrs:{label:"报损数量",labelStyle:"width:160px"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"报损数量"},model:{value:t.cnt,callback:function(a){e.$set(t,"cnt",a)},expression:"item.cnt"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"报损金额(元)",labelStyle:"width:160px"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"报损金额"},model:{value:t.money,callback:function(a){e.$set(t,"money",a)},expression:"item.money"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"仓库",labelStyle:"width:160px"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.storeId,callback:function(a){e.$set(t,"storeId",a)},expression:"item.storeId"}},e._l(e.storeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1)],1)]),a("el-descriptions-item",{attrs:{label:"批号"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"请输入批号"},model:{value:t.batchCode,callback:function(a){e.$set(t,"batchCode",a)},expression:"item.batchCode"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"生产日期"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择生产日期"},model:{value:t.createDate,callback:function(a){e.$set(t,"createDate",a)},expression:"item.createDate"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"有效期"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择有效期"},model:{value:t.validDate,callback:function(a){e.$set(t,"validDate",a)},expression:"item.validDate"}})],1)],1)])],1)})),1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFormDetail}},[e._v("保存")])],1)],1),a("el-dialog",{attrs:{title:"报损明细",visible:e.showDetail,width:"50%","close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.showDetail=t}}},[a("el-form",{ref:"queryParamsOrder",attrs:{model:e.queryParamsOrder,inline:!0}},[a("el-form-item",{attrs:{label:"名称",prop:"productName"}},[a("el-input",{attrs:{placeholder:"请输入名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQueryOrder(t)}},model:{value:e.queryParamsOrder.productName,callback:function(t){e.$set(e.queryParamsOrder,"productName",t)},expression:"queryParamsOrder.productName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"cyan",icon:"el-icon-search",size:"mini"},on:{click:e.handleQueryOrder}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQueryOrder}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}}),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingGood,expression:"loadingGood"}],attrs:{data:e.goodList,"highlight-current-row":""}},[a("el-table-column",{attrs:{label:"名称",prop:"productName"}}),a("el-table-column",{attrs:{label:"单位",prop:"unit"}}),a("el-table-column",{attrs:{label:"数量",prop:"cnt"}}),a("el-table-column",{attrs:{label:"仓库",prop:"store"}}),a("el-table-column",{attrs:{label:"批号",prop:"batchCode"}}),a("el-table-column",{attrs:{label:"报损金额(元)",prop:"money"}}),a("el-table-column",{attrs:{label:"生产日期",prop:"createDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e.parseTimeShort(t.row.createDate))+" ")])]}}])}),a("el-table-column",{attrs:{label:"有效期",prop:"validDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e.parseTimeShort(t.row.validDate))+" ")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.detailTotal>0,expression:"detailTotal>0"}],attrs:{total:e.detailTotal,page:e.queryParamsOrder.pageNum,limit:e.queryParamsOrder.pageSize},on:{"update:page":function(t){return e.$set(e.queryParamsOrder,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParamsOrder,"pageSize",t)},pagination:e.getDetailList}}),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showDetail=!1}}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"修改",visible:e.updateBool,width:"80%","append-to-body":""},on:{"update:visible":function(t){e.updateBool=t}}},[a("el-form",{ref:"updateform",staticClass:"form",attrs:{model:e.updateform,"label-width":"0"}},[a("div",[a("el-descriptions",{staticClass:"descriptions",attrs:{column:9,border:"",direction:"vertical"}},[a("el-descriptions-item",{attrs:{label:"产品名称",labelStyle:"width:160px"}},[a("span",[e._v(e._s(e.updateform.productName))])]),a("el-descriptions-item",{attrs:{label:"单价",labelStyle:"width:60px"}},[a("span",[e._v(e._s(e.updateform.price))])]),a("el-descriptions-item",{attrs:{label:"单位",labelStyle:"width:60px"}},[a("span",[e._v(e._s(e.updateform.unit))])]),a("el-descriptions-item",{attrs:{label:"数量",labelStyle:"width:160px"}},[a("span",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"产品数量"},model:{value:e.updateform.cnt,callback:function(t){e.$set(e.updateform,"cnt",t)},expression:"updateform.cnt"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"报损金额(元)",labelStyle:"width:160px"}},[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"报损金额"},model:{value:e.updateform.money,callback:function(t){e.$set(e.updateform,"money",t)},expression:"updateform.money"}})],1)],1),a("el-descriptions-item",{attrs:{label:"仓库",labelStyle:"width:160px"}},[a("el-form-item",{attrs:{required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.updateform.storeId,callback:function(t){e.$set(e.updateform,"storeId",t)},expression:"updateform.storeId"}},e._l(e.storeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1)],1),a("el-descriptions-item",{attrs:{label:"批号"}},[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"请输入批号"},model:{value:e.updateform.batchCode,callback:function(t){e.$set(e.updateform,"batchCode",t)},expression:"updateform.batchCode"}})],1)],1),a("el-descriptions-item",{attrs:{label:"生产日期"}},[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择生产日期"},model:{value:e.updateform.createDate,callback:function(t){e.$set(e.updateform,"createDate",t)},expression:"updateform.createDate"}})],1)],1),a("el-descriptions-item",{attrs:{label:"有效期"}},[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择有效期"},model:{value:e.updateform.validDate,callback:function(t){e.$set(e.updateform,"validDate",t)},expression:"updateform.validDate"}})],1)],1)],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFormUpdate}},[e._v("确 定")]),a("el-button",{on:{click:function(t){e.updateBool=!1}}},[e._v("取 消")])],1)],1),e.show?a("SelectGoods",{attrs:{title:"选择商品",show:e.show},on:{confirm:e.confirmSelectGood,close:function(t){e.show=!1}}}):e._e()],1)},o=[],l=a("0344"),i=(a("6540"),a("1d7a"),a("151f")),s=a("535d"),n=a("83f1"),c=a("a6db"),u={components:{SelectGoods:c["a"]},data:function(){return{updateBool:!1,queryParamsOrder:{pageNum:1,pageSize:10,productName:void 0,orderId:""},updateform:{},goodList:[],detailTotal:0,loadingGood:!1,showDetail:!1,currentOrder:{},show:!1,detailform:{},detailBool:!1,userList:[],options:[],loading:!1,showSearch:!0,total:0,postList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,orderCode:"",status:"已报损,审核拒绝"},form:{costMoney:"",note:"",purchasor:"",money:""},rules:{note:[{required:!0,message:"报损原因不能为空",trigger:"change"},{required:!0,message:"报损原因不能为空",trigger:"blur"}],costMoney:[{required:!0,message:"报损金额不能为空",trigger:"change"},{required:!0,message:"报损金额不能为空",trigger:"blur"}],purchasor:[{required:!0,message:"经办人员不能为空",trigger:"blur"}],money:[{required:!0,message:"总金额不能为空",trigger:"blur"}]},currentDetail:[{cnt:"",money:"",storeId:"",batchCode:"",createDate:"",validDate:"",productId:""}],storeList:[]}},created:function(){this.getList(),this.supplierList(),this.companyUserList(),this.getstoreList()},methods:{submitFormUpdate:function(){var e=this;Object(i["f"])(this.updateform).then((function(t){e.$modal.msgSuccess("修改成功"),e.updateBool=!1,e.getDetailList()}))},submitLoss:function(e){var t=this;Object(i["l"])({objectId:e.objectId}).then((function(e){t.msgSuccess("提交成功"),t.getList()}))},handleUpdateDetail:function(e){var t=this;Object(i["g"])(e.objectId).then((function(e){t.updateform=e.data,t.updateBool=!0}))},handleDeleteDetail:function(e){var t=this;this.$modal.confirm("是否确认删除该数据项？").then((function(){return Object(i["d"])(e.objectId)})).then((function(){t.getDetailList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},getstoreList:function(){var e=this;Object(n["O"])({companyId:this.$store.state.user.companyInfo.companyId}).then((function(t){e.storeList=t.data}))},submitFormDetail:function(){var e=this;console.log(this.currentDetail);var t={},a=[];this.currentDetail.map((function(e){a.push({cnt:e.cnt,money:e.money,storeId:e.storeId,batchCode:e.batchCode,createDate:e.createDate,validDate:e.validDate,productId:e.objectId})})),t.objectId=this.currentOrder.objectId,t.itemList=a,Object(i["b"])(t).then((function(t){console.log(t),e.$modal.msgSuccess("新增成功"),e.detailBool=!1,e.getDetailList()}))},handleQueryOrder:function(){this.queryParams.pageNum=1,this.getDetailList()},getDetailList:function(){var e=this;this.loadingGood=!0,Object(i["h"])(this.queryParamsOrder).then((function(t){e.goodList=t.rows,e.detailTotal=t.total,e.loadingGood=!1}))},confirmSelectGood:function(e){this.$set(this,"currentDetail",Object(l["a"])(e)),this.$forceUpdate(),this.show=!1,this.detailBool=!0},lookDetail:function(e){this.currentOrder=e,this.resetDetail(),this.queryParamsOrder.orderId=e.objectId,this.showDetail=!0,this.getDetailList()},addDetail:function(){this.show=!0},selectSupplier:function(e){this.form.supplier=e.name,this.form.supplierId=e.objectId},getList:function(){var e=this;this.loading=!0,Object(i["j"])(this.queryParams).then((function(t){e.postList=t.rows,e.total=t.total,e.loading=!1}))},supplierList:function(){var e=this;Object(s["e"])().then((function(t){e.options=t.data}))},companyUserList:function(){var e=this;console.log(this.$store.state),Object(n["g"])({companyId:this.$store.state.user.companyInfo.companyId}).then((function(t){e.userList=t.data}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={costMoney:"",note:"",purchasor:"",money:""},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQueryOrder:function(){this.queryParamsOrder.pageNum=1,this.queryParamsOrder.productName="",this.getDetailList()},resetDetail:function(){this.queryParamsOrder={pageNum:1,pageSize:10,productName:"",orderId:""}},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加报损"},handleUpdate:function(e){var t=this;this.reset(),Object(i["i"])(e.objectId).then((function(e){t.form=e.data,t.open=!0,t.title="修改报损信息"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.objectId?Object(i["e"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(i["a"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.showDetail=!0,e.getList()})))}))},handleDelete:function(e){var t=this;this.$modal.confirm("是否确认删除该数据项？").then((function(){return Object(i["c"])(e.objectId)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))}}},d=u,m=(a("52f4"),a("cba8")),p=Object(m["a"])(d,r,o,!1,null,"cedf6016",null);t["default"]=p.exports},"13f6":function(e,t,a){},"151f":function(e,t,a){"use strict";a.d(t,"j",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"e",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"i",(function(){return n})),a.d(t,"h",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"d",(function(){return m})),a.d(t,"g",(function(){return p})),a.d(t,"l",(function(){return f})),a.d(t,"k",(function(){return h}));var r=a("b775");function o(e){return Object(r["a"])({url:"/store/st-loss-lossOrder/list",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/store/st-loss-lossOrder/add",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/store/st-loss-lossOrder/edit",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/store/st-loss-lossOrder/delete/".concat(e),method:"get"})}function n(e){return Object(r["a"])({url:"/store/st-loss-lossOrder/get/".concat(e),method:"get"})}function c(e){return Object(r["a"])({url:"/store/st-loss-lossOrderItem-item/list",method:"get",params:e})}function u(e){return Object(r["a"])({url:"/store/st-loss-lossOrderItem-item/add",method:"post",data:e})}function d(e){return Object(r["a"])({url:"/store/st-loss-lossOrderItem-item/edit",method:"post",data:e})}function m(e){return Object(r["a"])({url:"/store/st-loss-lossOrderItem-item/delete/".concat(e),method:"get"})}function p(e){return Object(r["a"])({url:"/store/st-loss-lossOrderItem-item/get/".concat(e),method:"get"})}function f(e){return Object(r["a"])({url:"/store/st-loss-lossOrder/submit",method:"post",data:e})}function h(e){return Object(r["a"])({url:"/store/st-loss-lossOrder/verify",method:"post",data:e})}},"164b":function(e,t,a){},"164b8":function(e,t,a){},"166e":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"商品名称",prop:"proName"}},[a("el-input",{attrs:{placeholder:"请输入商品名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.proName,callback:function(t){e.$set(e.queryParams,"proName",t)},expression:"queryParams.proName"}})],1),a("el-form-item",{attrs:{label:"仓库",prop:"storeId"}},[a("el-select",{attrs:{placeholder:"请选择仓库"},model:{value:e.queryParams.storeId,callback:function(t){e.$set(e.queryParams,"storeId",t)},expression:"queryParams.storeId"}},e._l(e.storeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList}},[a("el-table-column",{attrs:{label:"商品名称",align:"center",prop:"NAME"}}),a("el-table-column",{attrs:{label:"所属仓库",align:"center",prop:"STORE_NAME"}}),a("el-table-column",{attrs:{label:"商品单价(元)",align:"center",prop:"PRICE"}}),a("el-table-column",{attrs:{label:"当前库存",align:"center",prop:"CNT"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("库存流水")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{visible:e.open,width:"50%",title:"库存流水","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t},close:e.cancel}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingRecord,expression:"loadingRecord"}],attrs:{data:e.postListRecord}},[a("el-table-column",{attrs:{label:"商品名称",align:"center",prop:"productName"}}),a("el-table-column",{attrs:{label:"数量",align:"center",prop:"cnt"}}),a("el-table-column",{attrs:{label:"出入库",align:"center",prop:"type"}}),a("el-table-column",{attrs:{label:"时间",align:"center",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalRecord>0,expression:"totalRecord>0"}],attrs:{total:e.totalRecord,page:e.queryParamsRecord.pageNum,limit:e.queryParamsRecord.pageSize},on:{"update:page":function(t){return e.$set(e.queryParamsRecord,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParamsRecord,"pageSize",t)},pagination:e.getListRecord}})],1)],1)},o=[],l=(a("1d7a"),a("b775"));function i(e){return Object(l["a"])({url:"/store/st-store-item/listProduct",method:"get",params:e})}function s(e){return Object(l["a"])({url:"/store/st-store-item-flow/list",method:"get",params:e})}var n=a("83f1"),c={name:"Post",data:function(){return{loading:!1,loadingRecord:!1,showSearch:!0,total:0,totalRecord:0,postList:[],postListRecord:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,proName:void 0,storeId:void 0},queryParamsRecord:{pageNum:1,pageSize:10,name:void 0,productId:""},storeList:[]}},created:function(){this.getList(),this.getstoreList()},methods:{getstoreList:function(){var e=this;Object(n["O"])({companyId:this.$store.state.user.companyInfo.companyId}).then((function(t){e.storeList=t.data}))},getList:function(){var e=this;this.loading=!0,i(this.queryParams).then((function(t){e.postList=t.rows,e.total=t.total,e.loading=!1}))},handleUpdate:function(e){this.resetForm("queryParamsRecord"),this.queryParamsRecord.productId=e.PRODUCT_ID,this.getListRecord()},getListRecord:function(){var e=this;this.loadingRecord=!0,s(this.queryParamsRecord).then((function(t){e.postListRecord=t.rows,e.totalRecord=t.total,e.loadingRecord=!1,e.open=!0}))},cancel:function(){this.open=!1},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleDelete:function(e){var t=this;this.$modal.confirm('是否确认删除客户"'+e.name+'"的数据项？').then((function(){return deleteCompanyCustomer(e.objectId)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))}}},u=c,d=(a("b744"),a("cba8")),m=Object(d["a"])(u,r,o,!1,null,"51ae94eb",null);t["default"]=m.exports},"17b3":function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return n}));var r=a("b775");function o(e){return Object(r["a"])({url:"/store/st-product-cate/tree",method:"get",data:e})}function l(e){return Object(r["a"])({url:"/store/st-product-cate/add",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/store/st-product-cate/get/"+e,method:"get"})}function s(e){return Object(r["a"])({url:"/store/st-product-cate/edit",method:"post",data:e})}function n(e){return Object(r["a"])({url:"/store/st-product-cate/delete/"+e,method:"get"})}},"18d4":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("h4",{staticStyle:{"text-align":"center"}},[e._v(" "+e._s(e.companyInfo.templateName+"检查结果"))]),a("el-form",{ref:"companyInfo",attrs:{model:e.companyInfo}},[a("table",{staticClass:"tableStyle tCenter"},[a("tbody",[a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("被检查单位名称")]),a("td",{staticClass:"tableContent"},[a("el-form-item",[a("el-input",{attrs:{readonly:"",placeholder:"请输入内容"},model:{value:e.companyInfo.companyName,callback:function(t){e.$set(e.companyInfo,"companyName",t)},expression:"companyInfo.companyName"}})],1)],1),a("td",{staticClass:"tableTitle tableTitle1"},[e._v("经营地址")]),a("td",{staticClass:"tableContent"},[a("el-form-item",[a("el-input",{attrs:{readonly:"",placeholder:"请输入内容"},model:{value:e.companyInfo.address,callback:function(t){e.$set(e.companyInfo,"address",t)},expression:"companyInfo.address"}})],1)],1)]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("法定代表人（负责人）")]),a("td",{staticClass:"tableContent"},[a("el-form-item",[a("el-input",{attrs:{readonly:"",placeholder:"请输入内容"},model:{value:e.companyInfo.leader,callback:function(t){e.$set(e.companyInfo,"leader",t)},expression:"companyInfo.leader"}})],1)],1),a("td",{staticClass:"tableTitle tableTitle1"},[e._v("电话")]),a("td",{staticClass:"tableContent"},[a("el-form-item",[a("el-input",{attrs:{readonly:"",placeholder:"请输入内容"},model:{value:e.companyInfo.mobile,callback:function(t){e.$set(e.companyInfo,"mobile",t)},expression:"companyInfo.mobile"}})],1)],1)]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("检查人员")]),a("td",{staticClass:"tableContent"},[a("el-form-item",[a("div",[e._v(e._s((e.companyInfo.userIdAName?e.companyInfo.userIdAName+",":"")+e.companyInfo.userIdBName))])])],1)]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("检查时间 ")]),a("td",{staticClass:"tableContent"},[a("el-form-item",[a("el-date-picker",{attrs:{readonly:"",type:"datetime",placeholder:"选择日期时间"},model:{value:e.companyInfo.ctimeStart,callback:function(t){e.$set(e.companyInfo,"ctimeStart",t)},expression:"companyInfo.ctimeStart"}})],1)],1),a("td",{staticClass:"tableTitle tableTitle1"},[e._v("至 ")]),a("td",{staticClass:"tableContent"},[a("el-form-item",[a("el-date-picker",{attrs:{readonly:"",type:"datetime",placeholder:"选择日期时间"},model:{value:e.companyInfo.ctimeEnd,callback:function(t){e.$set(e.companyInfo,"ctimeEnd",t)},expression:"companyInfo.ctimeEnd"}})],1)],1)]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("处理意见")]),a("td",{staticClass:"tableContent",attrs:{colspan:"3"}},[a("el-form-item",[a("el-radio-group",{attrs:{disabled:""},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.resultList,(function(t){return a("el-radio",{key:t.objectId,attrs:{label:t}},[e._v(e._s(t))])})),1)],1)],1)])])])]),a("table",{ref:"checkTable",staticClass:"tableStyle tCenter",attrs:{id:"checkTable"}},[e._m(0),a("tbody",[e._l(e.list,(function(t,r){return e._l(t.contentList,(function(o,l){return a("tr",{key:r+""+l},[0==l?a("td",{staticClass:"tableTitle tableTitle1",attrs:{rowspan:t.contentList.length}},[e._v(" "+e._s(t.name)+" ")]):e._e(),a("td",{staticClass:"tableContent"},[e._v(" "+e._s(o.content)+" ")]),a("td",{staticClass:"tableContent center"},[a("span",[e._v(e._s(o.value))])]),a("td",{staticClass:"tableContent center"},[a("span",[e._v(e._s(o.currentValue))])]),a("td",{staticClass:"tableContent center"},[a("span",[e._v(e._s("是"==o.isCrux?"重点项":"一般项"))])])])}))})),a("tr",[a("td",{staticClass:"tableContent ",attrs:{colspan:"4"}},[e._v(e._s("本次监督检查按照检查要点共检查了("+e.length+")项内容;其中发现问题重点项("+e.keyLength+")项,发现一般问题项("+e.generalLength+")项。"))])]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1",staticStyle:{"text-align":"left"},attrs:{colspan:5}},[e._v("说明：主要填写发现的问题和处理(整改)意见")])]),a("tr",[a("td",{staticClass:"tableContent",attrs:{colspan:5}},[a("el-input",{attrs:{readonly:"",type:"textarea",autosize:{minRows:3},placeholder:""},model:{value:e.companyInfo.view,callback:function(t){e.$set(e.companyInfo,"view",t)},expression:"companyInfo.view"}})],1)])],2)])],1)},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("td",{staticClass:"tableTitle tableTitle1 center"},[e._v("检查项目")]),a("td",{staticClass:"tableTitle tableTitle1 center"},[e._v(" 检查内容")]),a("td",{staticClass:"tableTitle tableTitle1 center"},[e._v("分值")]),a("td",{staticClass:"tableTitle tableTitle1 center"},[e._v("检查结果")]),a("td",{staticClass:"tableTitle tableTitle1 center"},[e._v("分类")])])])}],l=(a("6540"),a("83f1")),i=a("89e6"),s={props:{},data:function(){return{form:{},list:[],companyInfo:{},defaultCount:0,defaultValue:0,score:0,scoreCnt:"",resultList:["整改","立案","当场行政处罚","通过"],result:"",length:0,keyLength:0,generalLength:0,companyId:"",templateId:"",currentId:""}},created:function(){this.companyId=this.$route.query.companyId,this.templateId=this.$route.query.templateId,this.currentId=this.$route.query.currentId},mounted:function(){this.getCheckDetail()},methods:{companyGet:function(){var e=this;Object(l["e"])(this.companyId).then((function(t){e.companyInfo=t.data}))},getCheckDetail:function(){var e=this;Object(i["c"])(this.currentId).then((function(t){e.companyInfo=t.data,e.result=t.data.result,e.list=JSON.parse(t.data.templateJson);var a=0,r=0,o=0,l=0,i=0,s=0,n=0;e.list.map((function(e){i+=e.contentList.length,e.contentList.map((function(e){"否"==e.currentValue&&("是"==e.isCurx?s+=1:n+=1)}))})),e.score=o,e.defaultCount=a,e.defaultValue=r,e.scoreCnt=l,e.length=i,e.keyLength=s,e.generalLength=n}))},back:function(){this.$emit("back")}}},n=s,c=(a("d31f"),a("cba8")),u=Object(c["a"])(n,r,o,!1,null,"60d5ab04",null);t["default"]=u.exports},"18f1":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3}},on:{input:e.input},model:{value:e.comIntroduction,callback:function(t){e.comIntroduction=t},expression:"comIntroduction"}})],1)},o=[],l={props:{value:{type:String,required:!0}},data:function(){return{comIntroduction:""}},methods:{input:function(e){this.$emit("comIntroduction",this.comIntroduction)}},watch:{value:function(){this.comIntroduction=this.value}}},i=l,s=a("cba8"),n=Object(s["a"])(i,r,o,!1,null,"2e9730a6",null);t["default"]=n.exports},1967:function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return n}));var r=a("b775");function o(e){return Object(r["a"])({url:"/store/st-unit/list",method:"get",data:e})}function l(e){return Object(r["a"])({url:"/store/st-unit/add",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/store/st-unit/get/"+e,method:"get"})}function s(e){return Object(r["a"])({url:"/store/st-unit/edit",method:"post",data:e})}function n(e){return Object(r["a"])({url:"/store/st-unit/delete/"+e,method:"get"})}},"1a27":function(e,t,a){},"1a2c":function(e,t,a){"use strict";a("2adf")},"1a59":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a("b775");function o(e){return Object(r["a"])({url:"/base/area/tree",method:"get",params:e})}},"1c15":function(e,t,a){},"1e4b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container home"})},o=[],l={name:"Index",data:function(){return{version:"3.7.0"}},methods:{goTarget:function(e){window.open(e,"_blank")}}},i=l,s=(a("d105"),a("cba8")),n=Object(s["a"])(i,r,o,!1,null,"5bebda90",null);t["default"]=n.exports},"1e8b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.user,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户昵称",prop:"nickName"}},[a("el-input",{attrs:{maxlength:"30"},model:{value:e.user.nickName,callback:function(t){e.$set(e.user,"nickName",t)},expression:"user.nickName"}})],1),a("el-form-item",{attrs:{label:"手机号码",prop:"phonenumber"}},[a("el-input",{attrs:{maxlength:"11"},model:{value:e.user.phonenumber,callback:function(t){e.$set(e.user,"phonenumber",t)},expression:"user.phonenumber"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{maxlength:"50"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),a("el-form-item",{attrs:{label:"性别"}},[a("el-radio-group",{model:{value:e.user.sex,callback:function(t){e.$set(e.user,"sex",t)},expression:"user.sex"}},[a("el-radio",{attrs:{label:"0"}},[e._v("男")]),a("el-radio",{attrs:{label:"1"}},[e._v("女")])],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.close}},[e._v("关闭")])],1)],1)},o=[],l=a("c0c7"),i={props:{user:{type:Object}},data:function(){return{rules:{nickName:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱地址不能为空",trigger:"blur"},{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phonenumber:[{required:!0,message:"手机号码不能为空",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.$refs["form"].validate((function(t){t&&Object(l["m"])(e.user).then((function(t){e.$modal.msgSuccess("修改成功")}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/index"})}}},s=i,n=a("cba8"),c=Object(n["a"])(s,r,o,!1,null,null,null);t["default"]=c.exports},"1efb":function(e,t,a){"use strict";a("2a73")},"1f07":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAYCAYAAAD3Va0xAAABSUlEQVQ4jbXTP0sdURCH4Ue9ICIIQRHSCoKpRAhREb+AnY2NFoKNkCAW6SMS8AOIhUUaG8FCrewVIQjp0qQTbSRRAgkGRVTCgRGWZe9e16s/GGZ2zpz3zPmzLZ2T+wpUwxxmMBjD37GBL7jNTykC9WAXY0Ur4BsmcJ5NtuaK0vd2QH7hA/rC5nGGt9iJruuCpjAekHdYw3HYOkYClhaaLQPNhF/GScG2TvEpV1sIGgq/VwCRG3tTBuoM/7sE9Cd8dzZZK64t1SVW8a9ZUNJCPpFArzAd22qP/CKuK3S4mR7kYcnje6y+1jKQA1xUBLzGaLLsGX3EfUVQG47krr8qJOnuIci/oyer0fV3YSDiH/hbr7ARaAXDEaezeP9U0H509RDXVSPQVlhDPdthv8it9eNnxfm9WdAVOtKP10RDN2lrSyloAnKLz/8B0Lw5YVed/kUAAAAASUVORK5CYII="},"1f34":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4,xs:24}},[a("div",{staticClass:"head-container"},[a("el-input",{staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"请输入部门名称",clearable:"",size:"small","prefix-icon":"el-icon-search"},model:{value:e.deptName,callback:function(t){e.deptName=t},expression:"deptName"}})],1),a("div",{staticClass:"head-container"},[a("el-tree",{ref:"tree",attrs:{data:e.deptOptions,props:e.defaultProps,"expand-on-click-node":!1,"filter-node-method":e.filterNode,"default-expand-all":""},on:{"node-click":e.handleNodeClick}})],1)]),a("el-col",{attrs:{span:20,xs:24}},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),a("el-form-item",{attrs:{label:"手机号码",prop:"phonenumber"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入手机号码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.phonenumber,callback:function(t){e.$set(e.queryParams,"phonenumber",t)},expression:"queryParams.phonenumber"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"用户状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.dict.type.sys_normal_disable,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:add"],expression:"['system:user:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:edit"],expression:"['system:user:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:remove"],expression:"['system:user:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:import"],expression:"['system:user:import']"}],attrs:{type:"info",plain:"",icon:"el-icon-upload2",size:"mini"},on:{click:e.handleImport}},[e._v("导入")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:export"],expression:"['system:user:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch,columns:e.columns},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.userList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),e.columns[0].visible?a("el-table-column",{key:"userId",attrs:{label:"用户编号",align:"center",prop:"userId"}}):e._e(),e.columns[1].visible?a("el-table-column",{key:"userName",attrs:{label:"用户名称",align:"center",prop:"userName","show-overflow-tooltip":!0}}):e._e(),e.columns[2].visible?a("el-table-column",{key:"nickName",attrs:{label:"用户昵称",align:"center",prop:"nickName","show-overflow-tooltip":!0}}):e._e(),e.columns[3].visible?a("el-table-column",{key:"deptName",attrs:{label:"部门",align:"center",prop:"dept.deptName","show-overflow-tooltip":!0}}):e._e(),e.columns[4].visible?a("el-table-column",{key:"phonenumber",attrs:{label:"手机号码",align:"center",prop:"phonenumber",width:"120"}}):e._e(),e.columns[5].visible?a("el-table-column",{key:"status",attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"0","inactive-value":"1"},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}],null,!1,3955094654)}):e._e(),e.columns[6].visible?a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}],null,!1,3078210614)}):e._e(),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return 1!==t.row.userId?[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:edit"],expression:"['system:user:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:remove"],expression:"['system:user:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]),a("el-dropdown",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:resetPwd","system:user:edit"],expression:"['system:user:resetPwd', 'system:user:edit']"}],attrs:{size:"mini"},on:{command:function(a){return e.handleCommand(a,t.row)}}},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"el-icon-d-arrow-right el-icon--right"}),e._v("更多 ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:resetPwd"],expression:"['system:user:resetPwd']"}],attrs:{command:"handleResetPwd",icon:"el-icon-key"}},[e._v("重置密码")]),a("el-dropdown-item",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:edit"],expression:"['system:user:edit']"}],attrs:{command:"handleAuthRole",icon:"el-icon-circle-check"}},[e._v("分配角色")])],1)],1)]:void 0}}],null,!0)})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户昵称",prop:"nickName"}},[a("el-input",{attrs:{placeholder:"请输入用户昵称",maxlength:"30"},model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"归属部门",prop:"deptId"}},[a("treeselect",{attrs:{options:e.deptOptions,"show-count":!0,placeholder:"请选择归属部门"},model:{value:e.form.deptId,callback:function(t){e.$set(e.form,"deptId",t)},expression:"form.deptId"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号码",prop:"phonenumber"}},[a("el-input",{attrs:{placeholder:"请输入手机号码",maxlength:"11"},model:{value:e.form.phonenumber,callback:function(t){e.$set(e.form,"phonenumber",t)},expression:"form.phonenumber"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱",maxlength:"50"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[void 0==e.form.userId?a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户名称",maxlength:"30"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1):e._e()],1),a("el-col",{attrs:{span:12}},[void 0==e.form.userId?a("el-form-item",{attrs:{label:"用户密码",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入用户密码",type:"password",maxlength:"20","show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e()],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户性别"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},e._l(e.dict.type.sys_user_sex,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.dict.type.sys_normal_disable,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"岗位"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.form.postIds,callback:function(t){e.$set(e.form,"postIds",t)},expression:"form.postIds"}},e._l(e.postOptions,(function(e){return a("el-option",{key:e.postId,attrs:{label:e.postName,value:e.postId,disabled:1==e.status}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"角色"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.form.roleIds,callback:function(t){e.$set(e.form,"roleIds",t)},expression:"form.roleIds"}},e._l(e.roleOptions,(function(e){return a("el-option",{key:e.roleId,attrs:{label:e.roleName,value:e.roleId,disabled:1==e.status}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:e.upload.title,visible:e.upload.open,width:"400px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){return e.$set(e.upload,"open",t)}}},[a("el-upload",{ref:"upload",attrs:{limit:1,accept:".xlsx, .xls",headers:e.upload.headers,action:e.upload.url+"?updateSupport="+e.upload.updateSupport,disabled:e.upload.isUploading,"on-progress":e.handleFileUploadProgress,"on-success":e.handleFileSuccess,"auto-upload":!1,drag:""}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),a("div",{staticClass:"el-upload__tip text-center",attrs:{slot:"tip"},slot:"tip"},[a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[a("el-checkbox",{model:{value:e.upload.updateSupport,callback:function(t){e.$set(e.upload,"updateSupport",t)},expression:"upload.updateSupport"}}),e._v(" 是否更新已经存在的用户数据 ")],1),a("span",[e._v("仅允许导入xls、xlsx格式文件。")]),a("el-link",{staticStyle:{"font-size":"12px","vertical-align":"baseline"},attrs:{type:"primary",underline:!1},on:{click:e.importTemplate}},[e._v("下载模板")])],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFileForm}},[e._v("确 定")]),a("el-button",{on:{click:function(t){e.upload.open=!1}}},[e._v("取 消")])],1)],1)],1)},o=[],l=(a("cb3c"),a("6540"),a("1d7a"),a("c0c7")),i=a("5f87"),s=a("fcb7"),n=a("7d66"),c=a.n(n),u=(a("5166"),{name:"User",dicts:["sys_normal_disable","sys_user_sex"],components:{Treeselect:c.a},data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,userList:null,title:"",deptOptions:void 0,open:!1,deptName:void 0,initPassword:void 0,dateRange:[],postOptions:[],roleOptions:[],form:{},defaultProps:{children:"children",label:"label"},upload:{open:!1,title:"",isUploading:!1,updateSupport:0,headers:{Authorization:"Bearer "+Object(i["a"])()},url:"/prod-api/system/user/importData"},queryParams:{pageNum:1,pageSize:10,userName:void 0,phonenumber:void 0,status:void 0,deptId:void 0},columns:[{key:0,label:"用户编号",visible:!0},{key:1,label:"用户名称",visible:!0},{key:2,label:"用户昵称",visible:!0},{key:3,label:"部门",visible:!0},{key:4,label:"手机号码",visible:!0},{key:5,label:"状态",visible:!0},{key:6,label:"创建时间",visible:!0}],rules:{userName:[{required:!0,message:"用户名称不能为空",trigger:"blur"},{min:2,max:20,message:"用户名称长度必须介于 2 和 20 之间",trigger:"blur"}],nickName:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}],password:[{required:!0,message:"用户密码不能为空",trigger:"blur"},{min:5,max:20,message:"用户密码长度必须介于 5 和 20 之间",trigger:"blur"}],email:[{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phonenumber:[{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},watch:{deptName:function(e){this.$refs.tree.filter(e)}},created:function(){var e=this;this.getList(),this.getTreeselect(),this.getConfigKey("sys.user.initPassword").then((function(t){e.initPassword=t.msg}))},methods:{getList:function(){var e=this;this.loading=!0,Object(l["i"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.userList=t.rows,e.total=t.total,e.loading=!1}))},getTreeselect:function(){var e=this;Object(s["g"])().then((function(t){e.deptOptions=t.data}))},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleNodeClick:function(e){this.queryParams.deptId=e.id,this.getList()},handleStatusChange:function(e){var t=this,a="0"===e.status?"启用":"停用";this.$modal.confirm('确认要"'+a+'""'+e.userName+'"用户吗？').then((function(){return Object(l["b"])(e.userId,e.status)})).then((function(){t.$modal.msgSuccess(a+"成功")})).catch((function(){e.status="0"===e.status?"1":"0"}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={userId:void 0,deptId:void 0,userName:void 0,nickName:void 0,password:void 0,phonenumber:void 0,email:void 0,sex:void 0,status:"0",remark:void 0,postIds:[],roleIds:[]},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.userId})),this.single=1!=e.length,this.multiple=!e.length},handleCommand:function(e,t){switch(e){case"handleResetPwd":this.handleResetPwd(t);break;case"handleAuthRole":this.handleAuthRole(t);break;default:break}},handleAdd:function(){var e=this;this.reset(),this.getTreeselect(),Object(l["f"])().then((function(t){e.postOptions=t.posts,e.roleOptions=t.roles,e.open=!0,e.title="添加用户",e.form.password=e.initPassword}))},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect();var a=e.userId||this.ids;Object(l["f"])(a).then((function(e){t.form=e.data,t.postOptions=e.posts,t.roleOptions=e.roles,t.form.postIds=e.postIds,t.form.roleIds=e.roleIds,t.open=!0,t.title="修改用户",t.form.password=""}))},handleResetPwd:function(e){var t=this;this.$prompt('请输入"'+e.userName+'"的新密码',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",closeOnClickModal:!1,inputPattern:/^.{5,20}$/,inputErrorMessage:"用户密码长度必须介于 5 和 20 之间"}).then((function(a){var r=a.value;Object(l["j"])(e.userId,r).then((function(e){t.$modal.msgSuccess("修改成功，新密码是："+r)}))})).catch((function(){}))},handleAuthRole:function(e){var t=e.userId;this.$router.push("/system/user-auth/role/"+t)},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.userId?Object(l["l"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(l["a"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.userId||this.ids;this.$modal.confirm('是否确认删除用户编号为"'+a+'"的数据项？').then((function(){return Object(l["c"])(a)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$modal.confirm("是否确认导出所有用户数据项？").then((function(){return e.exportLoading=!0,Object(l["d"])(t)})).then((function(t){e.$download.name(t.msg),e.exportLoading=!1})).catch((function(){}))},handleImport:function(){this.upload.title="用户导入",this.upload.open=!0},importTemplate:function(){var e=this;Object(l["h"])().then((function(t){e.$download.name(t.msg)}))},handleFileUploadProgress:function(e,t,a){this.upload.isUploading=!0},handleFileSuccess:function(e,t,a){this.upload.open=!1,this.upload.isUploading=!1,this.$refs.upload.clearFiles(),this.$alert(e.msg,"导入结果",{dangerouslyUseHTMLString:!0}),this.getList()},submitFileForm:function(){this.$refs.upload.submit()}}}),d=u,m=a("cba8"),p=Object(m["a"])(d,r,o,!1,null,null,null);t["default"]=p.exports},"202d":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"公告标题",prop:"noticeTitle"}},[a("el-input",{attrs:{placeholder:"请输入公告标题",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.noticeTitle,callback:function(t){e.$set(e.queryParams,"noticeTitle",t)},expression:"queryParams.noticeTitle"}})],1),a("el-form-item",{attrs:{label:"操作人员",prop:"createBy"}},[a("el-input",{attrs:{placeholder:"请输入操作人员",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.createBy,callback:function(t){e.$set(e.queryParams,"createBy",t)},expression:"queryParams.createBy"}})],1),a("el-form-item",{attrs:{label:"类型",prop:"noticeType"}},[a("el-select",{attrs:{placeholder:"公告类型",clearable:"",size:"small"},model:{value:e.queryParams.noticeType,callback:function(t){e.$set(e.queryParams,"noticeType",t)},expression:"queryParams.noticeType"}},e._l(e.dict.type.sys_notice_type,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:notice:add"],expression:"['system:notice:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:notice:edit"],expression:"['system:notice:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:notice:remove"],expression:"['system:notice:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.noticeList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"序号",align:"center",prop:"noticeId",width:"100"}}),a("el-table-column",{attrs:{label:"公告标题",align:"center",prop:"noticeTitle","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"公告类型",align:"center",prop:"noticeType",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("dict-tag",{attrs:{options:e.dict.type.sys_notice_type,value:t.row.noticeType}})]}}])}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("dict-tag",{attrs:{options:e.dict.type.sys_notice_status,value:t.row.status}})]}}])}),a("el-table-column",{attrs:{label:"创建者",align:"center",prop:"createBy",width:"100"}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime,"{y}-{m}-{d}")))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:notice:edit"],expression:"['system:notice:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:notice:remove"],expression:"['system:notice:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"780px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公告标题",prop:"noticeTitle"}},[a("el-input",{attrs:{placeholder:"请输入公告标题"},model:{value:e.form.noticeTitle,callback:function(t){e.$set(e.form,"noticeTitle",t)},expression:"form.noticeTitle"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公告类型",prop:"noticeType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.noticeType,callback:function(t){e.$set(e.form,"noticeType",t)},expression:"form.noticeType"}},e._l(e.dict.type.sys_notice_type,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.dict.type.sys_notice_status,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"内容"}},[a("editor",{attrs:{"min-height":192},model:{value:e.form.noticeContent,callback:function(t){e.$set(e.form,"noticeContent",t)},expression:"form.noticeContent"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},o=[],l=(a("6540"),a("b775"));function i(e){return Object(l["a"])({url:"/system/notice/list",method:"get",params:e})}function s(e){return Object(l["a"])({url:"/system/notice/"+e,method:"get"})}function n(e){return Object(l["a"])({url:"/system/notice",method:"post",data:e})}function c(e){return Object(l["a"])({url:"/system/notice",method:"put",data:e})}function u(e){return Object(l["a"])({url:"/system/notice/"+e,method:"delete"})}var d={name:"Notice",dicts:["sys_notice_status","sys_notice_type"],data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,noticeList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,noticeTitle:void 0,createBy:void 0,status:void 0},form:{},rules:{noticeTitle:[{required:!0,message:"公告标题不能为空",trigger:"blur"}],noticeType:[{required:!0,message:"公告类型不能为空",trigger:"change"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,i(this.queryParams).then((function(t){e.noticeList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={noticeId:void 0,noticeTitle:void 0,noticeType:void 0,noticeContent:void 0,status:"0"},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.noticeId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加公告"},handleUpdate:function(e){var t=this;this.reset();var a=e.noticeId||this.ids;s(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改公告"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.noticeId?c(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):n(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.noticeId||this.ids;this.$modal.confirm('是否确认删除公告编号为"'+a+'"的数据项？').then((function(){return u(a)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))}}},m=d,p=a("cba8"),f=Object(p["a"])(m,r,o,!1,null,null,null);t["default"]=f.exports},"20f2":function(e,t,a){},2102:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:24}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh-left",size:"mini"},on:{click:e.back}},[e._v("返回")])],1)],1),a("el-container",[a("el-main",[a("table",{staticClass:"table",attrs:{cellspacing:"0",cellpadding:"0"}},[a("thead",[a("tr",[a("td",{attrs:{colspan:"4"}},[e._v("基本信息")])])]),a("tbody",[a("tr",[a("td",{staticClass:"title"},[e._v("案件名称：")]),a("td",{attrs:{colspan:"3"}},[e._v(e._s(e.caseInfo.name))])]),a("tr",[a("td",{staticClass:"title"},[e._v("办案单位：")]),a("td",[e._v(e._s(e.caseInfo.dept_name))]),a("td",{staticClass:"title"},[e._v("立卷人：")]),a("td",[e._v(e._s(e.caseInfo.userNameUp))])]),a("tr",[a("td",{staticClass:"title"},[e._v("立案时间：")]),a("td",[e._v(e._s(e.parseTime(new Date(e.caseInfo.cadate))))]),a("td",{staticClass:"title"},[e._v("承办人：")]),a("td",[e._v(e._s(e.caseInfo.handlerNames))])]),a("tr",[a("td",{staticClass:"title"},[e._v("企业名称：")]),a("td",{attrs:{colspan:"3"}},[e._v(e._s(e.caseInfo.companyName))])]),a("tr",[a("td",{staticClass:"title"},[e._v("法人代表：")]),a("td",[e._v(e._s(e.caseInfo.leader))]),a("td",{staticClass:"title"},[e._v("(法)身份证号：")]),a("td",[e._v(e._s(e.caseInfo.leaderCardno))])]),a("tr",[a("td",{staticClass:"title"},[e._v("主体业态：")]),a("td",[e._v(e._s(e.caseInfo.USER_NAME_UP))]),a("td",{staticClass:"title"},[e._v("(法)联系方式：")]),a("td",[e._v(e._s(e.caseInfo.leaderMobile))])]),a("tr",[a("td",{staticClass:"title"},[e._v("地址：")]),a("td",[e._v(e._s(e.caseInfo.address))]),a("td",{staticClass:"title"},[e._v("邮编：")]),a("td",[e._v(e._s(e.caseInfo.postcode))])]),a("tr",[a("td",{staticClass:"title"},[e._v("案由：")]),a("td",{attrs:{colspan:"3"}},[e._v(e._s(e.caseInfo.reason))])])])]),a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("案件流程")])]),a("div",{staticClass:"text item"},[a("div",{staticClass:"process-list"},e._l(e.officialList,(function(t,r){return a("div",{key:t.objectId,staticClass:"process-list-item"},[a("div",{staticClass:"process-name"},[e._v(e._s(t.titleB))]),r!=e.officialList.length-1?a("div",{staticClass:"process-icon"},[a("i",{staticClass:"el-icon-right"})]):e._e()])})),0)])]),a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("案件内容")])]),a("div",{staticClass:"text item"},[a("div",{staticClass:"card-list"},e._l(e.officialList,(function(t,r){return a("div",{key:t.objectId,staticClass:"list-item"},[a("div",{staticClass:"number"},[e._v(e._s(r+1))]),a("div",{staticClass:"text"},[e._v(e._s(t.title))]),a("div",{staticClass:"mask"},[a("div",{staticClass:"mask-btn",on:{click:function(a){return e.lookCaseOfficial(t)}}},[e._v("查看文书")]),a("div",{staticClass:"mask-btn",on:{click:function(a){return e.lookList(t)}}},[e._v("附件列表")])])])})),0)])])],1)],1),a("el-dialog",{attrs:{title:"查看附件",visible:e.centerDialogVisible,width:"50%",center:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"fileName",label:"文件名",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"类型",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(t.row.fileName.substring(t.row.fileName.lastIndexOf(".")))+" ")])]}}])}),a("el-table-column",{attrs:{prop:"address",label:"上传时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e.parseTime(new Date(t.row.createTime)))+" ")])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticStyle:{color:"#409eff"},attrs:{href:e.baseUrl+t.row.fileUrl,download:""}},[e._v("下载")])]}}])})],1)],1),e.caseBool?a("iframe",{staticStyle:{width:"0",height:"0"},attrs:{src:e.fileUrl,frameborder:"0"}}):e._e()],1)},o=[],l=a("79b1"),i={props:{id:{type:String,default:""}},data:function(){return{fileUrl:"",caseBool:!1,caseInfo:{},centerDialogVisible:!1,tableData:[],officialList:[],baseUrl:"/prod-api"}},created:function(){this.getDetail(),this.getCaseOfficialList()},methods:{lookList:function(e){this.tableData=e.list2,this.centerDialogVisible=!0},lookCaseOfficial:function(e){var t=this;console.log(e),this.fileUrl="http://kwatch.360999.top//office/index?isEdit=false&file=http://kwatch.360999.top/prod-api"+e.fileUrl,this.caseBool=!0,setTimeout((function(){t.caseBool=!1}),500)},getCaseOfficialList:function(){var e=this;Object(l["e"])({caseId:this.id}).then((function(t){e.officialList=t.data}))},getDetail:function(){var e=this;Object(l["c"])(this.id).then((function(t){e.caseInfo=t.data.case,e.caseInfo.handlerNames=t.data.handlerNames}))},download:function(e){console.log(e),window.location.href="/prod-api"+e.fileUrl},handleExport:function(){},handleUpdate:function(){},back:function(){this.$emit("back")}}},s=i,n=(a("25cf"),a("cba8")),c=Object(n["a"])(s,r,o,!1,null,"14a4cd12",null);t["default"]=c.exports},2113:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("h2",[e._v("投诉详情")]),a("el-divider"),a("el-form",{ref:"form",attrs:{"label-width":"0px",model:e.form,rules:e.rule}},[a("el-descriptions",{staticClass:"table",attrs:{column:2,border:""}},[a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 事发企业 ")]),a("el-form-item",{attrs:{prop:"compName",required:""}},[a("span",[e._v(e._s(e.form.compName))])])],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 事件名称 ")]),a("el-form-item",{attrs:{prop:"caseName",required:""}},[a("span",[e._v(e._s(e.form.caseName))])])],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 事件地点 ")]),a("el-form-item",{attrs:{prop:"caseAdress",required:""}},[a("span",[e._v(e._s(e.form.caseAdress))])])],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 类型 ")]),a("el-form-item",{attrs:{prop:"type",required:""}},[a("span",[e._v(e._s(e.form.type))])])],2),a("el-descriptions-item",{attrs:{span:2}},[a("template",{slot:"label"},[e._v(" 发生时间 ")]),a("el-form-item",{attrs:{prop:"startTime",required:""}},[a("span",[e._v(e._s(e.parseTime(new Date(e.form.startTime))))])])],2),a("el-descriptions-item",{attrs:{span:2}},[a("template",{slot:"label"},[e._v(" 基本情况 ")]),a("el-form-item",{attrs:{prop:"context",required:""}},[a("span",[e._v(e._s(e.form.context))])])],2),a("el-descriptions-item",{attrs:{span:2}},[a("template",{slot:"label"},[e._v(" 附件 ")]),a("el-form-item",{attrs:{prop:"fileUpload"}},[a("div",{staticClass:"fileList"},e._l(e.fileList,(function(t,r){return a("a",{key:r,attrs:{href:t.url}},[a("i",{staticClass:"el-icon-document"}),a("span",[e._v(e._s(t.name))])])})),0)])],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 报告人 ")]),a("el-form-item",{attrs:{prop:"reportName",required:""}},[a("span",[e._v(e._s(e.form.reportName))])])],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 联系方式 ")]),a("el-form-item",{attrs:{prop:"phone",required:""}},[a("span",[e._v(e._s(e.form.phone))])])],2)],1)],1)],1)},o=[],l=(a("cca2"),a("0bd5"),a("79a8"),a("1d7a"),a("5f87")),i=a("c77f"),s={data:function(){return{headers:{Authorization:"Bearer "+Object(l["a"])()},form:{compName:"",caseLevel:"4",reportName:"",caseAdress:"",startTime:"",context:"",phone:"",caseName:""},open:!1,size:"",fileUrl:"/prod-api/common/upload",fileList:[],rule:{compName:[{required:!0,message:"请输入事发企业",trigger:"blur"},{required:!0,message:"请输入事发企业",trigger:"change"}],caseName:[{required:!0,message:"请输入事件名称",trigger:"blur"},{required:!0,message:"请输入事件名称",trigger:"change"}],caseAdress:[{required:!0,message:"请输入事件地点",trigger:"blur"},{required:!0,message:"请输入事件地点",trigger:"change"}],startTime:[{required:!0,message:"请选择发生时间",trigger:"change"},{required:!0,message:"请选择发生时间",trigger:"blur"}],context:[{required:!0,message:"请输入基本内容",trigger:"blur"},{required:!0,message:"请输入基本内容",trigger:"change"}],phone:[{required:!0,message:"请输入联系方式",trigger:"blur"},{required:!0,message:"请输入联系方式",trigger:"change"}],caseLevel:[{required:!0,message:"请选择事件等级",trigger:"change"},{required:!0,message:"请选择事件等级",trigger:"blur"}],reportName:[{required:!0,message:"请输入报告人",trigger:"change"},{required:!0,message:"请输入报告人",trigger:"blur"}]},options:[],loading:!1}},mounted:function(){this.reportGet(this.$route.query.id)},methods:{remoteMethod:function(e){var t=this;t.loading=!0,Object(i["a"])({name:e}).then((function(e){t.loading=!1,t.options=e.data}))},submit:function(){var e=this;this.$refs["form"].validate((function(t){if(t)if(null!=e.form.objectId)Object(i["d"])(e.form).then((function(t){e.msgSuccess("修改成功")}));else{for(var a=[],r=0;r<e.fileList.length;r++)a.push(e.fileList[r].response.fileName);e.form.fileUpload=a.join(","),Object(i["b"])(e.form).then((function(t){e.msgSuccess("添加成功")}))}}))},closeSelectCompany:function(){this.open=!1},reportGet:function(e){var t=this;Object(i["e"])(e).then((function(e){if(t.form=e.data.complaint,e.data.complaint.fileUpload)for(var a=e.data.complaint.fileUpload.split(","),r=0;r<a.length;r++)t.fileList.push({name:a[r].substring(a[r].lastIndexOf("/")+1,a[r].length),url:"/prod-api"+a[r]})}))},selectCompany:function(e){this.open=!1,this.form.compName=e.name,this.form.companyId=e.objectId},handleRemove:function(e,t){console.log(e,t),this.fileList=t},handlePreview:function(e){console.log(e)},handleSuccess:function(e,t,a){console.log(e,a),this.fileList=a},beforeRemove:function(e,t){return this.$confirm("确定移除 ".concat(e.name,"？"))}}},n=s,c=(a("2f7d"),a("cba8")),u=Object(c["a"])(n,r,o,!1,null,"07a207ca",null);t["default"]=u.exports},"23b8":function(e,t,a){"use strict";a("05c4")},"25cf":function(e,t,a){"use strict";a("83f9")},"26a8":function(e,t,a){"use strict";a("d61d")},"26ab7":function(e,t,a){"use strict";a("42fb")},"26fc":function(e,t,a){e.exports=a.p+"static/img/404_cloud.0f4bc32b.png"},2754:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wscn-http404-container"},[a("div",{staticClass:"wscn-http404"},[e._m(0),a("div",{staticClass:"bullshit"},[a("div",{staticClass:"bullshit__oops"},[e._v(" 404错误! ")]),a("div",{staticClass:"bullshit__headline"},[e._v(" "+e._s(e.message)+" ")]),a("div",{staticClass:"bullshit__info"},[e._v(" 对不起，您正在寻找的页面不存在。尝试检查URL的错误，然后按浏览器上的刷新按钮或尝试在我们的应用程序中找到其他内容。 ")]),a("router-link",{staticClass:"bullshit__return-home",attrs:{to:"/"}},[e._v(" 返回首页 ")])],1)])])},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pic-404"},[r("img",{staticClass:"pic-404__parent",attrs:{src:a("a36b"),alt:"404"}}),r("img",{staticClass:"pic-404__child left",attrs:{src:a("26fc"),alt:"404"}}),r("img",{staticClass:"pic-404__child mid",attrs:{src:a("26fc"),alt:"404"}}),r("img",{staticClass:"pic-404__child right",attrs:{src:a("26fc"),alt:"404"}})])}],l={name:"Page404",computed:{message:function(){return"找不到网页！"}}},i=l,s=(a("61b6"),a("cba8")),n=Object(s["a"])(i,r,o,!1,null,"279ea4b2",null);t["default"]=n.exports},2855:function(e,t,a){"use strict";a.r(t);var r,o,l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"left-board"},[a("div",{staticClass:"logo-wrapper"},[a("div",{staticClass:"logo"},[a("img",{attrs:{src:e.logo,alt:"logo"}}),e._v(" Form Generator ")])]),a("el-scrollbar",{staticClass:"left-scrollbar"},[a("div",{staticClass:"components-list"},[a("div",{staticClass:"components-title"},[a("svg-icon",{attrs:{"icon-class":"component"}}),e._v("输入型组件 ")],1),a("draggable",{staticClass:"components-draggable",attrs:{list:e.inputComponents,group:{name:"componentsGroup",pull:"clone",put:!1},clone:e.cloneComponent,draggable:".components-item",sort:!1},on:{end:e.onEnd}},e._l(e.inputComponents,(function(t,r){return a("div",{key:r,staticClass:"components-item",on:{click:function(a){return e.addComponent(t)}}},[a("div",{staticClass:"components-body"},[a("svg-icon",{attrs:{"icon-class":t.tagIcon}}),e._v(" "+e._s(t.label)+" ")],1)])})),0),a("div",{staticClass:"components-title"},[a("svg-icon",{attrs:{"icon-class":"component"}}),e._v("选择型组件 ")],1),a("draggable",{staticClass:"components-draggable",attrs:{list:e.selectComponents,group:{name:"componentsGroup",pull:"clone",put:!1},clone:e.cloneComponent,draggable:".components-item",sort:!1},on:{end:e.onEnd}},e._l(e.selectComponents,(function(t,r){return a("div",{key:r,staticClass:"components-item",on:{click:function(a){return e.addComponent(t)}}},[a("div",{staticClass:"components-body"},[a("svg-icon",{attrs:{"icon-class":t.tagIcon}}),e._v(" "+e._s(t.label)+" ")],1)])})),0),a("div",{staticClass:"components-title"},[a("svg-icon",{attrs:{"icon-class":"component"}}),e._v(" 布局型组件 ")],1),a("draggable",{staticClass:"components-draggable",attrs:{list:e.layoutComponents,group:{name:"componentsGroup",pull:"clone",put:!1},clone:e.cloneComponent,draggable:".components-item",sort:!1},on:{end:e.onEnd}},e._l(e.layoutComponents,(function(t,r){return a("div",{key:r,staticClass:"components-item",on:{click:function(a){return e.addComponent(t)}}},[a("div",{staticClass:"components-body"},[a("svg-icon",{attrs:{"icon-class":t.tagIcon}}),e._v(" "+e._s(t.label)+" ")],1)])})),0)],1)])],1),a("div",{staticClass:"center-board"},[a("div",{staticClass:"action-bar"},[a("el-button",{attrs:{icon:"el-icon-download",type:"text"},on:{click:e.download}},[e._v(" 导出vue文件 ")]),a("el-button",{staticClass:"copy-btn-main",attrs:{icon:"el-icon-document-copy",type:"text"},on:{click:e.copy}},[e._v(" 复制代码 ")]),a("el-button",{staticClass:"delete-btn",attrs:{icon:"el-icon-delete",type:"text"},on:{click:e.empty}},[e._v(" 清空 ")])],1),a("el-scrollbar",{staticClass:"center-scrollbar"},[a("el-row",{staticClass:"center-board-row",attrs:{gutter:e.formConf.gutter}},[a("el-form",{attrs:{size:e.formConf.size,"label-position":e.formConf.labelPosition,disabled:e.formConf.disabled,"label-width":e.formConf.labelWidth+"px"}},[a("draggable",{staticClass:"drawing-board",attrs:{list:e.drawingList,animation:340,group:"componentsGroup"}},e._l(e.drawingList,(function(t,r){return a("draggable-item",{key:t.renderKey,attrs:{"drawing-list":e.drawingList,element:t,index:r,"active-id":e.activeId,"form-conf":e.formConf},on:{activeItem:e.activeFormItem,copyItem:e.drawingItemCopy,deleteItem:e.drawingItemDelete}})})),1),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.drawingList.length,expression:"!drawingList.length"}],staticClass:"empty-info"},[e._v(" 从左侧拖入或点选组件进行表单设计 ")])],1)],1)],1)],1),a("right-panel",{attrs:{"active-data":e.activeData,"form-conf":e.formConf,"show-field":!!e.drawingList.length},on:{"tag-change":e.tagChange}}),a("code-type-dialog",{attrs:{visible:e.dialogVisible,title:"选择生成类型","show-file-name":e.showFileName},on:{"update:visible":function(t){e.dialogVisible=t},confirm:e.generate}}),a("input",{attrs:{id:"copyNode",type:"hidden"}})],1)},i=[],s=a("83a7"),n=a("06c4"),c=(a("0bd5"),a("9b42"),a("6540"),a("989e"),a("270f"),a("fae2"),a("1f70"),a("3335")),u=a.n(c),d=a("4c63"),m=a.n(d),p=a("f348"),f=a.n(p),h=a("a85b"),b=a("766b"),v=a("2e2a"),g=a("ed08");a("445a"),a("cca2"),a("1d7a");function y(e){return'<el-dialog :close-on-click-modal="false" v-bind="$attrs" v-on="$listeners" @open="onOpen" @close="onClose" title="Dialog Titile">\n    '.concat(e,'\n    <div slot="footer">\n      <el-button @click="close">取消</el-button>\n      <el-button type="primary" @click="handelConfirm">确定</el-button>\n    </div>\n  </el-dialog>')}function k(e){return"<template>\n    <div>\n      ".concat(e,"\n    </div>\n  </template>")}function _(e){return"<script>\n    ".concat(e,"\n  <\/script>")}function w(e){return"<style>\n    ".concat(e,"\n  </style>")}function x(e,t,a){var r="";"right"!==e.labelPosition&&(r='label-position="'.concat(e.labelPosition,'"'));var l=e.disabled?':disabled="'.concat(e.disabled,'"'):"",i='<el-form ref="'.concat(e.formRef,'" :model="').concat(e.formModel,'" :rules="').concat(e.formRules,'" size="').concat(e.size,'" ').concat(l,' label-width="').concat(e.labelWidth,'px" ').concat(r,">\n      ").concat(t,"\n      ").concat(C(e,a),"\n    </el-form>");return o&&(i='<el-row :gutter="'.concat(e.gutter,'">\n        ').concat(i,"\n      </el-row>")),i}function C(e,t){var a="";return e.formBtns&&"file"===t&&(a='<el-form-item size="large">\n          <el-button type="primary" @click="submitForm">提交</el-button>\n          <el-button @click="resetForm">重置</el-button>\n        </el-form-item>',o&&(a='<el-col :span="24">\n          '.concat(a,"\n        </el-col>"))),a}function I(e,t){return o||24!==e.span?'<el-col :span="'.concat(e.span,'">\n      ').concat(t,"\n    </el-col>"):t}var S={colFormItem:function(e){var t="";e.labelWidth&&e.labelWidth!==r.labelWidth&&(t='label-width="'.concat(e.labelWidth,'px"'));var a=!v["e"][e.tag]&&e.required?"required":"",o=O[e.tag]?O[e.tag](e):null,l="<el-form-item ".concat(t,' label="').concat(e.label,'" prop="').concat(e.vModel,'" ').concat(a,">\n        ").concat(o,"\n      </el-form-item>");return l=I(e,l),l},rowFormItem:function(e){var t="default"===e.type?"":'type="'.concat(e.type,'"'),a="default"===e.type?"":'justify="'.concat(e.justify,'"'),r="default"===e.type?"":'align="'.concat(e.align,'"'),o=e.gutter?'gutter="'.concat(e.gutter,'"'):"",l=e.children.map((function(e){return S[e.layout](e)})),i="<el-row ".concat(t," ").concat(a," ").concat(r," ").concat(o,">\n      ").concat(l.join("\n"),"\n    </el-row>");return i=I(e,i),i}},O={"el-button":function(e){var t=j(e),a=(t.tag,t.disabled),r=e.type?'type="'.concat(e.type,'"'):"",o=e.icon?'icon="'.concat(e.icon,'"'):"",l=e.size?'size="'.concat(e.size,'"'):"",i=$(e);return i&&(i="\n".concat(i,"\n")),"<".concat(e.tag," ").concat(r," ").concat(o," ").concat(l," ").concat(a,">").concat(i,"</").concat(e.tag,">")},"el-input":function(e){var t=j(e),a=t.disabled,r=t.vModel,o=t.clearable,l=t.placeholder,i=t.width,s=e.maxlength?':maxlength="'.concat(e.maxlength,'"'):"",n=e["show-word-limit"]?"show-word-limit":"",c=e.readonly?"readonly":"",u=e["prefix-icon"]?"prefix-icon='".concat(e["prefix-icon"],"'"):"",d=e["suffix-icon"]?"suffix-icon='".concat(e["suffix-icon"],"'"):"",m=e["show-password"]?"show-password":"",p=e.type?'type="'.concat(e.type,'"'):"",f=e.autosize&&e.autosize.minRows?':autosize="{minRows: '.concat(e.autosize.minRows,", maxRows: ").concat(e.autosize.maxRows,'}"'):"",h=q(e);return h&&(h="\n".concat(h,"\n")),"<".concat(e.tag," ").concat(r," ").concat(p," ").concat(l," ").concat(s," ").concat(n," ").concat(c," ").concat(a," ").concat(o," ").concat(u," ").concat(d," ").concat(m," ").concat(f," ").concat(i,">").concat(h,"</").concat(e.tag,">")},"el-input-number":function(e){var t=j(e),a=t.disabled,r=t.vModel,o=t.placeholder,l=e["controls-position"]?"controls-position=".concat(e["controls-position"]):"",i=e.min?":min='".concat(e.min,"'"):"",s=e.max?":max='".concat(e.max,"'"):"",n=e.step?":step='".concat(e.step,"'"):"",c=e["step-strictly"]?"step-strictly":"",u=e.precision?":precision='".concat(e.precision,"'"):"";return"<".concat(e.tag," ").concat(r," ").concat(o," ").concat(n," ").concat(c," ").concat(u," ").concat(l," ").concat(i," ").concat(s," ").concat(a,"></").concat(e.tag,">")},"el-select":function(e){var t=j(e),a=t.disabled,r=t.vModel,o=t.clearable,l=t.placeholder,i=t.width,s=e.filterable?"filterable":"",n=e.multiple?"multiple":"",c=D(e);return c&&(c="\n".concat(c,"\n")),"<".concat(e.tag," ").concat(r," ").concat(l," ").concat(a," ").concat(n," ").concat(s," ").concat(o," ").concat(i,">").concat(c,"</").concat(e.tag,">")},"el-radio-group":function(e){var t=j(e),a=t.disabled,r=t.vModel,o='size="'.concat(e.size,'"'),l=N(e);return l&&(l="\n".concat(l,"\n")),"<".concat(e.tag," ").concat(r," ").concat(o," ").concat(a,">").concat(l,"</").concat(e.tag,">")},"el-checkbox-group":function(e){var t=j(e),a=t.disabled,r=t.vModel,o='size="'.concat(e.size,'"'),l=e.min?':min="'.concat(e.min,'"'):"",i=e.max?':max="'.concat(e.max,'"'):"",s=L(e);return s&&(s="\n".concat(s,"\n")),"<".concat(e.tag," ").concat(r," ").concat(l," ").concat(i," ").concat(o," ").concat(a,">").concat(s,"</").concat(e.tag,">")},"el-switch":function(e){var t=j(e),a=t.disabled,r=t.vModel,o=e["active-text"]?'active-text="'.concat(e["active-text"],'"'):"",l=e["inactive-text"]?'inactive-text="'.concat(e["inactive-text"],'"'):"",i=e["active-color"]?'active-color="'.concat(e["active-color"],'"'):"",s=e["inactive-color"]?'inactive-color="'.concat(e["inactive-color"],'"'):"",n=!0!==e["active-value"]?":active-value='".concat(JSON.stringify(e["active-value"]),"'"):"",c=!1!==e["inactive-value"]?":inactive-value='".concat(JSON.stringify(e["inactive-value"]),"'"):"";return"<".concat(e.tag," ").concat(r," ").concat(o," ").concat(l," ").concat(i," ").concat(s," ").concat(n," ").concat(c," ").concat(a,"></").concat(e.tag,">")},"el-cascader":function(e){var t=j(e),a=t.disabled,r=t.vModel,o=t.clearable,l=t.placeholder,i=t.width,s=e.options?':options="'.concat(e.vModel,'Options"'):"",n=e.props?':props="'.concat(e.vModel,'Props"'):"",c=e["show-all-levels"]?"":':show-all-levels="false"',u=e.filterable?"filterable":"",d="/"===e.separator?"":'separator="'.concat(e.separator,'"');return"<".concat(e.tag," ").concat(r," ").concat(s," ").concat(n," ").concat(i," ").concat(c," ").concat(l," ").concat(d," ").concat(u," ").concat(o," ").concat(a,"></").concat(e.tag,">")},"el-slider":function(e){var t=j(e),a=t.disabled,r=t.vModel,o=e.min?":min='".concat(e.min,"'"):"",l=e.max?":max='".concat(e.max,"'"):"",i=e.step?":step='".concat(e.step,"'"):"",s=e.range?"range":"",n=e["show-stops"]?':show-stops="'.concat(e["show-stops"],'"'):"";return"<".concat(e.tag," ").concat(o," ").concat(l," ").concat(i," ").concat(r," ").concat(s," ").concat(n," ").concat(a,"></").concat(e.tag,">")},"el-time-picker":function(e){var t=j(e),a=t.disabled,r=t.vModel,o=t.clearable,l=t.placeholder,i=t.width,s=e["start-placeholder"]?'start-placeholder="'.concat(e["start-placeholder"],'"'):"",n=e["end-placeholder"]?'end-placeholder="'.concat(e["end-placeholder"],'"'):"",c=e["range-separator"]?'range-separator="'.concat(e["range-separator"],'"'):"",u=e["is-range"]?"is-range":"",d=e.format?'format="'.concat(e.format,'"'):"",m=e["value-format"]?'value-format="'.concat(e["value-format"],'"'):"",p=e["picker-options"]?":picker-options='".concat(JSON.stringify(e["picker-options"]),"'"):"";return"<".concat(e.tag," ").concat(r," ").concat(u," ").concat(d," ").concat(m," ").concat(p," ").concat(i," ").concat(l," ").concat(s," ").concat(n," ").concat(c," ").concat(o," ").concat(a,"></").concat(e.tag,">")},"el-date-picker":function(e){var t=j(e),a=t.disabled,r=t.vModel,o=t.clearable,l=t.placeholder,i=t.width,s=e["start-placeholder"]?'start-placeholder="'.concat(e["start-placeholder"],'"'):"",n=e["end-placeholder"]?'end-placeholder="'.concat(e["end-placeholder"],'"'):"",c=e["range-separator"]?'range-separator="'.concat(e["range-separator"],'"'):"",u=e.format?'format="'.concat(e.format,'"'):"",d=e["value-format"]?'value-format="'.concat(e["value-format"],'"'):"",m="date"===e.type?"":'type="'.concat(e.type,'"'),p=e.readonly?"readonly":"";return"<".concat(e.tag," ").concat(m," ").concat(r," ").concat(u," ").concat(d," ").concat(i," ").concat(l," ").concat(s," ").concat(n," ").concat(c," ").concat(o," ").concat(p," ").concat(a,"></").concat(e.tag,">")},"el-rate":function(e){var t=j(e),a=t.disabled,r=t.vModel,o=(e.max&&":max='".concat(e.max,"'"),e["allow-half"]?"allow-half":""),l=e["show-text"]?"show-text":"",i=e["show-score"]?"show-score":"";return"<".concat(e.tag," ").concat(r," ").concat(o," ").concat(l," ").concat(i," ").concat(a,"></").concat(e.tag,">")},"el-color-picker":function(e){var t=j(e),a=t.disabled,r=t.vModel,o='size="'.concat(e.size,'"'),l=e["show-alpha"]?"show-alpha":"",i=e["color-format"]?'color-format="'.concat(e["color-format"],'"'):"";return"<".concat(e.tag," ").concat(r," ").concat(o," ").concat(l," ").concat(i," ").concat(a,"></").concat(e.tag,">")},"el-upload":function(e){var t=e.disabled?":disabled='true'":"",a=e.action?':action="'.concat(e.vModel,'Action"'):"",r=e.multiple?"multiple":"",o="text"!==e["list-type"]?'list-type="'.concat(e["list-type"],'"'):"",l=e.accept?'accept="'.concat(e.accept,'"'):"",i="file"!==e.name?'name="'.concat(e.name,'"'):"",s=!1===e["auto-upload"]?':auto-upload="false"':"",n=':before-upload="'.concat(e.vModel,'BeforeUpload"'),c=':file-list="'.concat(e.vModel,'fileList"'),u='ref="'.concat(e.vModel,'"'),d=P(e);return d&&(d="\n".concat(d,"\n")),"<".concat(e.tag," ").concat(u," ").concat(c," ").concat(a," ").concat(s," ").concat(r," ").concat(n," ").concat(o," ").concat(l," ").concat(i," ").concat(t,">").concat(d,"</").concat(e.tag,">")}};function j(e){return{vModel:'v-model="'.concat(r.formModel,".").concat(e.vModel,'"'),clearable:e.clearable?"clearable":"",placeholder:e.placeholder?'placeholder="'.concat(e.placeholder,'"'):"",width:e.style&&e.style.width?":style=\"{width: '100%'}\"":"",disabled:e.disabled?":disabled='true'":""}}function $(e){var t=[];return e.default&&t.push(e.default),t.join("\n")}function q(e){var t=[];return e.prepend&&t.push('<template slot="prepend">'.concat(e.prepend,"</template>")),e.append&&t.push('<template slot="append">'.concat(e.append,"</template>")),t.join("\n")}function D(e){var t=[];return e.options&&e.options.length&&t.push('<el-option v-for="(item, index) in '.concat(e.vModel,'Options" :key="index" :label="item.label" :value="item.value" :disabled="item.disabled"></el-option>')),t.join("\n")}function N(e){var t=[];if(e.options&&e.options.length){var a="button"===e.optionType?"el-radio-button":"el-radio",r=e.border?"border":"";t.push("<".concat(a,' v-for="(item, index) in ').concat(e.vModel,'Options" :key="index" :label="item.value" :disabled="item.disabled" ').concat(r,">{{item.label}}</").concat(a,">"))}return t.join("\n")}function L(e){var t=[];if(e.options&&e.options.length){var a="button"===e.optionType?"el-checkbox-button":"el-checkbox",r=e.border?"border":"";t.push("<".concat(a,' v-for="(item, index) in ').concat(e.vModel,'Options" :key="index" :label="item.value" :disabled="item.disabled" ').concat(r,">{{item.label}}</").concat(a,">"))}return t.join("\n")}function P(e){var t=[];return"picture-card"===e["list-type"]?t.push('<i class="el-icon-plus"></i>'):t.push('<el-button size="small" type="primary" icon="el-icon-upload">'.concat(e.buttonText,"</el-button>")),e.showTip&&t.push('<div slot="tip" class="el-upload__tip">只能上传不超过 '.concat(e.fileSize).concat(e.sizeUnit," 的").concat(e.accept,"文件</div>")),t.join("\n")}function T(e,t){var a=[];r=e,o=e.fields.some((function(e){return 24!==e.span})),e.fields.forEach((function(e){a.push(S[e.layout](e))}));var l=a.join("\n"),i=x(e,l,t);return"dialog"===t&&(i=y(i)),r=null,i}var F=a("80de"),z={"el-rate":".el-rate{display: inline-block; vertical-align: text-top;}","el-upload":".el-upload__tip{line-height: 1.2;}"};function A(e,t){var a=z[t.tag];a&&-1===e.indexOf(a)&&e.push(a),t.children&&t.children.forEach((function(t){return A(e,t)}))}function E(e){var t=[];return e.fields.forEach((function(e){return A(t,e)})),t.join("\n")}var U,M,V=[{layout:"colFormItem",tagIcon:"input",label:"手机号",vModel:"mobile",formId:6,tag:"el-input",placeholder:"请输入手机号",defaultValue:"",span:24,style:{width:"100%"},clearable:!0,prepend:"",append:"","prefix-icon":"el-icon-mobile","suffix-icon":"",maxlength:11,"show-word-limit":!0,readonly:!1,disabled:!1,required:!0,changeTag:!0,regList:[{pattern:"/^1(3|4|5|7|8|9)\\d{9}$/",message:"手机号格式错误"}]}],Q=a("81a5"),R=a.n(Q),B=a("a92a"),G=a("4923"),H={components:{draggable:u.a,render:h["a"],RightPanel:b["default"],CodeTypeDialog:B["default"],DraggableItem:G["default"]},data:function(){return{logo:R.a,idGlobal:100,formConf:v["a"],inputComponents:v["b"],selectComponents:v["d"],layoutComponents:v["c"],labelWidth:100,drawingList:V,drawingData:{},activeId:V[0].formId,drawerVisible:!1,formData:{},dialogVisible:!1,generateConf:null,showFileName:!1,activeData:V[0]}},created:function(){document.body.ondrop=function(e){e.preventDefault(),e.stopPropagation()}},watch:{"activeData.label":function(e,t){void 0!==this.activeData.placeholder&&this.activeData.tag&&U===this.activeId&&(this.activeData.placeholder=this.activeData.placeholder.replace(t,"")+e)},activeId:{handler:function(e){U=e},immediate:!0}},mounted:function(){var e=this,t=new f.a("#copyNode",{text:function(t){var a=e.generateCode();return e.$notify({title:"成功",message:"代码已复制到剪切板，可粘贴。",type:"success"}),a}});t.on("error",(function(t){e.$message.error("代码复制失败")}))},methods:{activeFormItem:function(e){this.activeData=e,this.activeId=e.formId},onEnd:function(e,t){e.from!==e.to&&(this.activeData=M,this.activeId=this.idGlobal)},addComponent:function(e){var t=this.cloneComponent(e);this.drawingList.push(t),this.activeFormItem(t)},cloneComponent:function(e){var t=JSON.parse(JSON.stringify(e));return t.formId=++this.idGlobal,t.span=v["a"].span,t.renderKey=+new Date,t.layout||(t.layout="colFormItem"),"colFormItem"===t.layout?(t.vModel="field".concat(this.idGlobal),void 0!==t.placeholder&&(t.placeholder+=t.label),M=t):"rowFormItem"===t.layout&&(delete t.label,t.componentName="row".concat(this.idGlobal),t.gutter=this.formConf.gutter,M=t),M},AssembleFormData:function(){this.formData=Object(n["a"])({fields:JSON.parse(JSON.stringify(this.drawingList))},this.formConf)},generate:function(e){var t=this["exec".concat(Object(g["i"])(this.operationType))];this.generateConf=e,t&&t(e)},execRun:function(e){this.AssembleFormData(),this.drawerVisible=!0},execDownload:function(e){var t=this.generateCode(),a=new Blob([t],{type:"text/plain;charset=utf-8"});this.$download.saveAs(a,e.fileName)},execCopy:function(e){document.getElementById("copyNode").click()},empty:function(){var e=this;this.$confirm("确定要清空所有组件吗？","提示",{type:"warning"}).then((function(){e.drawingList=[]}))},drawingItemCopy:function(e,t){var a=JSON.parse(JSON.stringify(e));a=this.createIdAndKey(a),t.push(a),this.activeFormItem(a)},createIdAndKey:function(e){var t=this;return e.formId=++this.idGlobal,e.renderKey=+new Date,"colFormItem"===e.layout?e.vModel="field".concat(this.idGlobal):"rowFormItem"===e.layout&&(e.componentName="row".concat(this.idGlobal)),Array.isArray(e.children)&&(e.children=e.children.map((function(e){return t.createIdAndKey(e)}))),e},drawingItemDelete:function(e,t){var a=this;t.splice(e,1),this.$nextTick((function(){var e=a.drawingList.length;e&&a.activeFormItem(a.drawingList[e-1])}))},generateCode:function(){var e=this.generateConf.type;this.AssembleFormData();var t=_(Object(F["a"])(this.formData,e)),a=k(T(this.formData,e)),r=w(E(this.formData));return m.a.html(a+t+r,g["b"].html)},download:function(){this.dialogVisible=!0,this.showFileName=!0,this.operationType="download"},run:function(){this.dialogVisible=!0,this.showFileName=!1,this.operationType="run"},copy:function(){this.dialogVisible=!0,this.showFileName=!1,this.operationType="copy"},tagChange:function(e){var t=this;e=this.cloneComponent(e),e.vModel=this.activeData.vModel,e.formId=this.activeId,e.span=this.activeData.span,delete this.activeData.tag,delete this.activeData.tagIcon,delete this.activeData.document,Object.keys(e).forEach((function(a){void 0!==t.activeData[a]&&Object(s["a"])(t.activeData[a])===Object(s["a"])(e[a])&&(e[a]=t.activeData[a])})),this.activeData=e,this.updateDrawingList(e,this.drawingList)},updateDrawingList:function(e,t){var a=this,r=t.findIndex((function(e){return e.formId===a.activeId}));r>-1?t.splice(r,1,e):t.forEach((function(t){Array.isArray(t.children)&&a.updateDrawingList(e,t.children)}))}}},K=H,W=(a("1a2c"),a("cba8")),J=Object(W["a"])(K,l,i,!1,null,null,null);t["default"]=J.exports},"2a33":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{staticClass:"card-box",attrs:{span:12}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("CPU")])]),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("属性")])]),a("th",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("值")])])])]),a("tbody",[a("tr",[a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("核心数")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.server.cpu?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.cpuNum))]):e._e()])]),a("tr",[a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("用户使用率")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.server.cpu?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.used)+"%")]):e._e()])]),a("tr",[a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("系统使用率")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.server.cpu?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.sys)+"%")]):e._e()])]),a("tr",[a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("当前空闲率")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.server.cpu?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.free)+"%")]):e._e()])])])])])])],1),a("el-col",{staticClass:"card-box",attrs:{span:12}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("内存")])]),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("属性")])]),a("th",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("内存")])]),a("th",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("JVM")])])])]),a("tbody",[a("tr",[a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("总内存")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.server.mem?a("div",{staticClass:"cell"},[e._v(e._s(e.server.mem.total)+"G")]):e._e()]),a("td",{staticClass:"el-table__cell is-leaf"},[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.total)+"M")]):e._e()])]),a("tr",[a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("已用内存")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.server.mem?a("div",{staticClass:"cell"},[e._v(e._s(e.server.mem.used)+"G")]):e._e()]),a("td",{staticClass:"el-table__cell is-leaf"},[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.used)+"M")]):e._e()])]),a("tr",[a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("剩余内存")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.server.mem?a("div",{staticClass:"cell"},[e._v(e._s(e.server.mem.free)+"G")]):e._e()]),a("td",{staticClass:"el-table__cell is-leaf"},[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.free)+"M")]):e._e()])]),a("tr",[a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("使用率")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.server.mem?a("div",{staticClass:"cell",class:{"text-danger":e.server.mem.usage>80}},[e._v(e._s(e.server.mem.usage)+"%")]):e._e()]),a("td",{staticClass:"el-table__cell is-leaf"},[e.server.jvm?a("div",{staticClass:"cell",class:{"text-danger":e.server.jvm.usage>80}},[e._v(e._s(e.server.jvm.usage)+"%")]):e._e()])])])])])])],1),a("el-col",{staticClass:"card-box",attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("服务器信息")])]),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("tbody",[a("tr",[a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("服务器名称")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.computerName))]):e._e()]),a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("操作系统")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.osName))]):e._e()])]),a("tr",[a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("服务器IP")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.computerIp))]):e._e()]),a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("系统架构")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.osArch))]):e._e()])])])])])])],1),a("el-col",{staticClass:"card-box",attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("Java虚拟机信息")])]),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("tbody",[a("tr",[a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("Java名称")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.name))]):e._e()]),a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("Java版本")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.version))]):e._e()])]),a("tr",[a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("启动时间")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.startTime))]):e._e()]),a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("运行时长")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.runTime))]):e._e()])]),a("tr",[a("td",{staticClass:"el-table__cell is-leaf",attrs:{colspan:"1"}},[a("div",{staticClass:"cell"},[e._v("安装路径")])]),a("td",{staticClass:"el-table__cell is-leaf",attrs:{colspan:"3"}},[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.home))]):e._e()])]),a("tr",[a("td",{staticClass:"el-table__cell is-leaf",attrs:{colspan:"1"}},[a("div",{staticClass:"cell"},[e._v("项目路径")])]),a("td",{staticClass:"el-table__cell is-leaf",attrs:{colspan:"3"}},[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.userDir))]):e._e()])])])])])])],1),a("el-col",{staticClass:"card-box",attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("磁盘状态")])]),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"el-table__cell el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("盘符路径")])]),a("th",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("文件系统")])]),a("th",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("盘符类型")])]),a("th",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("总大小")])]),a("th",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("可用大小")])]),a("th",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("已用大小")])]),a("th",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("已用百分比")])])])]),e.server.sysFiles?a("tbody",e._l(e.server.sysFiles,(function(t,r){return a("tr",{key:r},[a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v(e._s(t.dirName))])]),a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v(e._s(t.sysTypeName))])]),a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v(e._s(t.typeName))])]),a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v(e._s(t.total))])]),a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v(e._s(t.free))])]),a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v(e._s(t.used))])]),a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell",class:{"text-danger":t.usage>80}},[e._v(e._s(t.usage)+"%")])])])})),0):e._e()])])])],1)],1)],1)},o=[],l=a("b775");function i(){return Object(l["a"])({url:"/monitor/server",method:"get"})}var s={name:"Server",data:function(){return{server:[]}},created:function(){this.getList(),this.openLoading()},methods:{getList:function(){var e=this;i().then((function(t){e.server=t.data,e.$modal.closeLoading()}))},openLoading:function(){this.$modal.loading("正在加载服务监控数据，请稍后！")}}},n=s,c=a("cba8"),u=Object(c["a"])(n,r,o,!1,null,null,null);t["default"]=u.exports},"2a36":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"商品名称",prop:"productName"}},[a("el-input",{attrs:{placeholder:"请输入商品名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.productName,callback:function(t){e.$set(e.queryParams,"productName",t)},expression:"queryParams.productName"}})],1),a("el-form-item",{attrs:{label:"订单编号",prop:"productCode"}},[a("el-input",{attrs:{placeholder:"请输入订单编号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.productCode,callback:function(t){e.$set(e.queryParams,"productCode",t)},expression:"queryParams.productCode"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList}},[a("el-table-column",{attrs:{label:"订单编号",align:"center",prop:"orderCode"}}),a("el-table-column",{attrs:{label:"商品编号",align:"center",prop:"productCode"}}),a("el-table-column",{attrs:{label:"商品名称",align:"center",prop:"productName"}}),a("el-table-column",{attrs:{label:"客户名称",align:"center",prop:"productName"}}),a("el-table-column",{attrs:{label:"出库数量",align:"center",prop:"cnt"}}),a("el-table-column",{attrs:{label:"金额(元)",align:"center",prop:"money"}}),a("el-table-column",{attrs:{label:"规格",align:"center",prop:"specs"}}),a("el-table-column",{attrs:{label:"订单日期",align:"center",prop:"outDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.outDate)))])]}}])}),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"note"}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)},o=[],l=a("9378"),i={name:"Post",data:function(){return{loading:!1,showSearch:!0,total:0,postList:[],queryParams:{pageNum:1,pageSize:10,productName:void 0,productCode:void 0}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(l["b"])(this.queryParams).then((function(t){e.postList=t.data,e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()}}},s=i,n=(a("4956"),a("cba8")),c=Object(n["a"])(s,r,o,!1,null,"a1f3a1d6",null);t["default"]=c.exports},"2a3f":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-input",{on:{input:e.input},model:{value:e.eatCount,callback:function(t){e.eatCount=t},expression:"eatCount"}})],1)},o=[],l={props:{value:{type:String,required:!0}},data:function(){return{eatCount:""}},methods:{input:function(e){this.$emit("eatCount",this.eatCount)}},watch:{value:function(){this.eatCount=this.value}}},i=l,s=a("cba8"),n=Object(s["a"])(i,r,o,!1,null,"5ce9e1ce",null);t["default"]=n.exports},"2a73":function(e,t,a){},"2adf":function(e,t,a){},"2aed":function(e,t,a){},"2c0e":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticStyle:{"box-shadow":"0 2px 4px 0 rgb(0 0 0 / 12%), 0 0 6px 0 rgb(0 0 0 / 4%)"}},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"1"}}),-1!=e.trade.indexOf("法定代表人")?a("el-tab-pane",{attrs:{label:"法定代表人（负责人）",name:"2"}}):e._e(),-1!=e.trade.indexOf("安全人员")?a("el-tab-pane",{attrs:{label:"安全人员",name:"3"}}):e._e(),-1!=e.trade.indexOf("设备设施")?a("el-tab-pane",{attrs:{label:"设备设施",name:"4"}}):e._e(),-1!=e.trade.indexOf("从业人员")?a("el-tab-pane",{attrs:{label:"从业人员",name:"5"}}):e._e(),-1!=e.trade.indexOf("仓库信息")?a("el-tab-pane",{attrs:{label:"仓库信息",name:"6"}}):e._e(),-1!=e.trade.indexOf("货车信息")?a("el-tab-pane",{attrs:{label:"货车信息",name:"7"}}):e._e(),-1!=e.trade.indexOf("营业执照信息")?a("el-tab-pane",{attrs:{label:"营业执照信息",name:"8"}}):e._e(),-1!=e.trade.indexOf("许可证信息")?a("el-tab-pane",{attrs:{label:"许可证信息",name:"9"}}):e._e()],1),a("div",{staticStyle:{padding:"15px",border:"1px solid #dfe4ed"}},[a("essential",{directives:[{name:"show",rawName:"v-show",value:1==e.activeName,expression:"activeName==1"}],attrs:{superviseId:e.superviseId,objectId:e.objectId},on:{comfign1:e.comfign1}}),a("representative",{directives:[{name:"show",rawName:"v-show",value:2==e.activeName,expression:"activeName==2"}],attrs:{objectId:e.objectId},on:{comfign1:e.comfign1}}),a("security",{directives:[{name:"show",rawName:"v-show",value:3==e.activeName,expression:"activeName==3"}],attrs:{objectId:e.objectId},on:{comfign1:e.comfign1}}),a("equipment",{directives:[{name:"show",rawName:"v-show",value:4==e.activeName,expression:"activeName==4"}],attrs:{objectId:e.objectId},on:{comfign1:e.comfign1}}),a("employees",{directives:[{name:"show",rawName:"v-show",value:5==e.activeName,expression:"activeName==5"}],attrs:{objectId:e.objectId},on:{comfign1:e.comfign1}}),a("warehouse",{directives:[{name:"show",rawName:"v-show",value:6==e.activeName,expression:"activeName==6"}],attrs:{objectId:e.objectId},on:{comfign1:e.comfign1}}),a("truck",{directives:[{name:"show",rawName:"v-show",value:7==e.activeName,expression:"activeName==7"}],attrs:{objectId:e.objectId},on:{comfign1:e.comfign1}}),a("businessLicense",{directives:[{name:"show",rawName:"v-show",value:8==e.activeName,expression:"activeName==8"}],attrs:{objectId:e.objectId},on:{comfign1:e.comfign1}}),a("licence",{directives:[{name:"show",rawName:"v-show",value:9==e.activeName,expression:"activeName==9"}],attrs:{objectId:e.objectId,licenceList:e.licenceList},on:{comfign1:e.comfign1}})],1)],1)])},o=[],l=(a("13cf"),a("0bd5"),a("79a8"),a("90e5")),i=a("62dc"),s=a("9ff9"),n=a("c941"),c=a("2f39"),u=a("541b"),d=a("f18f"),m=a("f3a6"),p=a("6964"),f=a("92c8"),h=a("83f1"),b={components:{supervisionStation:l["default"],essential:i["default"],representative:s["default"],businessLicense:n["default"],licence:c["default"],equipment:u["default"],warehouse:d["default"],employees:m["default"],truck:p["default"],security:f["default"]},data:function(){return{activeName:"1",superviseId:"",objectId:"",trade:[],licenceList:[]}},mounted:function(){this.objectId=this.$store.state.user.companyInfo.companyId},methods:{handleClick:function(e,t){},comfign:function(e){this.superviseId=e,this.activeName="1"},comfign1:function(e){var t=this;this.objectId="",setTimeout((function(){t.objectId=e}),100)}},watch:{objectId:function(){var e=this;this.objectId&&Object(h["e"])(this.objectId).then((function(t){Object(h["p"])({tradeId:t.data.tradeId}).then((function(a){if(a.data){var r=a.data.find((function(e){return e.objectId==t.data.compTypeId}));r&&(e.trade=r.compTags?r.compTags.split(","):[])}})),Object(h["q"])({tradeId:t.data.tradeId}).then((function(t){e.licenceList=t.data}))}))}}},v=b,g=(a("a3b5"),a("cba8")),y=Object(g["a"])(v,r,o,!1,null,"04ae94ee",null);t["default"]=y.exports},"2caf":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h4",{staticStyle:{"text-align":"center"}},[e._v(" "+e._s(e.title))]),a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules}},[a("table",{staticClass:"tableStyle tCenter"},[a("tbody",[a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("被检查单位名称")]),a("td",{staticClass:"tableContent"},[a("el-form-item",[a("el-input",{attrs:{readonly:""},model:{value:e.companyInfo.name,callback:function(t){e.$set(e.companyInfo,"name",t)},expression:"companyInfo.name"}})],1)],1),a("td",{staticClass:"tableTitle tableTitle1"},[e._v("经营地址")]),a("td",{staticClass:"tableContent"},[a("el-form-item",[a("el-input",{attrs:{readonly:""},model:{value:e.companyInfo.areaNamesAddr,callback:function(t){e.$set(e.companyInfo,"areaNamesAddr",t)},expression:"companyInfo.areaNamesAddr"}})],1)],1)]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("法定代表人（负责人）")]),a("td",{staticClass:"tableContent"},[a("el-form-item",[a("el-input",{attrs:{readonly:""},model:{value:e.companyInfo.link,callback:function(t){e.$set(e.companyInfo,"link",t)},expression:"companyInfo.link"}})],1)],1),a("td",{staticClass:"tableTitle tableTitle1"},[e._v("电话")]),a("td",{staticClass:"tableContent"},[a("el-form-item",[a("el-input",{attrs:{readonly:""},model:{value:e.companyInfo.linkMobile,callback:function(t){e.$set(e.companyInfo,"linkMobile",t)},expression:"companyInfo.linkMobile"}})],1)],1)]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("检查人员")]),a("td",{staticClass:"tableContent"},[a("el-form-item",[a("el-input",{attrs:{readonly:""},model:{value:e.userNameUp,callback:function(t){e.userNameUp=t},expression:"userNameUp"}})],1)],1)]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("检查时间 ")]),a("td",{staticClass:"tableContent"},[a("el-form-item",{attrs:{prop:"ctimeStart"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.form.ctimeStart,callback:function(t){e.$set(e.form,"ctimeStart",t)},expression:"form.ctimeStart"}})],1)],1),a("td",{staticClass:"tableTitle tableTitle1"},[e._v("至 ")]),a("td",{staticClass:"tableContent"},[a("el-form-item",{attrs:{prop:"ctimeEnd"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.form.ctimeEnd,callback:function(t){e.$set(e.form,"ctimeEnd",t)},expression:"form.ctimeEnd"}})],1)],1)]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("处理意见")]),a("td",{staticClass:"tableContent",attrs:{colspan:"3"}},[a("el-form-item",{attrs:{prop:"result"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.result,callback:function(t){e.$set(e.form,"result",t)},expression:"form.result"}},e._l(e.resultList,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)],1)])])])]),a("h4",[e._v("检查项")]),a("table",{ref:"checkTable",staticClass:"tableStyle tCenter",attrs:{id:"checkTable"}},[e._m(0),a("tbody",[e._l(e.list,(function(t,r){return e._l(t.contentList,(function(r,o){return a("tr",{key:o},[0==o?a("td",{staticClass:"tableTitle tableTitle1",attrs:{rowspan:t.contentList.length}},[e._v(" "+e._s(t.name)+" ")]):e._e(),a("td",{staticClass:"tableContent"},[e._v(" "+e._s(r.content)+" ")]),a("td",{staticClass:"tableContent center"},["分值型"==r.type?a("div",[a("el-select",{attrs:{placeholder:"请选择"},model:{value:r.currentValue,callback:function(t){e.$set(r,"currentValue",t)},expression:"it.currentValue"}},e._l(r.valueList,(function(e,t){return a("el-option",{key:o+t,attrs:{label:e,value:e}})})),1)],1):e._e(),"文字型"==r.type?a("div",[a("el-select",{attrs:{placeholder:"请选择"},model:{value:r.currentValue,callback:function(t){e.$set(r,"currentValue",t)},expression:"it.currentValue"}},e._l(r.valueList,(function(e,t){return a("el-option",{key:o+t,attrs:{label:e.content,value:e.content}})})),1)],1):e._e(),"判断型"==r.type?a("div",[a("el-select",{attrs:{placeholder:"请选择"},model:{value:r.currentValue,callback:function(t){e.$set(r,"currentValue",t)},expression:"it.currentValue"}},e._l(r.valueList,(function(e,t){return a("el-option",{key:o+t,attrs:{label:e,value:e}})})),1)],1):e._e()]),a("td",{staticClass:"tableContent center"},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:r.default,callback:function(t){e.$set(r,"default",t)},expression:"it.default"}},e._l(e.options,(function(e){return a("el-option",{key:e.value+o,attrs:{label:e.label,value:e.value}})})),1)],1)])}))}))],2)]),a("div",{staticClass:"save-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveTemplate}},[e._v("保存")]),a("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)],1)},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("td",{staticClass:"tableTitle tableTitle1 center"},[e._v("检查项目")]),a("td",{staticClass:"tableTitle tableTitle1 center"},[e._v(" 检查内容")]),a("td",{staticClass:"tableTitle tableTitle1 center"},[e._v("分值")]),a("td",{staticClass:"tableTitle tableTitle1 center"},[e._v("是否缺省项")])])])}],l=(a("6540"),a("1d7a"),a("83f1")),i=a("89e6"),s={props:{title:{type:String,default:""},companyId:{type:String,default:""},userNameUp:{type:String,default:""},templateId:{type:String,default:""},planId:{type:String,default:""},baseForm:{type:Object,default:function(){return{}}}},data:function(){return{rules:{ctimeStart:[{required:!0,message:"检查开始时间不能为空",trigger:"change"}],ctimeEnd:[{required:!0,message:"检查结束时间不能为空",trigger:"change"}],result:[{required:!0,message:"处理意见不能为空",trigger:"change"}]},form:{},companyInfo:{},list:[],options:[{value:"是",label:"是"},{value:"否",label:"否"}],resultList:["整改","立案","当场行政处罚","通过"]}},mounted:function(){this.list.map((function(e){e.list.map((function(e){}))})),this.companyGet(),this.getTemplateAllData()},methods:{companyGet:function(){var e=this;Object(l["e"])(this.companyId).then((function(t){e.companyInfo=t.data}))},getTemplateAllData:function(){var e=this;Object(i["f"])(this.templateId).then((function(t){t.data.itemList.map((function(e){e.contentList.map((function(e){if(e.default="否","分值型"==e.type){for(var t=[],a=0;a<=parseInt(e.value);a++)t.push(a);e.valueList=t,e.currentValue=e.valueList[e.valueList.length-1]}else"文字型"==e.type?(e.valueList=JSON.parse(e.scoreJson),e.currentValue=e.valueList[0].content):"判断型"==e.type&&(e.valueList=["是","否"],e.currentValue=e.valueList[0])}))})),e.list=t.data.itemList}))},cancel:function(){this.$emit("close")},saveTemplate:function(){var e=this;this.$refs["form"].validate((function(t){if(!t)return!1;var a={};a.companyId=e.companyId,a.ctimeStart=e.form.ctimeStart,a.ctimeEnd=e.form.ctimeEnd,a.result=e.form.result,a.planId=e.planId?e.planId:"",a.type=e.planId?"非常规检查":"常规检查",a.tradeId=e.baseForm.tradeId,a.typeId=e.baseForm.typeId,a.userIdB=e.baseForm.userIdB,a.templateId=e.templateId,a.companyName=e.companyInfo.name,console.log(e.list);var r=[];e.list.map((function(e,t){r.push({name:e.name,contentList:[]}),e.contentList.map((function(e){r[t].contentList.push({default:e.default,content:e.content,currentValue:e.currentValue,isCrux:e.isCrux,scoreJson:e.scoreJson,type:e.type,value:e.value})}))})),a.templateJson=JSON.stringify(r),Object(i["a"])(a).then((function(t){console.log(t),200==t.code&&(e.msgSuccess("完成检查"),e.$emit("save"))}))}))}}},n=s,c=(a("d7bb"),a("cba8")),u=Object(c["a"])(n,r,o,!1,null,"5ff1e8ea",null);t["default"]=u.exports},"2e11":function(e,t,a){},"2e2a":function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return i})),a.d(t,"e",(function(){return s}));var r={formRef:"elForm",formModel:"formData",size:"medium",labelPosition:"right",labelWidth:100,formRules:"rules",gutter:15,disabled:!1,span:24,formBtns:!0},o=[{label:"单行文本",tag:"el-input",tagIcon:"input",placeholder:"请输入",defaultValue:void 0,span:24,labelWidth:null,style:{width:"100%"},clearable:!0,prepend:"",append:"","prefix-icon":"","suffix-icon":"",maxlength:null,"show-word-limit":!1,readonly:!1,disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/input"},{label:"多行文本",tag:"el-input",tagIcon:"textarea",type:"textarea",placeholder:"请输入",defaultValue:void 0,span:24,labelWidth:null,autosize:{minRows:4,maxRows:4},style:{width:"100%"},maxlength:null,"show-word-limit":!1,readonly:!1,disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/input"},{label:"密码",tag:"el-input",tagIcon:"password",placeholder:"请输入",defaultValue:void 0,span:24,"show-password":!0,labelWidth:null,style:{width:"100%"},clearable:!0,prepend:"",append:"","prefix-icon":"","suffix-icon":"",maxlength:null,"show-word-limit":!1,readonly:!1,disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/input"},{label:"计数器",tag:"el-input-number",tagIcon:"number",placeholder:"",defaultValue:void 0,span:24,labelWidth:null,min:void 0,max:void 0,step:void 0,"step-strictly":!1,precision:void 0,"controls-position":"",disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/input-number"}],l=[{label:"下拉选择",tag:"el-select",tagIcon:"select",placeholder:"请选择",defaultValue:void 0,span:24,labelWidth:null,style:{width:"100%"},clearable:!0,disabled:!1,required:!0,filterable:!1,multiple:!1,options:[{label:"选项一",value:1},{label:"选项二",value:2}],regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/select"},{label:"级联选择",tag:"el-cascader",tagIcon:"cascader",placeholder:"请选择",defaultValue:[],span:24,labelWidth:null,style:{width:"100%"},props:{props:{multiple:!1}},"show-all-levels":!0,disabled:!1,clearable:!0,filterable:!1,required:!0,options:[{id:1,value:1,label:"选项1",children:[{id:2,value:2,label:"选项1-1"}]}],dataType:"dynamic",labelKey:"label",valueKey:"value",childrenKey:"children",separator:"/",regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/cascader"},{label:"单选框组",tag:"el-radio-group",tagIcon:"radio",defaultValue:void 0,span:24,labelWidth:null,style:{},optionType:"default",border:!1,size:"medium",disabled:!1,required:!0,options:[{label:"选项一",value:1},{label:"选项二",value:2}],regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/radio"},{label:"多选框组",tag:"el-checkbox-group",tagIcon:"checkbox",defaultValue:[],span:24,labelWidth:null,style:{},optionType:"default",border:!1,size:"medium",disabled:!1,required:!0,options:[{label:"选项一",value:1},{label:"选项二",value:2}],regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/checkbox"},{label:"开关",tag:"el-switch",tagIcon:"switch",defaultValue:!1,span:24,labelWidth:null,style:{},disabled:!1,required:!0,"active-text":"","inactive-text":"","active-color":null,"inactive-color":null,"active-value":!0,"inactive-value":!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/switch"},{label:"滑块",tag:"el-slider",tagIcon:"slider",defaultValue:null,span:24,labelWidth:null,disabled:!1,required:!0,min:0,max:100,step:1,"show-stops":!1,range:!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/slider"},{label:"时间选择",tag:"el-time-picker",tagIcon:"time",placeholder:"请选择",defaultValue:null,span:24,labelWidth:null,style:{width:"100%"},disabled:!1,clearable:!0,required:!0,"picker-options":{selectableRange:"00:00:00-23:59:59"},format:"HH:mm:ss","value-format":"HH:mm:ss",regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/time-picker"},{label:"时间范围",tag:"el-time-picker",tagIcon:"time-range",defaultValue:null,span:24,labelWidth:null,style:{width:"100%"},disabled:!1,clearable:!0,required:!0,"is-range":!0,"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",format:"HH:mm:ss","value-format":"HH:mm:ss",regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/time-picker"},{label:"日期选择",tag:"el-date-picker",tagIcon:"date",placeholder:"请选择",defaultValue:null,type:"date",span:24,labelWidth:null,style:{width:"100%"},disabled:!1,clearable:!0,required:!0,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",readonly:!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/date-picker"},{label:"日期范围",tag:"el-date-picker",tagIcon:"date-range",defaultValue:null,span:24,labelWidth:null,style:{width:"100%"},type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",disabled:!1,clearable:!0,required:!0,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",readonly:!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/date-picker"},{label:"评分",tag:"el-rate",tagIcon:"rate",defaultValue:0,span:24,labelWidth:null,style:{},max:5,"allow-half":!1,"show-text":!1,"show-score":!1,disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/rate"},{label:"颜色选择",tag:"el-color-picker",tagIcon:"color",defaultValue:null,labelWidth:null,"show-alpha":!1,"color-format":"",disabled:!1,required:!0,size:"medium",regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/color-picker"},{label:"上传",tag:"el-upload",tagIcon:"upload",action:"https://jsonplaceholder.typicode.com/posts/",defaultValue:null,labelWidth:null,disabled:!1,required:!0,accept:"",name:"file","auto-upload":!0,showTip:!1,buttonText:"点击上传",fileSize:2,sizeUnit:"MB","list-type":"text",multiple:!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/upload"}],i=[{layout:"rowFormItem",tagIcon:"row",type:"default",justify:"start",align:"top",label:"行容器",layoutTree:!0,children:[],document:"https://element.eleme.cn/#/zh-CN/component/layout"},{layout:"colFormItem",label:"按钮",changeTag:!0,labelWidth:null,tag:"el-button",tagIcon:"button",span:24,default:"主要按钮",type:"primary",icon:"el-icon-search",size:"medium",disabled:!1,document:"https://element.eleme.cn/#/zh-CN/component/button"}],s={"el-input":"blur","el-input-number":"blur","el-select":"change","el-radio-group":"change","el-checkbox-group":"change","el-cascader":"change","el-time-picker":"change","el-date-picker":"change","el-rate":"change"}},"2f39":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("div",{staticClass:"childPage"},[a("el-form-item",{attrs:{prop:"isHave"}},[a("span",[e._v("是否有许可证： ")]),a("el-radio",{attrs:{label:"有"},model:{value:e.form.isHave,callback:function(t){e.$set(e.form,"isHave",t)},expression:"form.isHave"}},[e._v("有")]),a("el-radio",{attrs:{label:"无"},model:{value:e.form.isHave,callback:function(t){e.$set(e.form,"isHave",t)},expression:"form.isHave"}},[e._v("无")])],1)],1),"有"==e.form.isHave?a("table",{staticClass:"tableStyle tCenter"},[a("tbody",[a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("许可证类型：")]),a("td",{staticClass:"tableContent"},[a("el-form-item",{attrs:{prop:"licenceTypeId"}},[a("el-select",{attrs:{placeholder:"请选择许可证类型"},model:{value:e.form.licenceTypeId,callback:function(t){e.$set(e.form,"licenceTypeId",t)},expression:"form.licenceTypeId"}},e._l(e.licenceList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1)],1),a("td",{staticClass:"tableTitle tableTitle1"},[e._v("许可证编号：")]),a("td",{staticClass:"tableContent"},[a("div",{staticClass:"input-suffix"},[a("el-form-item",{attrs:{prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入许可证编号"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1)],1)])]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("有效期自：")]),a("td",{staticClass:"tableContent"},[a("el-form-item",{attrs:{prop:"startDate"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"请选择有效期"},model:{value:e.form.startDate,callback:function(t){e.$set(e.form,"startDate",t)},expression:"form.startDate"}}),a("span",{staticClass:"required"},[e._v("*")])],1)],1),a("td",{staticClass:"tableTitle tableTitle1"},[e._v("有效期至：")]),a("td",{staticClass:"tableContent"},[a("el-form-item",{attrs:{prop:"endDate"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"请选择有效期"},model:{value:e.form.endDate,callback:function(t){e.$set(e.form,"endDate",t)},expression:"form.endDate"}}),a("span",{staticClass:"required"},[e._v("*")])],1)],1)]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("发证日期：")]),a("td",{staticClass:"tableContent"},[a("div",{staticClass:"input-suffix"},[a("el-form-item",{attrs:{prop:"cdate"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"请选择发证日期"},model:{value:e.form.cdate,callback:function(t){e.$set(e.form,"cdate",t)},expression:"form.cdate"}}),a("span",{staticClass:"required"},[e._v("*")])],1)],1)]),a("td",{staticClass:"tableTitle tableTitle1"},[e._v("发证机关：")]),a("td",{staticClass:"tableContent"},[a("div",{staticClass:"input-suffix"},[a("el-form-item",{attrs:{prop:"office"}},[a("el-input",{attrs:{placeholder:"请输入发证机关"},model:{value:e.form.office,callback:function(t){e.$set(e.form,"office",t)},expression:"form.office"}})],1),a("span",{staticClass:"required"},[e._v("*")])],1)])]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("副证编号：")]),a("td",{staticClass:"tableContent",attrs:{colspan:"3"}},[a("div",{staticClass:"input-suffix"},[a("el-form-item",{attrs:{prop:"code2"}},[a("el-input",{attrs:{placeholder:"请输入副证编号"},model:{value:e.form.code2,callback:function(t){e.$set(e.form,"code2",t)},expression:"form.code2"}})],1)],1)])]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("许可范围：")]),a("td",{staticClass:"tableContent",attrs:{colspan:"3"}},[a("el-form-item",{attrs:{prop:"scope"}},[a("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"请输入许可范围"},model:{value:e.form.scope,callback:function(t){e.$set(e.form,"scope",t)},expression:"form.scope"}})],1)],1)]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("许可证附件：")]),a("td",{staticClass:"tableContent",attrs:{colspan:"3"}},[a("div",{staticClass:"input-suffix"},[a("el-form-item",{attrs:{prop:"fileId"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.fileUrl,headers:e.headers,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[a("div",{staticClass:"upload"},[e.form.fileId?a("img",{staticClass:"avatar",attrs:{src:e.url+e.form.fileId},on:{click:function(t){return t.stopPropagation(),e.see(e.url+e.form.fileId)}}}):e._e(),a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选择文件")])],1)])],1)],1)])])])]):e._e(),e.dialogVisible?a("el-dialog",{attrs:{visible:e.dialogVisible,"append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]):e._e(),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.comfign}},[e._v("确定")])],1)],1)],1)},o=[],l=a("83f1"),i=a("5f87"),s={props:{objectId:{type:String,required:!0},licenceList:{type:Array,required:!0}},data:function(){return{form:{companyId:"",type:"",isHave:"无",code:"",startDate:"",endDate:"",cdate:"",office:"",code2:"",scope:"",fileId:""},rules:{startDate:[{required:!0,message:"请选择有效期",trigger:"change"}],endDate:[{required:!0,message:"请选择有效期",trigger:"change"}],cdate:[{required:!0,message:"请选择发证日期",trigger:"change"}],office:[{required:!0,message:"请输入发证机关",trigger:"blur"}]},fileUrl:"/prod-api/common/upload",url:"/prod-api",headers:{Authorization:"Bearer "+Object(i["a"])()},dialogImageUrl:"",dialogVisible:!1}},watch:{objectId:function(){var e=this;this.objectId&&(this.form.companyId=this.objectId,Object(l["o"])({companyId:this.objectId}).then((function(t){t.data&&(e.form=t.data)})))}},methods:{see:function(e){this.dialogImageUrl=e,this.dialogVisible=!0},comfign:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.objectId?Object(l["w"])(e.form).then((function(t){e.msgSuccess("修改成功"),e.$emit("comfign1",e.objectId)})):Object(l["u"])(e.form).then((function(t){e.msgSuccess("保存成功"),e.$emit("comfign1",e.objectId)})))}))},handleAvatarSuccess:function(e,t){this.form.fileId=e.fileName},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/jpg"===e.type||"image/png"===e.type||"image/gif"===e.type;e.size;return t||this.$message.error("请上传jpeg/jpg/png/gif类型的图片!"),t}}},n=s,c=(a("fb28"),a("cba8")),u=Object(c["a"])(n,r,o,!1,null,"3c43bd60",null);t["default"]=u.exports},"2f7d":function(e,t,a){"use strict";a("164b8")},"2f92":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-radio-group",{staticStyle:{"margin-bottom":"30px"},on:{change:e.tabClick},model:{value:e.tabPosition,callback:function(t){e.tabPosition=t},expression:"tabPosition"}},[a("el-radio-button",{attrs:{label:""}},[e._v("全部通知")]),a("el-radio-button",{attrs:{label:"已读"}},[e._v("已读("+e._s(e.readCnt)+")")]),a("el-radio-button",{attrs:{label:"未读"}},[e._v("未读("+e._s(e.unReadCnt)+")")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.Modeler}},[a("el-table-column",{attrs:{label:"标题",prop:"TITLE"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"link",on:{click:function(a){return e.see(t.row)}}},[e._v(" "+e._s(t.row.TITLE)+" ")])]}}])}),a("el-table-column",{attrs:{label:"发布人",prop:"nick_name"}}),a("el-table-column",{attrs:{label:"状态",prop:"READ_STATUS"}}),a("el-table-column",{attrs:{label:"发布时间",prop:"CREATE_TIME",formatter:e.formatter}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.seeTitle,visible:e.seeOpen,"close-on-click-modal":!1,width:"85%"},on:{"update:visible":function(t){e.seeOpen=t},close:e.cancel}},[a("div",{staticClass:"content",domProps:{innerHTML:e._s(e.content)}})])],1)},o=[],l=a("b775");function i(e){return Object(l["a"])({url:"/other/o-notice-reciver/compNotice",method:"get",params:e})}function s(){return Object(l["a"])({url:"/other/o-notice-reciver/compCntStatus",method:"geT"})}function n(e){return Object(l["a"])({url:"/other/o-notice-reciver/read/".concat(e),method:"get"})}var c={name:"ActIdGroup",data:function(){return{tabPosition:"",modelerUrl:"",modelVisible:!1,loading:!0,showSearch:!0,total:0,Modeler:[],title:"",open:!1,seeOpen:!1,seeTitle:"",content:"",src:"",queryParams:{pageNum:1,pageSize:10},readCnt:0,unReadCnt:0}},created:function(){this.getList(),this.noticeReciveCount()},methods:{noticeReciveCount:function(){var e=this;s().then((function(t){e.readCnt=t.data.read,e.unReadCnt=t.data.unRead}))},getList:function(){var e=this;this.loading=!0,i(this.queryParams).then((function(t){e.Modeler=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleDelete:function(e){var t=this;this.$confirm('是否确认删除通知"'+e.TITLE+'"?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return noticRecivereDel(e.OBJECT_ID)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},modelCancel:function(){this.getList()},see:function(e){var t=this;this.seeOpen=!0,this.seeTitle="【"+e.TITLE+"】详情",this.content=e.CONTENT,"未读"==e.READ_STATUS&&n(e.OBJECT_ID).then((function(e){200==e.code&&(t.getList(),t.noticeReciveCount())}))},cancel:function(){this.seeOpen=!1,this.seeTitle="",this.content=""},tabClick:function(e){this.queryParams.status=e,this.queryParams.pageNum=1,this.getList()},formatter:function(e){return e.CREATE_TIME?this.formatDate(e.CREATE_TIME,"{y}-{m}-{d}"):""}}},u=c,d=(a("693f"),a("cba8")),m=Object(d["a"])(u,r,o,!1,null,"31364c46",null);t["default"]=m.exports},"2f9a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"订单号",prop:"orderCode"}},[a("el-input",{attrs:{placeholder:"请输入订单号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.orderCode,callback:function(t){e.$set(e.queryParams,"orderCode",t)},expression:"queryParams.orderCode"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList}},[a("el-table-column",{attrs:{label:"订单编号",align:"center",prop:"orderCode"}}),a("el-table-column",{attrs:{label:"客户",align:"center",prop:"custom"}}),a("el-table-column",{attrs:{label:"总金额(元)",align:"center",prop:"money"}}),a("el-table-column",{attrs:{label:"出库状态",align:"center",prop:"statuz"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(t.row.statuz)+" ")])]}}])}),a("el-table-column",{attrs:{label:"业务人员",align:"center",prop:"purchasor"}}),a("el-table-column",{attrs:{label:"操作人",align:"center",prop:"userId"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-tickets"},on:{click:function(a){return e.lookDetail(t.row)}}},[e._v("订单明细")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-finished"},on:{click:function(a){return e.verify(t.row)}}},[e._v("通过")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-close"},on:{click:function(a){return e.Noverify(t.row)}}},[e._v("不通过")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.title,visible:e.open,width:"50%","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{prop:"supplier",label:"供应商",required:""}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:e.selectSupplier},model:{value:e.form.supplier,callback:function(t){e.$set(e.form,"supplier",t)},expression:"form.supplier"}},e._l(e.options,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e,"value-key":"item.objectId"}})})),1)],1),a("el-form-item",{attrs:{prop:"takeDate",label:"采购时间",required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择采购时间"},model:{value:e.form.takeDate,callback:function(t){e.$set(e.form,"takeDate",t)},expression:"form.takeDate"}})],1),a("el-form-item",{attrs:{prop:"purchasor",label:"采购人员",required:""}},[a("el-input",{model:{value:e.form.purchasor,callback:function(t){e.$set(e.form,"purchasor",t)},expression:"form.purchasor"}})],1),a("el-form-item",{attrs:{prop:"money",label:"总金额(元)",required:""}},[a("el-input",{model:{value:e.form.money,callback:function(t){e.$set(e.form,"money",t)},expression:"form.money"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"添加明细",visible:e.detailBool,width:"80%","append-to-body":""},on:{"update:visible":function(t){e.detailBool=t}}},[a("el-form",{ref:"detailform",staticClass:"form",attrs:{model:e.detailform,"label-width":"0"}},e._l(e.currentDetail,(function(t){return a("div",{key:t.objectId},[a("el-descriptions",{staticClass:"descriptions",attrs:{column:9,border:"",direction:"vertical"}},[a("el-descriptions-item",{attrs:{label:"产品名称",labelStyle:"width:160px"}},[a("span",[e._v(e._s(t.name))])]),a("el-descriptions-item",{attrs:{label:"单价",labelStyle:"width:60px"}},[a("span",[e._v(e._s(t.price))])]),a("el-descriptions-item",{attrs:{label:"单位",labelStyle:"width:60px"}},[a("span",[e._v(e._s(t.unit))])]),a("el-descriptions-item",{attrs:{label:"数量",labelStyle:"width:160px"}},[a("span",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"产品数量"},model:{value:t.cnt,callback:function(a){e.$set(t,"cnt",a)},expression:"item.cnt"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"出库金额(元)",labelStyle:"width:160px"}},[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"出库金额"},model:{value:t.money,callback:function(a){e.$set(t,"money",a)},expression:"item.money"}})],1)],1),a("el-descriptions-item",{attrs:{label:"仓库",labelStyle:"width:160px"}},[a("el-form-item",{attrs:{required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.storeId,callback:function(a){e.$set(t,"storeId",a)},expression:"item.storeId"}},e._l(e.storeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1)],1),a("el-descriptions-item",{attrs:{label:"批号"}},[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"请输入批号"},model:{value:t.batchCode,callback:function(a){e.$set(t,"batchCode",a)},expression:"item.batchCode"}})],1)],1),a("el-descriptions-item",{attrs:{label:"生产日期"}},[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择生产日期"},model:{value:t.createDate,callback:function(a){e.$set(t,"createDate",a)},expression:"item.createDate"}})],1)],1),a("el-descriptions-item",{attrs:{label:"有效期"}},[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择有效期"},model:{value:t.validDate,callback:function(a){e.$set(t,"validDate",a)},expression:"item.validDate"}})],1)],1)],1)],1)})),0),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFormDetail}},[e._v("保存")])],1)],1),a("el-dialog",{attrs:{title:"订单明细",visible:e.showDetail,width:"50%","close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.showDetail=t}}},[a("el-form",{ref:"queryParamsOrder",attrs:{model:e.queryParamsOrder,inline:!0}},[a("el-form-item",{attrs:{label:"名称",prop:"productName"}},[a("el-input",{attrs:{placeholder:"请输入名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQueryOrder(t)}},model:{value:e.queryParamsOrder.productName,callback:function(t){e.$set(e.queryParamsOrder,"productName",t)},expression:"queryParamsOrder.productName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"cyan",icon:"el-icon-search",size:"mini"},on:{click:e.handleQueryOrder}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQueryOrder}},[e._v("重置")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingGood,expression:"loadingGood"}],attrs:{data:e.goodList,"highlight-current-row":""}},[a("el-table-column",{attrs:{label:"名称",prop:"productName"}}),a("el-table-column",{attrs:{label:"单位",prop:"unit"}}),a("el-table-column",{attrs:{label:"数量",prop:"cnt"}}),a("el-table-column",{attrs:{label:"仓库",prop:"store"}}),a("el-table-column",{attrs:{label:"出库金额(元)",prop:"money"}}),a("el-table-column",{attrs:{label:"生产日期",prop:"createDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e.parseTimeShort(t.row.createDate))+" ")])]}}])}),a("el-table-column",{attrs:{label:"有效期",prop:"validDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e.parseTimeShort(t.row.validDate))+" ")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.detailTotal>0,expression:"detailTotal>0"}],attrs:{total:e.detailTotal,page:e.queryParamsOrder.pageNum,limit:e.queryParamsOrder.pageSize},on:{"update:page":function(t){return e.$set(e.queryParamsOrder,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParamsOrder,"pageSize",t)},pagination:e.getDetailList}}),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showDetail=!1}}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"修改",visible:e.updateBool,width:"80%","append-to-body":""},on:{"update:visible":function(t){e.updateBool=t}}},[a("el-form",{ref:"updateform",staticClass:"form",attrs:{model:e.updateform,"label-width":"0"}},[a("div",[a("el-descriptions",{staticClass:"descriptions",attrs:{column:9,border:"",direction:"vertical"}},[a("el-descriptions-item",{attrs:{label:"产品名称",labelStyle:"width:160px"}},[a("span",[e._v(e._s(e.updateform.productName))])]),a("el-descriptions-item",{attrs:{label:"单价",labelStyle:"width:60px"}},[a("span",[e._v(e._s(e.updateform.price))])]),a("el-descriptions-item",{attrs:{label:"单位",labelStyle:"width:60px"}},[a("span",[e._v(e._s(e.updateform.unit))])]),a("el-descriptions-item",{attrs:{label:"数量",labelStyle:"width:160px"}},[a("span",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"产品数量"},model:{value:e.updateform.cnt,callback:function(t){e.$set(e.updateform,"cnt",t)},expression:"updateform.cnt"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"出库金额(元)",labelStyle:"width:160px"}},[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"出库金额"},model:{value:e.updateform.money,callback:function(t){e.$set(e.updateform,"money",t)},expression:"updateform.money"}})],1)],1),a("el-descriptions-item",{attrs:{label:"仓库",labelStyle:"width:160px"}},[a("el-form-item",{attrs:{required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.updateform.storeId,callback:function(t){e.$set(e.updateform,"storeId",t)},expression:"updateform.storeId"}},e._l(e.storeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1)],1),a("el-descriptions-item",{attrs:{label:"批号"}},[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"请输入批号"},model:{value:e.updateform.batchCode,callback:function(t){e.$set(e.updateform,"batchCode",t)},expression:"updateform.batchCode"}})],1)],1),a("el-descriptions-item",{attrs:{label:"生产日期"}},[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择生产日期"},model:{value:e.updateform.createDate,callback:function(t){e.$set(e.updateform,"createDate",t)},expression:"updateform.createDate"}})],1)],1),a("el-descriptions-item",{attrs:{label:"有效期"}},[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择有效期"},model:{value:e.updateform.validDate,callback:function(t){e.$set(e.updateform,"validDate",t)},expression:"updateform.validDate"}})],1)],1)],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFormUpdate}},[e._v("确 定")]),a("el-button",{on:{click:function(t){e.updateBool=!1}}},[e._v("取 消")])],1)],1),e.show?a("SelectGoods",{attrs:{title:"选择商品",show:e.show},on:{confirm:e.confirmSelectGood,close:function(t){e.show=!1}}}):e._e()],1)},o=[],l=a("0344"),i=a("8955"),s=(a("6540"),a("1d7a"),a("7564")),n=a("535d"),c=a("83f1"),u=a("a6db"),d={components:{SelectGoods:u["a"]},data:function(){var e;return{updateBool:!1,queryParamsOrder:{pageNum:1,pageSize:10,productName:void 0,orderId:"待出库"},updateform:{},goodList:[],detailTotal:0,loadingGood:!1,showDetail:!1,currentOrder:{},show:!1,detailform:{},detailBool:!1,userList:[],options:[],loading:!1,showSearch:!0,total:0,postList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,orderCode:"",status:"待出库"},form:{supplierId:"",supplier:"",takeDate:"",purchasor:"",money:""},rules:(e={purchasor:[{required:!0,message:"供应商不能为空",trigger:"change"}],takeDate:[{required:!0,message:"采购时间不能为空",trigger:"change"}]},Object(i["a"])(e,"purchasor",[{required:!0,message:"采购人员不能为空",trigger:"blur"}]),Object(i["a"])(e,"money",[{required:!0,message:"总金额不能为空",trigger:"blur"}]),e),currentDetail:[{cnt:"",money:"",storeId:"",batchCode:"",createDate:"",validDate:"",productId:""}],storeList:[]}},created:function(){this.getList(),this.getstoreList()},methods:{verify:function(e){var t=this;Object(s["l"])({objectId:e.objectId,statuz:"已出库"}).then((function(e){console.log(e),t.$modal.msgSuccess("出库成功"),t.getList()}))},Noverify:function(e){var t=this;Object(s["l"])({objectId:e.objectId,statuz:"审核拒绝"}).then((function(e){t.$modal.msgSuccess("拒绝出库"),t.getList()}))},submitFormUpdate:function(){var e=this;Object(s["e"])(this.updateform).then((function(t){e.$modal.msgSuccess("修改成功"),e.updateBool=!1,e.getDetailList()}))},handleUpdateDetail:function(e){var t=this;Object(s["g"])(e.objectId).then((function(e){t.updateform=e.data,t.updateBool=!0}))},handleDeleteDetail:function(e){var t=this;this.$modal.confirm("是否确认删除该数据项？").then((function(){return Object(s["c"])(e.objectId)})).then((function(){t.getDetailList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},getstoreList:function(){var e=this;Object(c["O"])({companyId:this.$store.state.user.companyInfo.companyId}).then((function(t){e.storeList=t.data}))},submitFormDetail:function(){var e=this;console.log(this.currentDetail);var t={},a=[];this.currentDetail.map((function(e){a.push({cnt:e.cnt,money:e.money,storeId:e.storeId,batchCode:e.batchCode,createDate:e.createDate,validDate:e.validDate,productId:e.objectId})})),t.objectId=this.currentOrder.objectId,t.itemList=a,Object(s["a"])(t).then((function(t){console.log(t),e.$modal.msgSuccess("新增成功"),e.detailBool=!1,e.getDetailList()}))},handleQueryOrder:function(){this.queryParams.pageNum=1,this.getDetailList()},getDetailList:function(){var e=this;this.loadingGood=!0,Object(s["h"])(this.queryParamsOrder).then((function(t){e.goodList=t.rows,e.detailTotal=t.total,e.loadingGood=!1}))},resetDetail:function(){this.queryParamsOrder={pageNum:1,pageSize:10,productName:"",orderId:""}},confirmSelectGood:function(e){this.$set(this,"currentDetail",Object(l["a"])(e)),this.$forceUpdate(),this.show=!1,this.detailBool=!0},lookDetail:function(e){this.currentOrder=e,this.resetDetail(),this.queryParamsOrder.orderId=e.objectId,this.showDetail=!0,this.loadingGood=!0,this.getDetailList()},addDetail:function(){this.show=!0},selectSupplier:function(e){this.form.supplier=e.name,this.form.supplierId=e.objectId},getList:function(){var e=this;this.loading=!0,Object(s["j"])(this.queryParams).then((function(t){e.postList=t.rows,e.total=t.total,e.loading=!1}))},supplierList:function(){var e=this;Object(n["e"])().then((function(t){e.options=t.data}))},companyUserList:function(){var e=this;console.log(this.$store.state),Object(c["g"])({companyId:this.$store.state.user.companyInfo.companyId}).then((function(t){e.userList=t.data}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={supplierId:"",supplier:"",takeDate:"",purchasor:"",money:""},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQueryOrder:function(){this.queryParamsOrder.pageNum=1,this.queryParamsOrder.productName="",this.resetForm("queryParamsOrder"),this.getDetailList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加客户"},handleUpdate:function(e){var t=this;this.reset(),Object(s["i"])(e.objectId).then((function(e){t.form=e.data,t.open=!0,t.title="修改客户信息"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.objectId?Object(s["f"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(s["b"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this;this.$modal.confirm("是否确认删除该数据项？").then((function(){return Object(s["d"])(e.objectId)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},cancelDetail:function(){this.detailBool=!1}}},m=d,p=(a("bda2"),a("cba8")),f=Object(p["a"])(m,r,o,!1,null,"6f87ebe1",null);t["default"]=f.exports},"33b3":function(e,t,a){},"33c8":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"订单号",prop:"orderCode"}},[a("el-input",{attrs:{placeholder:"请输入订单号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.orderCode,callback:function(t){e.$set(e.queryParams,"orderCode",t)},expression:"queryParams.orderCode"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList}},[a("el-table-column",{attrs:{label:"订单编号",align:"center",prop:"orderCode"}}),a("el-table-column",{attrs:{label:"采购时间",align:"center",prop:"takeDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e.parseTimeShort(t.row.takeDate))+" ")])]}}])}),a("el-table-column",{attrs:{label:"供应商",align:"center",prop:"supplier"}}),a("el-table-column",{attrs:{label:"总金额(元)",align:"center",prop:"money"}}),a("el-table-column",{attrs:{label:"入库状态",align:"center",prop:"statuz"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(t.row.statuz)+" ")])]}}])}),a("el-table-column",{attrs:{label:"采购人员",align:"center",prop:"purchasor"}}),a("el-table-column",{attrs:{label:"操作人",align:"center",prop:"userId"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-tickets"},on:{click:function(a){return e.lookDetail(t.row)}}},[e._v("订单明细")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.title,visible:e.open,width:"50%","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{prop:"supplier",label:"供应商",required:""}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:e.selectSupplier},model:{value:e.form.supplier,callback:function(t){e.$set(e.form,"supplier",t)},expression:"form.supplier"}},e._l(e.options,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e,"value-key":"item.objectId"}})})),1)],1),a("el-form-item",{attrs:{prop:"takeDate",label:"采购时间",required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择采购时间"},model:{value:e.form.takeDate,callback:function(t){e.$set(e.form,"takeDate",t)},expression:"form.takeDate"}})],1),a("el-form-item",{attrs:{prop:"purchasor",label:"采购人员",required:""}},[a("el-input",{model:{value:e.form.purchasor,callback:function(t){e.$set(e.form,"purchasor",t)},expression:"form.purchasor"}})],1),a("el-form-item",{attrs:{prop:"money",label:"总金额(元)",required:""}},[a("el-input",{model:{value:e.form.money,callback:function(t){e.$set(e.form,"money",t)},expression:"form.money"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"添加明细",visible:e.detailBool,width:"80%","append-to-body":""},on:{"update:visible":function(t){e.detailBool=t}}},[a("el-form",{ref:"detailform",staticClass:"form",attrs:{model:e.detailform,"label-width":"0"}},e._l(e.currentDetail,(function(t){return a("div",{key:t.objectId},[a("el-descriptions",{staticClass:"descriptions",attrs:{column:9,border:"",direction:"vertical"}},[a("el-descriptions-item",{attrs:{label:"产品名称",labelStyle:"width:160px"}},[a("span",[e._v(e._s(t.name))])]),a("el-descriptions-item",{attrs:{label:"单价",labelStyle:"width:60px"}},[a("span",[e._v(e._s(t.price))])]),a("el-descriptions-item",{attrs:{label:"单位",labelStyle:"width:60px"}},[a("span",[e._v(e._s(t.unit))])]),a("el-descriptions-item",{attrs:{label:"数量",labelStyle:"width:160px"}},[a("span",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"产品数量"},model:{value:t.cnt,callback:function(a){e.$set(t,"cnt",a)},expression:"item.cnt"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"入库金额(元)",labelStyle:"width:160px"}},[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"入库金额"},model:{value:t.money,callback:function(a){e.$set(t,"money",a)},expression:"item.money"}})],1)],1),a("el-descriptions-item",{attrs:{label:"仓库",labelStyle:"width:160px"}},[a("el-form-item",{attrs:{required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.storeId,callback:function(a){e.$set(t,"storeId",a)},expression:"item.storeId"}},e._l(e.storeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1)],1),a("el-descriptions-item",{attrs:{label:"批号"}},[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"请输入批号"},model:{value:t.batchCode,callback:function(a){e.$set(t,"batchCode",a)},expression:"item.batchCode"}})],1)],1),a("el-descriptions-item",{attrs:{label:"生产日期"}},[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择生产日期"},model:{value:t.createDate,callback:function(a){e.$set(t,"createDate",a)},expression:"item.createDate"}})],1)],1),a("el-descriptions-item",{attrs:{label:"有效期"}},[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择有效期"},model:{value:t.validDate,callback:function(a){e.$set(t,"validDate",a)},expression:"item.validDate"}})],1)],1)],1)],1)})),0),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFormDetail}},[e._v("保存")])],1)],1),a("el-dialog",{attrs:{title:"订单明细",visible:e.showDetail,width:"50%","close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.showDetail=t}}},[a("el-form",{ref:"queryParamsOrder",attrs:{model:e.queryParamsOrder,inline:!0}},[a("el-form-item",{attrs:{label:"名称",prop:"productName"}},[a("el-input",{attrs:{placeholder:"请输入名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQueryOrder(t)}},model:{value:e.queryParamsOrder.productName,callback:function(t){e.$set(e.queryParamsOrder,"productName",t)},expression:"queryParamsOrder.productName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"cyan",icon:"el-icon-search",size:"mini"},on:{click:e.handleQueryOrder}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQueryOrder}},[e._v("重置")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingGood,expression:"loadingGood"}],attrs:{data:e.goodList,"highlight-current-row":""}},[a("el-table-column",{attrs:{label:"名称",prop:"productName"}}),a("el-table-column",{attrs:{label:"单位",prop:"unit"}}),a("el-table-column",{attrs:{label:"数量",prop:"cnt"}}),a("el-table-column",{attrs:{label:"仓库",prop:"store"}}),a("el-table-column",{attrs:{label:"入库金额(元)",prop:"money"}}),a("el-table-column",{attrs:{label:"生产日期",prop:"createDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e.parseTimeShort(t.row.createDate))+" ")])]}}])}),a("el-table-column",{attrs:{label:"有效期",prop:"validDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e.parseTimeShort(t.row.validDate))+" ")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.detailTotal>0,expression:"detailTotal>0"}],attrs:{total:e.detailTotal,page:e.queryParamsOrder.pageNum,limit:e.queryParamsOrder.pageSize},on:{"update:page":function(t){return e.$set(e.queryParamsOrder,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParamsOrder,"pageSize",t)},pagination:e.getDetailList}}),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showDetail=!1}}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"修改",visible:e.updateBool,width:"80%","append-to-body":""},on:{"update:visible":function(t){e.updateBool=t}}},[a("el-form",{ref:"updateform",staticClass:"form",attrs:{model:e.updateform,"label-width":"0"}},[a("div",[a("el-descriptions",{staticClass:"descriptions",attrs:{column:9,border:"",direction:"vertical"}},[a("el-descriptions-item",{attrs:{label:"产品名称",labelStyle:"width:160px"}},[a("span",[e._v(e._s(e.updateform.productName))])]),a("el-descriptions-item",{attrs:{label:"单价",labelStyle:"width:60px"}},[a("span",[e._v(e._s(e.updateform.price))])]),a("el-descriptions-item",{attrs:{label:"单位",labelStyle:"width:60px"}},[a("span",[e._v(e._s(e.updateform.unit))])]),a("el-descriptions-item",{attrs:{label:"数量",labelStyle:"width:160px"}},[a("span",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"产品数量"},model:{value:e.updateform.cnt,callback:function(t){e.$set(e.updateform,"cnt",t)},expression:"updateform.cnt"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"入库金额(元)",labelStyle:"width:160px"}},[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"入库金额"},model:{value:e.updateform.money,callback:function(t){e.$set(e.updateform,"money",t)},expression:"updateform.money"}})],1)],1),a("el-descriptions-item",{attrs:{label:"仓库",labelStyle:"width:160px"}},[a("el-form-item",{attrs:{required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.updateform.storeId,callback:function(t){e.$set(e.updateform,"storeId",t)},expression:"updateform.storeId"}},e._l(e.storeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1)],1),a("el-descriptions-item",{attrs:{label:"批号"}},[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"请输入批号"},model:{value:e.updateform.batchCode,callback:function(t){e.$set(e.updateform,"batchCode",t)},expression:"updateform.batchCode"}})],1)],1),a("el-descriptions-item",{attrs:{label:"生产日期"}},[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择生产日期"},model:{value:e.updateform.createDate,callback:function(t){e.$set(e.updateform,"createDate",t)},expression:"updateform.createDate"}})],1)],1),a("el-descriptions-item",{attrs:{label:"有效期"}},[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择有效期"},model:{value:e.updateform.validDate,callback:function(t){e.$set(e.updateform,"validDate",t)},expression:"updateform.validDate"}})],1)],1)],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFormUpdate}},[e._v("确 定")]),a("el-button",{on:{click:function(t){e.updateBool=!1}}},[e._v("取 消")])],1)],1),e.show?a("SelectGoods",{attrs:{title:"选择商品",show:e.show},on:{confirm:e.confirmSelectGood,close:function(t){e.show=!1}}}):e._e()],1)},o=[],l=a("0344"),i=a("8955"),s=(a("6540"),a("1d7a"),a("70e78")),n=a("535d"),c=a("83f1"),u=a("a6db"),d={components:{SelectGoods:u["a"]},data:function(){var e;return{updateBool:!1,queryParamsOrder:{pageNum:1,pageSize:10,productName:"",orderId:""},updateform:{},goodList:[],detailTotal:0,loadingGood:!1,showDetail:!1,currentOrder:{},show:!1,detailform:{},detailBool:!1,userList:[],options:[],loading:!1,showSearch:!0,total:0,postList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,orderCode:"",status:"已入库,审核拒绝"},form:{supplierId:"",supplier:"",takeDate:"",purchasor:"",money:""},rules:(e={purchasor:[{required:!0,message:"供应商不能为空",trigger:"change"}],takeDate:[{required:!0,message:"采购时间不能为空",trigger:"change"}]},Object(i["a"])(e,"purchasor",[{required:!0,message:"采购人员不能为空",trigger:"blur"}]),Object(i["a"])(e,"money",[{required:!0,message:"总金额不能为空",trigger:"blur"}]),e),currentDetail:[{cnt:"",money:"",storeId:"",batchCode:"",createDate:"",validDate:"",productId:""}],storeList:[]}},created:function(){this.getList(),this.supplierList(),this.companyUserList(),this.getstoreList()},methods:{submitFormUpdate:function(){var e=this;Object(s["e"])(this.updateform).then((function(t){e.$modal.msgSuccess("修改成功"),e.updateBool=!1,e.getDetailList()}))},handleUpdateDetail:function(e){var t=this;Object(s["g"])(e.objectId).then((function(e){t.updateform=e.data,t.updateBool=!0}))},resetDetail:function(){this.queryParamsOrder={pageNum:1,pageSize:10,productName:"",orderId:""}},handleDeleteDetail:function(e){var t=this;this.$modal.confirm("是否确认删除该数据项？").then((function(){return Object(s["c"])(e.objectId)})).then((function(){t.getDetailList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},getstoreList:function(){var e=this;Object(c["O"])({companyId:this.$store.state.user.companyInfo.companyId}).then((function(t){e.storeList=t.data}))},submitFormDetail:function(){var e=this;console.log(this.currentDetail);var t={},a=[];this.currentDetail.map((function(e){a.push({cnt:e.cnt,money:e.money,storeId:e.storeId,batchCode:e.batchCode,createDate:e.createDate,validDate:e.validDate,productId:e.objectId})})),t.objectId=this.currentOrder.objectId,t.itemList=a,Object(s["a"])(t).then((function(t){console.log(t),e.$modal.msgSuccess("新增成功"),e.detailBool=!1,e.getDetailList()}))},handleQueryOrder:function(){this.queryParams.pageNum=1,this.getDetailList()},getDetailList:function(){var e=this;this.loadingGood=!0,Object(s["i"])(this.queryParamsOrder).then((function(t){e.goodList=t.rows,e.detailTotal=t.total,e.loadingGood=!1}))},confirmSelectGood:function(e){this.$set(this,"currentDetail",Object(l["a"])(e)),this.$forceUpdate(),this.show=!1,this.detailBool=!0},lookDetail:function(e){this.currentOrder=e,this.resetDetail(),this.queryParamsOrder.orderId=e.objectId,this.showDetail=!0,this.loadingGood=!0,this.getDetailList()},addDetail:function(){this.show=!0},selectSupplier:function(e){this.form.supplier=e.name,this.form.supplierId=e.objectId},getList:function(){var e=this;this.loading=!0,Object(s["k"])(this.queryParams).then((function(t){e.postList=t.rows,e.total=t.total,e.loading=!1}))},supplierList:function(){var e=this;Object(n["e"])().then((function(t){e.options=t.data}))},companyUserList:function(){var e=this;console.log(this.$store.state),Object(c["g"])({companyId:this.$store.state.user.companyInfo.companyId}).then((function(t){e.userList=t.data}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={supplierId:"",supplier:"",takeDate:"",purchasor:"",money:""},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQueryOrder:function(){this.resetForm("queryParamsOrder"),this.queryParamsOrder.pageNum=1,this.queryParamsOrder.productName="",this.getDetailList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加客户"},handleUpdate:function(e){var t=this;this.reset(),Object(s["j"])(e.objectId).then((function(e){t.form=e.data,t.open=!0,t.title="修改客户信息"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.objectId?Object(s["f"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(s["b"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this;this.$modal.confirm("是否确认删除该数据项？").then((function(){return Object(s["d"])(e.objectId)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},cancelDetail:function(){this.detailBool=!1}}},m=d,p=(a("23b8"),a("cba8")),f=Object(p["a"])(m,r,o,!1,null,"b3fb43ea",null);t["default"]=f.exports},"34bc":function(e,t,a){},3513:function(e,t,a){"use strict";a("a139")},3528:function(e,t,a){"use strict";a.d(t,"k",(function(){return o})),a.d(t,"j",(function(){return l})),a.d(t,"a",(function(){return i})),a.d(t,"m",(function(){return s})),a.d(t,"g",(function(){return n})),a.d(t,"f",(function(){return c})),a.d(t,"h",(function(){return u})),a.d(t,"i",(function(){return d})),a.d(t,"b",(function(){return m})),a.d(t,"l",(function(){return p})),a.d(t,"c",(function(){return f})),a.d(t,"d",(function(){return h})),a.d(t,"e",(function(){return b}));var r=a("b775");function o(e){return Object(r["a"])({url:"/system/role/list",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/system/role/"+e,method:"get"})}function i(e){return Object(r["a"])({url:"/system/role",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/system/role",method:"put",data:e})}function n(e){return Object(r["a"])({url:"/system/role/dataScope",method:"put",data:e})}function c(e,t){var a={roleId:e,status:t};return Object(r["a"])({url:"/system/role/changeStatus",method:"put",data:a})}function u(e){return Object(r["a"])({url:"/system/role/"+e,method:"delete"})}function d(e){return Object(r["a"])({url:"/system/role/export",method:"get",params:e})}function m(e){return Object(r["a"])({url:"/system/role/authUser/allocatedList",method:"get",params:e})}function p(e){return Object(r["a"])({url:"/system/role/authUser/unallocatedList",method:"get",params:e})}function f(e){return Object(r["a"])({url:"/system/role/authUser/cancel",method:"put",data:e})}function h(e){return Object(r["a"])({url:"/system/role/authUser/cancelAll",method:"put",params:e})}function b(e){return Object(r["a"])({url:"/system/role/authUser/selectAll",method:"put",params:e})}},3758:function(e,t,a){},3916:function(e,t,a){},"39db":function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"e",(function(){return i})),a.d(t,"d",(function(){return s})),a.d(t,"b",(function(){return n}));var r=a("b775");function o(e){return Object(r["a"])({url:"/store/st-custom-company/list",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/store/st-custom-company/add",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/store/st-custom-company/edit",method:"post",data:e})}function s(e){return Object(r["a"])({url:"store/st-custom-company/delete/".concat(e),method:"get"})}function n(e){return Object(r["a"])({url:"/store/st-custom-company/get/".concat(e),method:"get"})}},"3a7e":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icons-container"},[e._m(0),a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"Icons"}},e._l(e.svgIcons,(function(t){return a("div",{key:t},[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(e.generateIconCode(t))+" ")]),a("div",{staticClass:"icon-item"},[a("svg-icon",{attrs:{"icon-class":t,"class-name":"disabled"}}),a("span",[e._v(e._s(t))])],1)])],1)})),0),a("el-tab-pane",{attrs:{label:"Element-UI Icons"}},e._l(e.elementIcons,(function(t){return a("div",{key:t},[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(e.generateElementIconCode(t))+" ")]),a("div",{staticClass:"icon-item"},[a("i",{class:"el-icon-"+t}),a("span",[e._v(e._s(t))])])])],1)})),0)],1)],1)},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("aside",[a("a",{attrs:{href:"#",target:"_blank"}},[e._v("Add and use ")])])}],l=a("c7e9"),i=a("bb49"),s={name:"Icons",data:function(){return{svgIcons:l["default"],elementIcons:i["default"]}},methods:{generateIconCode:function(e){return'<svg-icon icon-class="'.concat(e,'" />')},generateElementIconCode:function(e){return'<i class="el-icon-'.concat(e,'" />')}}},n=s,c=(a("4099"),a("cba8")),u=Object(c["a"])(n,r,o,!1,null,"101db740",null);t["default"]=u.exports},"3adc":function(e,t,a){},"3eac":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"任务名称",prop:"jobName"}},[a("el-input",{attrs:{placeholder:"请输入任务名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.jobName,callback:function(t){e.$set(e.queryParams,"jobName",t)},expression:"queryParams.jobName"}})],1),a("el-form-item",{attrs:{label:"任务组名",prop:"jobGroup"}},[a("el-select",{attrs:{placeholder:"请选择任务组名",clearable:"",size:"small"},model:{value:e.queryParams.jobGroup,callback:function(t){e.$set(e.queryParams,"jobGroup",t)},expression:"queryParams.jobGroup"}},e._l(e.dict.type.sys_job_group,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"任务状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择任务状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.dict.type.sys_job_status,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:add"],expression:"['monitor:job:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:edit"],expression:"['monitor:job:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:remove"],expression:"['monitor:job:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:export"],expression:"['monitor:job:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:query"],expression:"['monitor:job:query']"}],attrs:{type:"info",plain:"",icon:"el-icon-s-operation",size:"mini"},on:{click:e.handleJobLog}},[e._v("日志")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.jobList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"任务编号",width:"100",align:"center",prop:"jobId"}}),a("el-table-column",{attrs:{label:"任务名称",align:"center",prop:"jobName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"任务组名",align:"center",prop:"jobGroup"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("dict-tag",{attrs:{options:e.dict.type.sys_job_group,value:t.row.jobGroup}})]}}])}),a("el-table-column",{attrs:{label:"调用目标字符串",align:"center",prop:"invokeTarget","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"cron执行表达式",align:"center",prop:"cronExpression","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"0","inactive-value":"1"},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:edit"],expression:"['monitor:job:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:remove"],expression:"['monitor:job:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]),a("el-dropdown",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:changeStatus","monitor:job:query"],expression:"['monitor:job:changeStatus', 'monitor:job:query']"}],attrs:{size:"mini"},on:{command:function(a){return e.handleCommand(a,t.row)}}},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"el-icon-d-arrow-right el-icon--right"}),e._v("更多 ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:changeStatus"],expression:"['monitor:job:changeStatus']"}],attrs:{command:"handleRun",icon:"el-icon-caret-right"}},[e._v("执行一次")]),a("el-dropdown-item",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:query"],expression:"['monitor:job:query']"}],attrs:{command:"handleView",icon:"el-icon-view"}},[e._v("任务详细")]),a("el-dropdown-item",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:query"],expression:"['monitor:job:query']"}],attrs:{command:"handleJobLog",icon:"el-icon-s-operation"}},[e._v("调度日志")])],1)],1)]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务名称",prop:"jobName"}},[a("el-input",{attrs:{placeholder:"请输入任务名称"},model:{value:e.form.jobName,callback:function(t){e.$set(e.form,"jobName",t)},expression:"form.jobName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务分组",prop:"jobGroup"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.jobGroup,callback:function(t){e.$set(e.form,"jobGroup",t)},expression:"form.jobGroup"}},e._l(e.dict.type.sys_job_group,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"invokeTarget"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 调用方法 "),a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v(" Bean调用示例：ryTask.ryParams('ry') "),a("br"),e._v("Class类调用示例：com.ruoyi.quartz.task.RyTask.ryParams('ry') "),a("br"),e._v("参数说明：支持字符串，布尔类型，长整型，浮点型，整型 ")]),a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{attrs:{placeholder:"请输入调用目标字符串"},model:{value:e.form.invokeTarget,callback:function(t){e.$set(e.form,"invokeTarget",t)},expression:"form.invokeTarget"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"cron表达式",prop:"cronExpression"}},[a("el-input",{attrs:{placeholder:"请输入cron执行表达式"},model:{value:e.form.cronExpression,callback:function(t){e.$set(e.form,"cronExpression",t)},expression:"form.cronExpression"}},[a("template",{slot:"append"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleShowCron}},[e._v(" 生成表达式 "),a("i",{staticClass:"el-icon-time el-icon--right"})])],1)],2)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"错误策略",prop:"misfirePolicy"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.form.misfirePolicy,callback:function(t){e.$set(e.form,"misfirePolicy",t)},expression:"form.misfirePolicy"}},[a("el-radio-button",{attrs:{label:"1"}},[e._v("立即执行")]),a("el-radio-button",{attrs:{label:"2"}},[e._v("执行一次")]),a("el-radio-button",{attrs:{label:"3"}},[e._v("放弃执行")])],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否并发",prop:"concurrent"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.form.concurrent,callback:function(t){e.$set(e.form,"concurrent",t)},expression:"form.concurrent"}},[a("el-radio-button",{attrs:{label:"0"}},[e._v("允许")]),a("el-radio-button",{attrs:{label:"1"}},[e._v("禁止")])],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.dict.type.sys_job_status,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{staticClass:"scrollbar",attrs:{"close-on-click-modal":!1,title:"Cron表达式生成器",visible:e.openCron,"append-to-body":"","destroy-on-close":""},on:{"update:visible":function(t){e.openCron=t}}},[a("crontab",{attrs:{expression:e.expression},on:{hide:function(t){e.openCron=!1},fill:e.crontabFill}})],1),a("el-dialog",{attrs:{title:"任务详细",visible:e.openView,width:"700px","append-to-body":""},on:{"update:visible":function(t){e.openView=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px",size:"mini"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务编号："}},[e._v(e._s(e.form.jobId))]),a("el-form-item",{attrs:{label:"任务名称："}},[e._v(e._s(e.form.jobName))])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务分组："}},[e._v(e._s(e.jobGroupFormat(e.form)))]),a("el-form-item",{attrs:{label:"创建时间："}},[e._v(e._s(e.form.createTime))])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"cron表达式："}},[e._v(e._s(e.form.cronExpression))])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"下次执行时间："}},[e._v(e._s(e.parseTime(e.form.nextValidTime)))])],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"调用目标方法："}},[e._v(e._s(e.form.invokeTarget))])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务状态："}},[0==e.form.status?a("div",[e._v("正常")]):1==e.form.status?a("div",[e._v("失败")]):e._e()])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否并发："}},[0==e.form.concurrent?a("div",[e._v("允许")]):1==e.form.concurrent?a("div",[e._v("禁止")]):e._e()])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"执行策略："}},[0==e.form.misfirePolicy?a("div",[e._v("默认策略")]):1==e.form.misfirePolicy?a("div",[e._v("立即执行")]):2==e.form.misfirePolicy?a("div",[e._v("执行一次")]):3==e.form.misfirePolicy?a("div",[e._v("放弃执行")]):e._e()])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.openView=!1}}},[e._v("关 闭")])],1)],1)],1)},o=[],l=(a("6540"),a("1d7a"),a("a159")),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-tabs",{attrs:{type:"border-card"}},[e.shouldHide("second")?a("el-tab-pane",{attrs:{label:"秒"}},[a("CrontabSecond",{ref:"cronsecond",attrs:{check:e.checkNumber},on:{update:e.updateCrontabValue}})],1):e._e(),e.shouldHide("min")?a("el-tab-pane",{attrs:{label:"分钟"}},[a("CrontabMin",{ref:"cronmin",attrs:{check:e.checkNumber,cron:e.crontabValueObj},on:{update:e.updateCrontabValue}})],1):e._e(),e.shouldHide("hour")?a("el-tab-pane",{attrs:{label:"小时"}},[a("CrontabHour",{ref:"cronhour",attrs:{check:e.checkNumber,cron:e.crontabValueObj},on:{update:e.updateCrontabValue}})],1):e._e(),e.shouldHide("day")?a("el-tab-pane",{attrs:{label:"日"}},[a("CrontabDay",{ref:"cronday",attrs:{check:e.checkNumber,cron:e.crontabValueObj},on:{update:e.updateCrontabValue}})],1):e._e(),e.shouldHide("month")?a("el-tab-pane",{attrs:{label:"月"}},[a("CrontabMonth",{ref:"cronmonth",attrs:{check:e.checkNumber,cron:e.crontabValueObj},on:{update:e.updateCrontabValue}})],1):e._e(),e.shouldHide("week")?a("el-tab-pane",{attrs:{label:"周"}},[a("CrontabWeek",{ref:"cronweek",attrs:{check:e.checkNumber,cron:e.crontabValueObj},on:{update:e.updateCrontabValue}})],1):e._e(),e.shouldHide("year")?a("el-tab-pane",{attrs:{label:"年"}},[a("CrontabYear",{ref:"cronyear",attrs:{check:e.checkNumber,cron:e.crontabValueObj},on:{update:e.updateCrontabValue}})],1):e._e()],1),a("div",{staticClass:"popup-main"},[a("div",{staticClass:"popup-result"},[a("p",{staticClass:"title"},[e._v("时间表达式")]),a("table",[a("thead",[e._l(e.tabTitles,(function(t){return a("th",{key:t,attrs:{width:"40"}},[e._v(e._s(t))])})),a("th",[e._v("Cron 表达式")])],2),a("tbody",[a("td",[a("span",[e._v(e._s(e.crontabValueObj.second))])]),a("td",[a("span",[e._v(e._s(e.crontabValueObj.min))])]),a("td",[a("span",[e._v(e._s(e.crontabValueObj.hour))])]),a("td",[a("span",[e._v(e._s(e.crontabValueObj.day))])]),a("td",[a("span",[e._v(e._s(e.crontabValueObj.month))])]),a("td",[a("span",[e._v(e._s(e.crontabValueObj.week))])]),a("td",[a("span",[e._v(e._s(e.crontabValueObj.year))])]),a("td",[a("span",[e._v(e._s(e.crontabValueString))])])])])]),a("CrontabResult",{attrs:{ex:e.crontabValueString}}),a("div",{staticClass:"pop_btn"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submitFill}},[e._v("确定")]),a("el-button",{attrs:{size:"small",type:"warning"},on:{click:e.clearCron}},[e._v("重置")]),a("el-button",{attrs:{size:"small"},on:{click:e.hidePopup}},[e._v("取消")])],1)],1)],1)},s=[],n=a("06c4"),c=(a("c726"),a("b784"),a("0bd5"),a("79a8"),a("445a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{size:"small"}},[a("el-form-item",[a("el-radio",{attrs:{label:1},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 秒，允许的通配符[, - * /] ")])],1),a("el-form-item",[a("el-radio",{attrs:{label:2},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 周期从 "),a("el-input-number",{attrs:{min:0,max:60},model:{value:e.cycle01,callback:function(t){e.cycle01=t},expression:"cycle01"}}),e._v(" - "),a("el-input-number",{attrs:{min:0,max:60},model:{value:e.cycle02,callback:function(t){e.cycle02=t},expression:"cycle02"}}),e._v(" 秒 ")],1)],1),a("el-form-item",[a("el-radio",{attrs:{label:3},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 从 "),a("el-input-number",{attrs:{min:0,max:60},model:{value:e.average01,callback:function(t){e.average01=t},expression:"average01"}}),e._v(" 秒开始，每 "),a("el-input-number",{attrs:{min:0,max:60},model:{value:e.average02,callback:function(t){e.average02=t},expression:"average02"}}),e._v(" 秒执行一次 ")],1)],1),a("el-form-item",[a("el-radio",{attrs:{label:4},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 指定 "),a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"可多选",multiple:""},model:{value:e.checkboxList,callback:function(t){e.checkboxList=t},expression:"checkboxList"}},e._l(60,(function(t){return a("el-option",{key:t,attrs:{value:t-1}},[e._v(e._s(t-1))])})),1)],1)],1)],1)}),u=[],d=(a("cca2"),{data:function(){return{radioValue:1,cycle01:1,cycle02:2,average01:0,average02:1,checkboxList:[],checkNum:this.$options.propsData.check}},name:"crontab-second",props:["check","radioParent"],methods:{radioChange:function(){switch(this.radioValue){case 1:this.$emit("update","second","*","second"),this.$emit("update","min","*","second");break;case 2:this.$emit("update","second",this.cycle01+"-"+this.cycle02);break;case 3:this.$emit("update","second",this.average01+"/"+this.average02);break;case 4:this.$emit("update","second",this.checkboxString);break}},cycleChange:function(){"2"==this.radioValue&&this.$emit("update","second",this.cycleTotal)},averageChange:function(){"3"==this.radioValue&&this.$emit("update","second",this.averageTotal)},checkboxChange:function(){"4"==this.radioValue&&this.$emit("update","second",this.checkboxString)},othChange:function(){var e=this.cron.second("反解析 second",e);"*"===e?this.radioValue=1:e.indexOf("-")>-1?this.radioValue=2:e.indexOf("/")>-1?this.radioValue=3:(this.radioValue=4,this.checkboxList=e.split(","))}},watch:{radioValue:"radioChange",cycleTotal:"cycleChange",averageTotal:"averageChange",checkboxString:"checkboxChange",radioParent:function(){this.radioValue=this.radioParent}},computed:{cycleTotal:function(){return this.cycle01=this.checkNum(this.cycle01,0,59),this.cycle02=this.checkNum(this.cycle02,0,59),this.cycle01+"-"+this.cycle02},averageTotal:function(){return this.average01=this.checkNum(this.average01,0,59),this.average02=this.checkNum(this.average02,1,59),this.average01+"/"+this.average02},checkboxString:function(){var e=this.checkboxList.join();return""==e?"*":e}}}),m=d,p=a("cba8"),f=Object(p["a"])(m,c,u,!1,null,null,null),h=f.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{size:"small"}},[a("el-form-item",[a("el-radio",{attrs:{label:1},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 分钟，允许的通配符[, - * /] ")])],1),a("el-form-item",[a("el-radio",{attrs:{label:2},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 周期从 "),a("el-input-number",{attrs:{min:0,max:60},model:{value:e.cycle01,callback:function(t){e.cycle01=t},expression:"cycle01"}}),e._v(" - "),a("el-input-number",{attrs:{min:0,max:60},model:{value:e.cycle02,callback:function(t){e.cycle02=t},expression:"cycle02"}}),e._v(" 分钟 ")],1)],1),a("el-form-item",[a("el-radio",{attrs:{label:3},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 从 "),a("el-input-number",{attrs:{min:0,max:60},model:{value:e.average01,callback:function(t){e.average01=t},expression:"average01"}}),e._v(" 分钟开始，每 "),a("el-input-number",{attrs:{min:0,max:60},model:{value:e.average02,callback:function(t){e.average02=t},expression:"average02"}}),e._v(" 分钟执行一次 ")],1)],1),a("el-form-item",[a("el-radio",{attrs:{label:4},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 指定 "),a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"可多选",multiple:""},model:{value:e.checkboxList,callback:function(t){e.checkboxList=t},expression:"checkboxList"}},e._l(60,(function(t){return a("el-option",{key:t,attrs:{value:t-1}},[e._v(e._s(t-1))])})),1)],1)],1)],1)},v=[],g={data:function(){return{radioValue:1,cycle01:1,cycle02:2,average01:0,average02:1,checkboxList:[],checkNum:this.$options.propsData.check}},name:"crontab-min",props:["check","cron"],methods:{radioChange:function(){switch(1!==this.radioValue&&"*"===this.cron.second&&this.$emit("update","second","0","min"),this.radioValue){case 1:this.$emit("update","min","*","min"),this.$emit("update","hour","*","min");break;case 2:this.$emit("update","min",this.cycle01+"-"+this.cycle02,"min");break;case 3:this.$emit("update","min",this.average01+"/"+this.average02,"min");break;case 4:this.$emit("update","min",this.checkboxString,"min");break}},cycleChange:function(){"2"==this.radioValue&&this.$emit("update","min",this.cycleTotal,"min")},averageChange:function(){"3"==this.radioValue&&this.$emit("update","min",this.averageTotal,"min")},checkboxChange:function(){"4"==this.radioValue&&this.$emit("update","min",this.checkboxString,"min")}},watch:{radioValue:"radioChange",cycleTotal:"cycleChange",averageTotal:"averageChange",checkboxString:"checkboxChange"},computed:{cycleTotal:function(){return this.cycle01=this.checkNum(this.cycle01,0,59),this.cycle02=this.checkNum(this.cycle02,0,59),this.cycle01+"-"+this.cycle02},averageTotal:function(){return this.average01=this.checkNum(this.average01,0,59),this.average02=this.checkNum(this.average02,1,59),this.average01+"/"+this.average02},checkboxString:function(){var e=this.checkboxList.join();return""==e?"*":e}}},y=g,k=Object(p["a"])(y,b,v,!1,null,null,null),_=k.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{size:"small"}},[a("el-form-item",[a("el-radio",{attrs:{label:1},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 小时，允许的通配符[, - * /] ")])],1),a("el-form-item",[a("el-radio",{attrs:{label:2},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 周期从 "),a("el-input-number",{attrs:{min:0,max:60},model:{value:e.cycle01,callback:function(t){e.cycle01=t},expression:"cycle01"}}),e._v(" - "),a("el-input-number",{attrs:{min:0,max:60},model:{value:e.cycle02,callback:function(t){e.cycle02=t},expression:"cycle02"}}),e._v(" 小时 ")],1)],1),a("el-form-item",[a("el-radio",{attrs:{label:3},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 从 "),a("el-input-number",{attrs:{min:0,max:60},model:{value:e.average01,callback:function(t){e.average01=t},expression:"average01"}}),e._v(" 小时开始，每 "),a("el-input-number",{attrs:{min:0,max:60},model:{value:e.average02,callback:function(t){e.average02=t},expression:"average02"}}),e._v(" 小时执行一次 ")],1)],1),a("el-form-item",[a("el-radio",{attrs:{label:4},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 指定 "),a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"可多选",multiple:""},model:{value:e.checkboxList,callback:function(t){e.checkboxList=t},expression:"checkboxList"}},e._l(60,(function(t){return a("el-option",{key:t,attrs:{value:t-1}},[e._v(e._s(t-1))])})),1)],1)],1)],1)},x=[],C={data:function(){return{radioValue:1,cycle01:0,cycle02:1,average01:0,average02:1,checkboxList:[],checkNum:this.$options.propsData.check}},name:"crontab-hour",props:["check","cron"],methods:{radioChange:function(){switch(1===this.radioValue?(this.$emit("update","hour","*","hour"),this.$emit("update","day","*","hour")):("*"===this.cron.min&&this.$emit("update","min","0","hour"),"*"===this.cron.second&&this.$emit("update","second","0","hour")),this.radioValue){case 2:this.$emit("update","hour",this.cycle01+"-"+this.cycle02);break;case 3:this.$emit("update","hour",this.average01+"/"+this.average02);break;case 4:this.$emit("update","hour",this.checkboxString);break}},cycleChange:function(){"2"==this.radioValue&&this.$emit("update","hour",this.cycleTotal)},averageChange:function(){"3"==this.radioValue&&this.$emit("update","hour",this.averageTotal)},checkboxChange:function(){"4"==this.radioValue&&this.$emit("update","hour",this.checkboxString)}},watch:{radioValue:"radioChange",cycleTotal:"cycleChange",averageTotal:"averageChange",checkboxString:"checkboxChange"},computed:{cycleTotal:function(){return this.cycle01=this.checkNum(this.cycle01,0,23),this.cycle02=this.checkNum(this.cycle02,0,23),this.cycle01+"-"+this.cycle02},averageTotal:function(){return this.average01=this.checkNum(this.average01,0,23),this.average02=this.checkNum(this.average02,1,23),this.average01+"/"+this.average02},checkboxString:function(){var e=this.checkboxList.join();return""==e?"*":e}}},I=C,S=Object(p["a"])(I,w,x,!1,null,null,null),O=S.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{size:"small"}},[a("el-form-item",[a("el-radio",{attrs:{label:1},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 日，允许的通配符[, - * / L M] ")])],1),a("el-form-item",[a("el-radio",{attrs:{label:2},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 不指定 ")])],1),a("el-form-item",[a("el-radio",{attrs:{label:3},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 周期从 "),a("el-input-number",{attrs:{min:0,max:31},model:{value:e.cycle01,callback:function(t){e.cycle01=t},expression:"cycle01"}}),e._v(" - "),a("el-input-number",{attrs:{min:0,max:31},model:{value:e.cycle02,callback:function(t){e.cycle02=t},expression:"cycle02"}}),e._v(" 日 ")],1)],1),a("el-form-item",[a("el-radio",{attrs:{label:4},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 从 "),a("el-input-number",{attrs:{min:0,max:31},model:{value:e.average01,callback:function(t){e.average01=t},expression:"average01"}}),e._v(" 号开始，每 "),a("el-input-number",{attrs:{min:0,max:31},model:{value:e.average02,callback:function(t){e.average02=t},expression:"average02"}}),e._v(" 日执行一次 ")],1)],1),a("el-form-item",[a("el-radio",{attrs:{label:5},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 每月 "),a("el-input-number",{attrs:{min:0,max:31},model:{value:e.workday,callback:function(t){e.workday=t},expression:"workday"}}),e._v(" 号最近的那个工作日 ")],1)],1),a("el-form-item",[a("el-radio",{attrs:{label:6},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 本月最后一天 ")])],1),a("el-form-item",[a("el-radio",{attrs:{label:7},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 指定 "),a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"可多选",multiple:""},model:{value:e.checkboxList,callback:function(t){e.checkboxList=t},expression:"checkboxList"}},e._l(31,(function(t){return a("el-option",{key:t,attrs:{value:t}},[e._v(e._s(t))])})),1)],1)],1)],1)},$=[],q={data:function(){return{radioValue:1,workday:1,cycle01:1,cycle02:2,average01:1,average02:1,checkboxList:[],checkNum:this.$options.propsData.check}},name:"crontab-day",props:["check","cron"],methods:{radioChange:function(){switch(1===this.radioValue?(this.$emit("update","day","*","day"),this.$emit("update","week","?","day"),this.$emit("update","month","*","day")):("*"===this.cron.hour&&this.$emit("update","hour","0","day"),"*"===this.cron.min&&this.$emit("update","min","0","day"),"*"===this.cron.second&&this.$emit("update","second","0","day")),this.radioValue){case 2:this.$emit("update","day","?");break;case 3:this.$emit("update","day",this.cycle01+"-"+this.cycle02);break;case 4:this.$emit("update","day",this.average01+"/"+this.average02);break;case 5:this.$emit("update","day",this.workday+"W");break;case 6:this.$emit("update","day","L");break;case 7:this.$emit("update","day",this.checkboxString);break}},cycleChange:function(){"3"==this.radioValue&&this.$emit("update","day",this.cycleTotal)},averageChange:function(){"4"==this.radioValue&&this.$emit("update","day",this.averageTotal)},workdayChange:function(){"5"==this.radioValue&&this.$emit("update","day",this.workday+"W")},checkboxChange:function(){"7"==this.radioValue&&this.$emit("update","day",this.checkboxString)},weekChange:function(){"?"==this.cron.week&&"2"==this.radioValue?this.radioValue="1":"?"!==this.cron.week&&"2"!=this.radioValue&&(this.radioValue="2")}},watch:{radioValue:"radioChange",cycleTotal:"cycleChange",averageTotal:"averageChange",workdayCheck:"workdayChange",checkboxString:"checkboxChange"},computed:{cycleTotal:function(){return this.cycle01=this.checkNum(this.cycle01,1,31),this.cycle02=this.checkNum(this.cycle02,1,31),this.cycle01+"-"+this.cycle02},averageTotal:function(){return this.average01=this.checkNum(this.average01,1,31),this.average02=this.checkNum(this.average02,1,31),this.average01+"/"+this.average02},workdayCheck:function(){return this.workday=this.checkNum(this.workday,1,31),this.workday},checkboxString:function(){var e=this.checkboxList.join();return""==e?"*":e}}},D=q,N=Object(p["a"])(D,j,$,!1,null,null,null),L=N.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{size:"small"}},[a("el-form-item",[a("el-radio",{attrs:{label:1},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 月，允许的通配符[, - * /] ")])],1),a("el-form-item",[a("el-radio",{attrs:{label:2},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 周期从 "),a("el-input-number",{attrs:{min:1,max:12},model:{value:e.cycle01,callback:function(t){e.cycle01=t},expression:"cycle01"}}),e._v(" - "),a("el-input-number",{attrs:{min:1,max:12},model:{value:e.cycle02,callback:function(t){e.cycle02=t},expression:"cycle02"}}),e._v(" 月 ")],1)],1),a("el-form-item",[a("el-radio",{attrs:{label:3},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 从 "),a("el-input-number",{attrs:{min:1,max:12},model:{value:e.average01,callback:function(t){e.average01=t},expression:"average01"}}),e._v(" 月开始，每 "),a("el-input-number",{attrs:{min:1,max:12},model:{value:e.average02,callback:function(t){e.average02=t},expression:"average02"}}),e._v(" 月月执行一次 ")],1)],1),a("el-form-item",[a("el-radio",{attrs:{label:4},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 指定 "),a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"可多选",multiple:""},model:{value:e.checkboxList,callback:function(t){e.checkboxList=t},expression:"checkboxList"}},e._l(12,(function(t){return a("el-option",{key:t,attrs:{value:t}},[e._v(e._s(t))])})),1)],1)],1)],1)},T=[],F={data:function(){return{radioValue:1,cycle01:1,cycle02:2,average01:1,average02:1,checkboxList:[],checkNum:this.check}},name:"crontab-month",props:["check","cron"],methods:{radioChange:function(){switch(1===this.radioValue?(this.$emit("update","month","*"),this.$emit("update","year","*")):("*"===this.cron.day&&this.$emit("update","day","0","month"),"*"===this.cron.hour&&this.$emit("update","hour","0","month"),"*"===this.cron.min&&this.$emit("update","min","0","month"),"*"===this.cron.second&&this.$emit("update","second","0","month")),this.radioValue){case 2:this.$emit("update","month",this.cycle01+"-"+this.cycle02);break;case 3:this.$emit("update","month",this.average01+"/"+this.average02);break;case 4:this.$emit("update","month",this.checkboxString);break}},cycleChange:function(){"2"==this.radioValue&&this.$emit("update","month",this.cycleTotal)},averageChange:function(){"3"==this.radioValue&&this.$emit("update","month",this.averageTotal)},checkboxChange:function(){"4"==this.radioValue&&this.$emit("update","month",this.checkboxString)}},watch:{radioValue:"radioChange",cycleTotal:"cycleChange",averageTotal:"averageChange",checkboxString:"checkboxChange"},computed:{cycleTotal:function(){return this.cycle01=this.checkNum(this.cycle01,1,12),this.cycle02=this.checkNum(this.cycle02,1,12),this.cycle01+"-"+this.cycle02},averageTotal:function(){return this.average01=this.checkNum(this.average01,1,12),this.average02=this.checkNum(this.average02,1,12),this.average01+"/"+this.average02},checkboxString:function(){var e=this.checkboxList.join();return""==e?"*":e}}},z=F,A=Object(p["a"])(z,P,T,!1,null,null,null),E=A.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{size:"small"}},[a("el-form-item",[a("el-radio",{attrs:{label:1},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 周，允许的通配符[, - * / L #] ")])],1),a("el-form-item",[a("el-radio",{attrs:{label:2},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 不指定 ")])],1),a("el-form-item",[a("el-radio",{attrs:{label:3},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 周期从星期 "),a("el-input-number",{attrs:{min:1,max:7},model:{value:e.cycle01,callback:function(t){e.cycle01=t},expression:"cycle01"}}),e._v(" - "),a("el-input-number",{attrs:{min:1,max:7},model:{value:e.cycle02,callback:function(t){e.cycle02=t},expression:"cycle02"}})],1)],1),a("el-form-item",[a("el-radio",{attrs:{label:4},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 第 "),a("el-input-number",{attrs:{min:1,max:4},model:{value:e.average01,callback:function(t){e.average01=t},expression:"average01"}}),e._v(" 周的星期 "),a("el-input-number",{attrs:{min:1,max:7},model:{value:e.average02,callback:function(t){e.average02=t},expression:"average02"}})],1)],1),a("el-form-item",[a("el-radio",{attrs:{label:5},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 本月最后一个星期 "),a("el-input-number",{attrs:{min:1,max:7},model:{value:e.weekday,callback:function(t){e.weekday=t},expression:"weekday"}})],1)],1),a("el-form-item",[a("el-radio",{attrs:{label:6},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 指定 "),a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"可多选",multiple:""},model:{value:e.checkboxList,callback:function(t){e.checkboxList=t},expression:"checkboxList"}},e._l(e.weekList,(function(t,r){return a("el-option",{key:r,attrs:{value:r+1}},[e._v(e._s(t))])})),1)],1)],1)],1)},M=[],V={data:function(){return{radioValue:2,weekday:1,cycle01:1,cycle02:2,average01:1,average02:1,checkboxList:[],weekList:["周一","周二","周三","周四","周五","周六","周日"],checkNum:this.$options.propsData.check}},name:"crontab-week",props:["check","cron"],methods:{radioChange:function(){switch(1===this.radioValue?(this.$emit("update","week","*"),this.$emit("update","year","*")):("*"===this.cron.month&&this.$emit("update","month","0","week"),"*"===this.cron.day&&this.$emit("update","day","0","week"),"*"===this.cron.hour&&this.$emit("update","hour","0","week"),"*"===this.cron.min&&this.$emit("update","min","0","week"),"*"===this.cron.second&&this.$emit("update","second","0","week")),this.radioValue){case 2:this.$emit("update","week","?");break;case 3:this.$emit("update","week",this.cycle01+"-"+this.cycle02);break;case 4:this.$emit("update","week",this.average01+"#"+this.average02);break;case 5:this.$emit("update","week",this.weekday+"L");break;case 6:this.$emit("update","week",this.checkboxString);break}},cycleChange:function(){"3"==this.radioValue&&this.$emit("update","week",this.cycleTotal)},averageChange:function(){"4"==this.radioValue&&this.$emit("update","week",this.averageTotal)},weekdayChange:function(){"5"==this.radioValue&&this.$emit("update","week",this.weekday+"L")},checkboxChange:function(){"6"==this.radioValue&&this.$emit("update","week",this.checkboxString)}},watch:{radioValue:"radioChange",cycleTotal:"cycleChange",averageTotal:"averageChange",weekdayCheck:"weekdayChange",checkboxString:"checkboxChange"},computed:{cycleTotal:function(){return this.cycle01=this.checkNum(this.cycle01,1,7),this.cycle02=this.checkNum(this.cycle02,1,7),this.cycle01+"-"+this.cycle02},averageTotal:function(){return this.average01=this.checkNum(this.average01,1,4),this.average02=this.checkNum(this.average02,1,7),this.average01+"#"+this.average02},weekdayCheck:function(){return this.weekday=this.checkNum(this.weekday,1,7),this.weekday},checkboxString:function(){var e=this.checkboxList.join();return""==e?"*":e}}},Q=V,R=Object(p["a"])(Q,U,M,!1,null,null,null),B=R.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{size:"small"}},[a("el-form-item",[a("el-radio",{attrs:{label:1},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 不填，允许的通配符[, - * /] ")])],1),a("el-form-item",[a("el-radio",{attrs:{label:2},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 每年 ")])],1),a("el-form-item",[a("el-radio",{attrs:{label:3},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 周期从 "),a("el-input-number",{attrs:{min:e.fullYear},model:{value:e.cycle01,callback:function(t){e.cycle01=t},expression:"cycle01"}}),e._v(" - "),a("el-input-number",{attrs:{min:e.fullYear},model:{value:e.cycle02,callback:function(t){e.cycle02=t},expression:"cycle02"}})],1)],1),a("el-form-item",[a("el-radio",{attrs:{label:4},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 从 "),a("el-input-number",{attrs:{min:e.fullYear},model:{value:e.average01,callback:function(t){e.average01=t},expression:"average01"}}),e._v(" 年开始，每 "),a("el-input-number",{attrs:{min:e.fullYear},model:{value:e.average02,callback:function(t){e.average02=t},expression:"average02"}}),e._v(" 年执行一次 ")],1)],1),a("el-form-item",[a("el-radio",{attrs:{label:5},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._v(" 指定 "),a("el-select",{attrs:{clearable:"",placeholder:"可多选",multiple:""},model:{value:e.checkboxList,callback:function(t){e.checkboxList=t},expression:"checkboxList"}},e._l(9,(function(t){return a("el-option",{key:t,attrs:{value:t-1+e.fullYear,label:t-1+e.fullYear}})})),1)],1)],1)],1)},H=[],K=(a("d0bf"),{data:function(){return{fullYear:0,radioValue:1,cycle01:0,cycle02:0,average01:0,average02:1,checkboxList:[],checkNum:this.$options.propsData.check}},name:"crontab-year",props:["check","month","cron"],methods:{radioChange:function(){switch("*"===this.cron.month&&this.$emit("update","month","0","year"),"*"===this.cron.day&&this.$emit("update","day","0","year"),"*"===this.cron.hour&&this.$emit("update","hour","0","year"),"*"===this.cron.min&&this.$emit("update","min","0","year"),"*"===this.cron.second&&this.$emit("update","second","0","year"),this.radioValue){case 1:this.$emit("update","year","");break;case 2:this.$emit("update","year","*");break;case 3:this.$emit("update","year",this.cycle01+"-"+this.cycle02);break;case 4:this.$emit("update","year",this.average01+"/"+this.average02);break;case 5:this.$emit("update","year",this.checkboxString);break}},cycleChange:function(){"3"==this.radioValue&&this.$emit("update","year",this.cycleTotal)},averageChange:function(){"4"==this.radioValue&&this.$emit("update","year",this.averageTotal)},checkboxChange:function(){"5"==this.radioValue&&this.$emit("update","year",this.checkboxString)}},watch:{radioValue:"radioChange",cycleTotal:"cycleChange",averageTotal:"averageChange",checkboxString:"checkboxChange"},computed:{cycleTotal:function(){return this.cycle01=this.checkNum(this.cycle01,this.fullYear,this.fullYear+100),this.cycle02=this.checkNum(this.cycle02,this.fullYear+1,this.fullYear+101),this.cycle01+"-"+this.cycle02},averageTotal:function(){return this.average01=this.checkNum(this.average01,this.fullYear,this.fullYear+100),this.average02=this.checkNum(this.average02,1,10),this.average01+"/"+this.average02},checkboxString:function(){var e=this.checkboxList.join();return e}},mounted:function(){this.fullYear=Number((new Date).getFullYear())}}),W=K,J=Object(p["a"])(W,G,H,!1,null,null,null),Y=J.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"popup-result"},[a("p",{staticClass:"title"},[e._v("最近5次运行时间")]),a("ul",{staticClass:"popup-result-scroll"},[e.isShow?e._l(e.resultList,(function(t){return a("li",{key:t},[e._v(e._s(t))])})):a("li",[e._v("计算结果中...")])],2)])},X=[],ee=(a("5a4c"),a("dede"),{data:function(){return{dayRule:"",dayRuleSup:"",dateArr:[],resultList:[],isShow:!1}},name:"crontab-result",methods:{expressionChange:function(){this.isShow=!1;var e=this.$options.propsData.ex.split(" "),t=0,a=[],r=new Date,o=r.getFullYear(),l=r.getMonth()+1,i=r.getDate(),s=r.getHours(),n=r.getMinutes(),c=r.getSeconds();this.getSecondArr(e[0]),this.getMinArr(e[1]),this.getHourArr(e[2]),this.getDayArr(e[3]),this.getMonthArr(e[4]),this.getWeekArr(e[5]),this.getYearArr(e[6],o);var u=this.dateArr[0],d=this.dateArr[1],m=this.dateArr[2],p=this.dateArr[3],f=this.dateArr[4],h=this.dateArr[5],b=this.getIndex(u,c),v=this.getIndex(d,n),g=this.getIndex(m,s),y=this.getIndex(p,i),k=this.getIndex(f,l),_=this.getIndex(h,o),w=function(){b=0,c=u[b]},x=function(){v=0,n=d[v],w()},C=function(){g=0,s=m[g],x()},I=function(){y=0,i=p[y],C()},S=function(){k=0,l=f[k],I()};o!==h[_]&&S(),l!==f[k]&&I(),i!==p[y]&&C(),s!==m[g]&&x(),n!==d[v]&&w();e:for(var O=_;O<h.length;O++){var j=h[O];if(l>f[f.length-1])S();else t:for(var $=k;$<f.length;$++){var q=f[$];if(q=q<10?"0"+q:q,i>p[p.length-1]){if(I(),$==f.length-1){S();continue e}}else a:for(var D=y;D<p.length;D++){var N=p[D],L=N<10?"0"+N:N;if(s>m[m.length-1]){if(C(),D==p.length-1){if(I(),$==f.length-1){S();continue e}continue t}}else{if(!0!==this.checkDate(j+"-"+q+"-"+L+" 00:00:00")&&"workDay"!==this.dayRule&&"lastWeek"!==this.dayRule&&"lastDay"!==this.dayRule){I();continue t}if("lastDay"==this.dayRule){if(!0!==this.checkDate(j+"-"+q+"-"+L+" 00:00:00"))while(N>0&&!0!==this.checkDate(j+"-"+q+"-"+L+" 00:00:00"))N--,L=N<10?"0"+N:N}else if("workDay"==this.dayRule){if(!0!==this.checkDate(j+"-"+q+"-"+L+" 00:00:00"))while(N>0&&!0!==this.checkDate(j+"-"+q+"-"+L+" 00:00:00"))N--,L=N<10?"0"+N:N;var P=this.formatDate(new Date(j+"-"+q+"-"+L+" 00:00:00"),"week");0==P?(N++,L=N<10?"0"+N:N,!0!==this.checkDate(j+"-"+q+"-"+L+" 00:00:00")&&(N-=3)):6==P&&(1!==this.dayRuleSup?N--:N+=2)}else if("weekDay"==this.dayRule){var T=this.formatDate(new Date(j+"-"+q+"-"+N+" 00:00:00"),"week");if(Array.indexOf(this.dayRuleSup,T)<0){if(D==p.length-1){if(I(),$==f.length-1){S();continue e}continue t}continue}}else if("assWeek"==this.dayRule){var F=this.formatDate(new Date(j+"-"+q+"-"+N+" 00:00:00"),"week");N=this.dayRuleSup[1]>=F?7*(this.dayRuleSup[0]-1)+this.dayRuleSup[1]-F+1:7*this.dayRuleSup[0]+this.dayRuleSup[1]-F+1}else if("lastWeek"==this.dayRule){if(!0!==this.checkDate(j+"-"+q+"-"+L+" 00:00:00"))while(N>0&&!0!==this.checkDate(j+"-"+q+"-"+L+" 00:00:00"))N--,L=N<10?"0"+N:N;var z=this.formatDate(new Date(j+"-"+q+"-"+L+" 00:00:00"),"week");this.dayRuleSup<z?N-=z-this.dayRuleSup:this.dayRuleSup>z&&(N-=7-(this.dayRuleSup-z))}N=N<10?"0"+N:N;r:for(var A=g;A<m.length;A++){var E=m[A]<10?"0"+m[A]:m[A];if(n>d[d.length-1]){if(x(),A==m.length-1){if(C(),D==p.length-1){if(I(),$==f.length-1){S();continue e}continue t}continue a}}else o:for(var U=v;U<d.length;U++){var M=d[U]<10?"0"+d[U]:d[U];if(c>u[u.length-1]){if(w(),U==d.length-1){if(x(),A==m.length-1){if(C(),D==p.length-1){if(I(),$==f.length-1){S();continue e}continue t}continue a}continue r}}else for(var V=b;V<=u.length-1;V++){var Q=u[V]<10?"0"+u[V]:u[V];if("00"!==q&&"00"!==N&&(a.push(j+"-"+q+"-"+N+" "+E+":"+M+":"+Q),t++),5==t)break e;if(V==u.length-1){if(w(),U==d.length-1){if(x(),A==m.length-1){if(C(),D==p.length-1){if(I(),$==f.length-1){S();continue e}continue t}continue a}continue r}continue o}}}}}}}}0==a.length?this.resultList=["没有达到条件的结果！"]:(this.resultList=a,5!==a.length&&this.resultList.push("最近100年内只有上面"+a.length+"条结果！")),this.isShow=!0},getIndex:function(e,t){if(t<=e[0]||t>e[e.length-1])return 0;for(var a=0;a<e.length-1;a++)if(t>e[a]&&t<=e[a+1])return a+1},getYearArr:function(e,t){this.dateArr[5]=this.getOrderArr(t,t+100),void 0!==e&&(e.indexOf("-")>=0?this.dateArr[5]=this.getCycleArr(e,t+100,!1):e.indexOf("/")>=0?this.dateArr[5]=this.getAverageArr(e,t+100):"*"!==e&&(this.dateArr[5]=this.getAssignArr(e)))},getMonthArr:function(e){this.dateArr[4]=this.getOrderArr(1,12),e.indexOf("-")>=0?this.dateArr[4]=this.getCycleArr(e,12,!1):e.indexOf("/")>=0?this.dateArr[4]=this.getAverageArr(e,12):"*"!==e&&(this.dateArr[4]=this.getAssignArr(e))},getWeekArr:function(e){if(""==this.dayRule&&""==this.dayRuleSup){if(e.indexOf("-")>=0)this.dayRule="weekDay",this.dayRuleSup=this.getCycleArr(e,7,!1);else if(e.indexOf("#")>=0){this.dayRule="assWeek";var t=e.match(/[0-9]{1}/g);this.dayRuleSup=[Number(t[0]),Number(t[1])],this.dateArr[3]=[1],7==this.dayRuleSup[1]&&(this.dayRuleSup[1]=0)}else e.indexOf("L")>=0?(this.dayRule="lastWeek",this.dayRuleSup=Number(e.match(/[0-9]{1,2}/g)[0]),this.dateArr[3]=[31],7==this.dayRuleSup&&(this.dayRuleSup=0)):"*"!==e&&"?"!==e&&(this.dayRule="weekDay",this.dayRuleSup=this.getAssignArr(e));if("weekDay"==this.dayRule)for(var a=0;a<this.dayRuleSup.length;a++)7==this.dayRuleSup[a]&&(this.dayRuleSup[a]=0)}},getDayArr:function(e){this.dateArr[3]=this.getOrderArr(1,31),this.dayRule="",this.dayRuleSup="",e.indexOf("-")>=0?(this.dateArr[3]=this.getCycleArr(e,31,!1),this.dayRuleSup="null"):e.indexOf("/")>=0?(this.dateArr[3]=this.getAverageArr(e,31),this.dayRuleSup="null"):e.indexOf("W")>=0?(this.dayRule="workDay",this.dayRuleSup=Number(e.match(/[0-9]{1,2}/g)[0]),this.dateArr[3]=[this.dayRuleSup]):e.indexOf("L")>=0?(this.dayRule="lastDay",this.dayRuleSup="null",this.dateArr[3]=[31]):"*"!==e&&"?"!==e?(this.dateArr[3]=this.getAssignArr(e),this.dayRuleSup="null"):"*"==e&&(this.dayRuleSup="null")},getHourArr:function(e){this.dateArr[2]=this.getOrderArr(0,23),e.indexOf("-")>=0?this.dateArr[2]=this.getCycleArr(e,24,!0):e.indexOf("/")>=0?this.dateArr[2]=this.getAverageArr(e,23):"*"!==e&&(this.dateArr[2]=this.getAssignArr(e))},getMinArr:function(e){this.dateArr[1]=this.getOrderArr(0,59),e.indexOf("-")>=0?this.dateArr[1]=this.getCycleArr(e,60,!0):e.indexOf("/")>=0?this.dateArr[1]=this.getAverageArr(e,59):"*"!==e&&(this.dateArr[1]=this.getAssignArr(e))},getSecondArr:function(e){this.dateArr[0]=this.getOrderArr(0,59),e.indexOf("-")>=0?this.dateArr[0]=this.getCycleArr(e,60,!0):e.indexOf("/")>=0?this.dateArr[0]=this.getAverageArr(e,59):"*"!==e&&(this.dateArr[0]=this.getAssignArr(e))},getOrderArr:function(e,t){for(var a=[],r=e;r<=t;r++)a.push(r);return a},getAssignArr:function(e){for(var t=[],a=e.split(","),r=0;r<a.length;r++)t[r]=Number(a[r]);return t.sort(this.compare),t},getAverageArr:function(e,t){var a=[],r=e.split("/"),o=Number(r[0]),l=Number(r[1]);while(o<=t)a.push(o),o+=l;return a},getCycleArr:function(e,t,a){var r=[],o=e.split("-"),l=Number(o[0]),i=Number(o[1]);l>i&&(i+=t);for(var s=l;s<=i;s++){var n=0;0==a&&s%t==0&&(n=t),r.push(Math.round(s%t+n))}return r.sort(this.compare),r},compare:function(e,t){return t-e>0?-1:1},formatDate:function(e,t){var a="number"==typeof e?new Date(e):e,r=a.getFullYear(),o=a.getMonth()+1,l=a.getDate(),i=a.getHours(),s=a.getMinutes(),n=a.getSeconds(),c=a.getDay();return void 0==t?r+"-"+(o<10?"0"+o:o)+"-"+(l<10?"0"+l:l)+" "+(i<10?"0"+i:i)+":"+(s<10?"0"+s:s)+":"+(n<10?"0"+n:n):"week"==t?c:void 0},checkDate:function(e){var t=new Date(e),a=this.formatDate(t);return e==a}},watch:{ex:"expressionChange"},props:["ex"],mounted:function(){this.expressionChange()}}),te=ee,ae=Object(p["a"])(te,Z,X,!1,null,null,null),re=ae.exports,oe={data:function(){return{tabTitles:["秒","分钟","小时","日","月","周","年"],tabActive:0,myindex:0,crontabValueObj:{second:"*",min:"*",hour:"*",day:"*",month:"*",week:"?",year:""}}},name:"vcrontab",props:["expression","hideComponent"],methods:{shouldHide:function(e){return!this.hideComponent||!this.hideComponent.includes(e)},resolveExp:function(){if(this.expression){var e=this.expression.split(" ");if(e.length>=6){var t={second:e[0],min:e[1],hour:e[2],day:e[3],month:e[4],week:e[5],year:e[6]?e[6]:""};for(var a in this.crontabValueObj=Object(n["a"])({},t),t)t[a]&&this.changeRadio(a,t[a])}}else this.clearCron()},tabCheck:function(e){this.tabActive=e},updateCrontabValue:function(e,t,a){this.crontabValueObj[e]=t,a&&a!==e&&(console.log("来自组件 ".concat(a," 改变了 ").concat(e," ").concat(t)),this.changeRadio(e,t))},changeRadio:function(e,t){var a,r=["second","min","hour","month"],o="cron"+e;if(this.$refs[o]){if(r.includes(e))if("*"===t)a=1;else if(t.indexOf("-")>-1){var l=t.split("-");isNaN(l[0])?this.$refs[o].cycle01=0:this.$refs[o].cycle01=l[0],this.$refs[o].cycle02=l[1],a=2}else if(t.indexOf("/")>-1){var i=t.split("/");isNaN(i[0])?this.$refs[o].average01=0:this.$refs[o].average01=i[0],this.$refs[o].average02=i[1],a=3}else a=4,this.$refs[o].checkboxList=t.split(",");else if("day"==e)if("*"===t)a=1;else if("?"==t)a=2;else if(t.indexOf("-")>-1){var s=t.split("-");isNaN(s[0])?this.$refs[o].cycle01=0:this.$refs[o].cycle01=s[0],this.$refs[o].cycle02=s[1],a=3}else if(t.indexOf("/")>-1){var n=t.split("/");isNaN(n[0])?this.$refs[o].average01=0:this.$refs[o].average01=n[0],this.$refs[o].average02=n[1],a=4}else if(t.indexOf("W")>-1){var c=t.split("W");isNaN(c[0])?this.$refs[o].workday=0:this.$refs[o].workday=c[0],a=5}else"L"===t?a=6:(this.$refs[o].checkboxList=t.split(","),a=7);else if("week"==e)if("*"===t)a=1;else if("?"==t)a=2;else if(t.indexOf("-")>-1){var u=t.split("-");isNaN(u[0])?this.$refs[o].cycle01=0:this.$refs[o].cycle01=u[0],this.$refs[o].cycle02=u[1],a=3}else if(t.indexOf("#")>-1){var d=t.split("#");isNaN(d[0])?this.$refs[o].average01=1:this.$refs[o].average01=d[0],this.$refs[o].average02=d[1],a=4}else if(t.indexOf("L")>-1){var m=t.split("L");isNaN(m[0])?this.$refs[o].weekday=1:this.$refs[o].weekday=m[0],a=5}else this.$refs[o].checkboxList=t.split(","),a=7;else"year"==e&&(""==t?a=1:"*"==t?a=2:t.indexOf("-")>-1?a=3:t.indexOf("/")>-1?a=4:(this.$refs[o].checkboxList=t.split(","),a=5));this.$refs[o].radioValue=a}},checkNumber:function(e,t,a){return e=Math.floor(e),e<t?e=t:e>a&&(e=a),e},hidePopup:function(){this.$emit("hide")},submitFill:function(){this.$emit("fill",this.crontabValueString),this.hidePopup()},clearCron:function(){for(var e in this.crontabValueObj={second:"*",min:"*",hour:"*",day:"*",month:"*",week:"?",year:""},this.crontabValueObj)this.changeRadio(e,this.crontabValueObj[e])}},computed:{crontabValueString:function(){var e=this.crontabValueObj,t=e.second+" "+e.min+" "+e.hour+" "+e.day+" "+e.month+" "+e.week+(""==e.year?"":" "+e.year);return t}},components:{CrontabSecond:h,CrontabMin:_,CrontabHour:O,CrontabDay:L,CrontabMonth:E,CrontabWeek:B,CrontabYear:Y,CrontabResult:re},watch:{expression:"resolveExp",hideComponent:function(e){}},mounted:function(){this.resolveExp()}},le=oe,ie=(a("0ef1"),Object(p["a"])(le,i,s,!1,null,"e5bdb922",null)),se=ie.exports,ne={components:{Crontab:se},name:"Job",dicts:["sys_job_group","sys_job_status"],data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,jobList:[],title:"",open:!1,openView:!1,openCron:!1,expression:"",queryParams:{pageNum:1,pageSize:10,jobName:void 0,jobGroup:void 0,status:void 0},form:{},rules:{jobName:[{required:!0,message:"任务名称不能为空",trigger:"blur"}],invokeTarget:[{required:!0,message:"调用目标字符串不能为空",trigger:"blur"}],cronExpression:[{required:!0,message:"cron执行表达式不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(l["f"])(this.queryParams).then((function(t){e.jobList=t.rows,e.total=t.total,e.loading=!1}))},jobGroupFormat:function(e,t){return this.selectDictLabel(this.dict.type.sys_job_group,e.jobGroup)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={jobId:void 0,jobName:void 0,jobGroup:void 0,invokeTarget:void 0,cronExpression:void 0,misfirePolicy:1,concurrent:1,status:"0"},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.jobId})),this.single=1!=e.length,this.multiple=!e.length},handleCommand:function(e,t){switch(e){case"handleRun":this.handleRun(t);break;case"handleView":this.handleView(t);break;case"handleJobLog":this.handleJobLog(t);break;default:break}},handleStatusChange:function(e){var t=this,a="0"===e.status?"启用":"停用";this.$modal.confirm('确认要"'+a+'""'+e.jobName+'"任务吗？').then((function(){return Object(l["b"])(e.jobId,e.status)})).then((function(){t.$modal.msgSuccess(a+"成功")})).catch((function(){e.status="0"===e.status?"1":"0"}))},handleRun:function(e){var t=this;this.$modal.confirm('确认要立即执行一次"'+e.jobName+'"任务吗？').then((function(){return Object(l["g"])(e.jobId,e.jobGroup)})).then((function(){t.$modal.msgSuccess("执行成功")})).catch((function(){}))},handleView:function(e){var t=this;Object(l["e"])(e.jobId).then((function(e){t.form=e.data,t.openView=!0}))},handleShowCron:function(){this.expression=this.form.cronExpression,this.openCron=!0},crontabFill:function(e){this.form.cronExpression=e},handleJobLog:function(e){var t=e.jobId||0;this.$router.push({path:"/monitor/job-log/index",query:{jobId:t}})},handleAdd:function(){this.reset(),this.open=!0,this.title="添加任务"},handleUpdate:function(e){var t=this;this.reset();var a=e.jobId||this.ids;Object(l["e"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改任务"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.jobId?Object(l["h"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(l["a"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.jobId||this.ids;this.$modal.confirm('是否确认删除定时任务编号为"'+a+'"的数据项？').then((function(){return Object(l["c"])(a)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$modal.confirm("是否确认导出所有定时任务数据项？").then((function(){return e.exportLoading=!0,Object(l["d"])(t)})).then((function(t){e.$download.name(t.msg),e.exportLoading=!1})).catch((function(){}))}}},ce=ne,ue=Object(p["a"])(ce,r,o,!1,null,null,null);t["default"]=ue.exports},4099:function(e,t,a){"use strict";a("5cc7")},4219:function(e,t,a){},"42fb":function(e,t,a){},4514:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.addDocument}},[e._v("增加仓库 ")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.Modeler}},[a("el-table-column",{attrs:{label:"仓库名称",prop:"name"}}),a("el-table-column",{attrs:{label:"仓库地址",prop:"areaDesc"}}),a("el-table-column",{attrs:{label:"仓库负责人",prop:"leader"}}),a("el-table-column",{attrs:{label:"联系方式",prop:"mobile"}}),a("el-table-column",{attrs:{label:"仓库类型",prop:"type"}}),a("el-table-column",{attrs:{label:"仓库面积(㎡)",prop:"size"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("编辑 ")]),a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除 ")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{visible:e.open,width:"600px",title:e.title,"append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t},close:e.modelCancel}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"仓库名称：",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入仓库名称"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"仓库地址：",prop:"areaDesc"}},[a("el-input",{attrs:{placeholder:"请输入仓库地址"},model:{value:e.ruleForm.areaDesc,callback:function(t){e.$set(e.ruleForm,"areaDesc",t)},expression:"ruleForm.areaDesc"}})],1),a("el-form-item",{attrs:{label:"仓库负责人：",prop:"leader"}},[a("el-input",{attrs:{placeholder:"请输入仓库负责人"},model:{value:e.ruleForm.leader,callback:function(t){e.$set(e.ruleForm,"leader",t)},expression:"ruleForm.leader"}})],1),a("el-form-item",{attrs:{label:"联系方式：",prop:"mobile"}},[a("el-input",{attrs:{placeholder:"请输入联系方式"},model:{value:e.ruleForm.mobile,callback:function(t){e.$set(e.ruleForm,"mobile",t)},expression:"ruleForm.mobile"}})],1),a("el-form-item",{attrs:{label:"工作人员数量：",prop:"cnt"}},[a("el-input",{attrs:{placeholder:"请输入工作人员数量"},model:{value:e.ruleForm.cnt,callback:function(t){e.$set(e.ruleForm,"cnt",t)},expression:"ruleForm.cnt"}})],1),a("el-form-item",{attrs:{label:"仓库面积(㎡)：",prop:"size"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入仓库面积(㎡)"},model:{value:e.ruleForm.size,callback:function(t){e.$set(e.ruleForm,"size",t)},expression:"ruleForm.size"}})],1),a("el-form-item",{attrs:{label:"仓库类型：",prop:"type"}},[a("el-checkbox-group",{model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[a("el-checkbox",{attrs:{label:"平面仓库",name:"type"}}),a("el-checkbox",{attrs:{label:"立体仓库",name:"type"}}),a("el-checkbox",{attrs:{label:"冷冻、冷藏仓库",name:"type"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存")]),a("el-button",{on:{click:e.modelCancel}},[e._v("取消")])],1)],1)],1)},o=[],l=a("8955"),i=(a("0bd5"),a("79a8"),a("402f"),a("836b"),a("83f1")),s={data:function(){return Object(l["a"])({loading:!1,showSearch:!0,total:0,Modeler:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10},ruleForm:{areaDesc:"",leader:"",mobile:"",cnt:"",size:"",type:[],companyId:this.$store.state.user.companyInfo.companyId},rules:{name:[{required:!0,message:"请输入仓库名称",trigger:"blur"}],areaDesc:[{required:!0,message:"请输入仓库地址",trigger:"blur"}],leader:[{required:!0,message:"请输入仓库负责人",trigger:"blur"}],size:[{required:!0,message:"请输入仓库面积",trigger:"blur"}]},selection:[]},"title","")},mounted:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,this.ruleForm.companyId=this.$store.state.user.companyInfo.companyId,Object(i["O"])({companyId:this.$store.state.user.companyInfo.companyId}).then((function(t){e.Modeler=t.data,e.loading=!1}))},handleDelete:function(e){var t=this;this.$confirm("是否确认删除所选信息?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["L"])(e.objectId)})).then((function(){t.getList(),t.msgSuccess("删除成功"),t.$emit("comfign1",t.objectId)})).catch((function(){}))},modelCancel:function(){this.reset(),this.open=!1},addDocument:function(){this.reset(),this.title="新增仓库",this.open=!0},handleUpdate:function(e){var t=this;this.reset(),Object(i["N"])(e.objectId).then((function(e){e.data.type?e.data.type=e.data.type.split(","):e.data.type=[],t.ruleForm=e.data,t.title="修改仓库",t.open=!0}))},submitForm:function(){var e=this;this.$refs["ruleForm"].validate((function(t){if(t){var a=e.ruleForm;a.type=a.type.toString(),null!=a.objectId?Object(i["M"])(a).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(i["K"])(a).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()}))}}))},reset:function(){this.ruleForm={companyId:this.$store.state.user.companyInfo.companyId,areaDesc:"",leader:"",mobile:"",cnt:"",size:"",type:[]},this.resetForm("ruleForm")},formatter:function(e){return e.bdate?this.formatDate(e.bdate,"{y}-{m}-{d}"):""}}},n=s,c=(a("b64d"),a("cba8")),u=Object(c["a"])(n,r,o,!1,null,"1ac110bc",null);t["default"]=u.exports},4759:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("router-view")],1)},o=[],l={data:function(){return{}},mounted:function(){}},i=l,s=a("cba8"),n=Object(s["a"])(i,r,o,!1,null,"49d01c90",null);t["default"]=n.exports},4838:function(e,t,a){"use strict";a("df89")},4849:function(e,t,a){"use strict";a("d1ad")},4923:function(e,t,a){"use strict";a.r(t);a("6540");var r=a("3335"),o=a.n(r),l=a("a85b"),i={itemBtns:function(e,t,a,r){var o=this.$listeners,l=o.copyItem,i=o.deleteItem;return[e("span",{class:"drawing-item-copy",attrs:{title:"复制"},on:{click:function(e){l(t,r),e.stopPropagation()}}},[e("i",{class:"el-icon-copy-document"})]),e("span",{class:"drawing-item-delete",attrs:{title:"删除"},on:{click:function(e){i(a,r),e.stopPropagation()}}},[e("i",{class:"el-icon-delete"})])]}},s={colFormItem:function(e,t,a,r){var o=this,s=this.$listeners.activeItem,n=this.activeId===t.formId?"drawing-item active-from-item":"drawing-item";return this.formConf.unFocusedComponentBorder&&(n+=" unfocus-bordered"),e("el-col",{attrs:{span:t.span},class:n,nativeOn:{click:function(e){s(t),e.stopPropagation()}}},[e("el-form-item",{attrs:{"label-width":t.labelWidth?"".concat(t.labelWidth,"px"):null,label:t.label,required:t.required}},[e(l["a"],{key:t.renderKey,attrs:{conf:t},on:{input:function(e){o.$set(t,"defaultValue",e)}}})]),i.itemBtns.apply(this,arguments)])},rowFormItem:function(e,t,a,r){var l=this.$listeners.activeItem,s=this.activeId===t.formId?"drawing-row-item active-from-item":"drawing-row-item",c=n.apply(this,arguments);return"flex"===t.type&&(c=e("el-row",{attrs:{type:t.type,justify:t.justify,align:t.align}},[c])),e("el-col",{attrs:{span:t.span}},[e("el-row",{attrs:{gutter:t.gutter},class:s,nativeOn:{click:function(e){l(t),e.stopPropagation()}}},[e("span",{class:"component-name"},[t.componentName]),e(o.a,{attrs:{list:t.children,animation:340,group:"componentsGroup"},class:"drag-wrapper"},[c]),i.itemBtns.apply(this,arguments)])])}};function n(e,t,a,r){var o=this;return Array.isArray(t.children)?t.children.map((function(a,r){var l=s[a.layout];return l?l.call(o,e,a,r,t.children):c()})):null}function c(){throw new Error("没有与".concat(this.element.layout,"匹配的layout"))}var u,d,m={components:{render:l["a"],draggable:o.a},props:["element","index","drawingList","activeId","formConf"],render:function(e){var t=s[this.element.layout];return t?t.call(this,e,this.element,this.index,this.drawingList):c()}},p=m,f=a("cba8"),h=Object(f["a"])(p,u,d,!1,null,null,null);t["default"]=h.exports},4956:function(e,t,a){"use strict";a("9100")},"4a49":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("i-frame",{attrs:{src:e.url}})},o=[],l=a("061b"),i={name:"Swagger",components:{iFrame:l["a"]},data:function(){return{url:"/prod-api/swagger-ui/index.html"}}},s=i,n=a("cba8"),c=Object(n["a"])(s,r,o,!1,null,null,null);t["default"]=c.exports},"4b3b":function(e,t,a){var r={"./":"1e4b","./attendance/shift":"6c6c","./attendance/shift/":"6c6c","./attendance/shift/index":"6c6c","./attendance/shift/index.vue":"6c6c","./business/base":"5322","./business/base/":"5322","./business/base/category":"7b80","./business/base/category/":"7b80","./business/base/category/index":"7b80","./business/base/category/index.vue":"7b80","./business/base/compCustom":"a2f7","./business/base/compCustom/":"a2f7","./business/base/compCustom/index":"a2f7","./business/base/compCustom/index.vue":"a2f7","./business/base/index":"5322","./business/base/index.vue":"5322","./business/base/personal":"a61f","./business/base/personal/":"a61f","./business/base/personal/index":"a61f","./business/base/personal/index.vue":"a61f","./business/base/product":"ef5b","./business/base/product/":"ef5b","./business/base/product/index":"ef5b","./business/base/product/index.vue":"ef5b","./business/base/supplier":"5b9a","./business/base/supplier/":"5b9a","./business/base/supplier/index":"5b9a","./business/base/supplier/index.vue":"5b9a","./business/base/unit":"f19c","./business/base/unit/":"f19c","./business/base/unit/index":"f19c","./business/base/unit/index.vue":"f19c","./business/base/warehouse":"4514","./business/base/warehouse/":"4514","./business/base/warehouse/index":"4514","./business/base/warehouse/index.vue":"4514","./business/loss":"4759","./business/loss/":"4759","./business/loss/index":"4759","./business/loss/index.vue":"4759","./business/loss/loss":"a8b4","./business/loss/loss/":"a8b4","./business/loss/loss/index":"a8b4","./business/loss/loss/index.vue":"a8b4","./business/loss/lossAudit":"4b9d","./business/loss/lossAudit/":"4b9d","./business/loss/lossAudit/index":"4b9d","./business/loss/lossAudit/index.vue":"4b9d","./business/loss/lossManage":"13cb","./business/loss/lossManage/":"13cb","./business/loss/lossManage/index":"13cb","./business/loss/lossManage/index.vue":"13cb","./business/purchase":"e787","./business/purchase/":"e787","./business/purchase/index":"e787","./business/purchase/index.vue":"e787","./business/purchase/orderAudit":"d3d9","./business/purchase/orderAudit/":"d3d9","./business/purchase/orderAudit/index":"d3d9","./business/purchase/orderAudit/index.vue":"d3d9","./business/purchase/orderManage":"33c8","./business/purchase/orderManage/":"33c8","./business/purchase/orderManage/index":"33c8","./business/purchase/orderManage/index.vue":"33c8","./business/purchase/storage":"ceab","./business/purchase/storage/":"ceab","./business/purchase/storage/index":"ceab","./business/purchase/storage/index.vue":"ceab","./business/sales":"4dd0","./business/sales/":"4dd0","./business/sales/index":"4dd0","./business/sales/index.vue":"4dd0","./business/sales/salesAudit":"2f9a","./business/sales/salesAudit/":"2f9a","./business/sales/salesAudit/index":"2f9a","./business/sales/salesAudit/index.vue":"2f9a","./business/sales/salesManage":"d961","./business/sales/salesManage/":"d961","./business/sales/salesManage/index":"d961","./business/sales/salesManage/index.vue":"d961","./business/sales/salesOrder":"6195","./business/sales/salesOrder/":"6195","./business/sales/salesOrder/index":"6195","./business/sales/salesOrder/index.vue":"6195","./business/stock":"166e","./business/stock/":"166e","./business/stock/index":"166e","./business/stock/index.vue":"166e","./business/stockTaking":"7d61","./business/stockTaking/":"7d61","./business/stockTaking/index":"7d61","./business/stockTaking/index.vue":"7d61","./business/stockTaking/take":"c230","./business/stockTaking/take/":"c230","./business/stockTaking/take/index":"c230","./business/stockTaking/take/index.vue":"c230","./business/stockTaking/takeAudit":"0c7b","./business/stockTaking/takeAudit/":"0c7b","./business/stockTaking/takeAudit/index":"0c7b","./business/stockTaking/takeAudit/index.vue":"0c7b","./business/stockTaking/takeManage":"c823","./business/stockTaking/takeManage/":"c823","./business/stockTaking/takeManage/index":"c823","./business/stockTaking/takeManage/index.vue":"c823","./businessStatistics/purchase":"dcec","./businessStatistics/purchase/":"dcec","./businessStatistics/purchase/index":"dcec","./businessStatistics/purchase/index.vue":"dcec","./businessStatistics/sale":"2a36","./businessStatistics/sale/":"2a36","./businessStatistics/sale/index":"2a36","./businessStatistics/sale/index.vue":"2a36","./businessStatistics/summary":"932c","./businessStatistics/summary/":"932c","./businessStatistics/summary/index":"932c","./businessStatistics/summary/index.vue":"932c","./businessStatistics/warehousing":"0fe3","./businessStatistics/warehousing/":"0fe3","./businessStatistics/warehousing/index":"0fe3","./businessStatistics/warehousing/index.vue":"0fe3","./compCheck/compCheck":"a492","./compCheck/compCheck/":"a492","./compCheck/compCheck/index":"a492","./compCheck/compCheck/index.vue":"a492","./company/companyInfo":"2c0e","./company/companyInfo/":"2c0e","./company/companyInfo/components/businessLicense":"c941","./company/companyInfo/components/businessLicense.vue":"c941","./company/companyInfo/components/components/comIntroduction":"18f1","./company/companyInfo/components/components/comIntroduction.vue":"18f1","./company/companyInfo/components/components/eatArea":"abc5","./company/companyInfo/components/components/eatArea.vue":"abc5","./company/companyInfo/components/components/eatCount":"2a3f","./company/companyInfo/components/components/eatCount.vue":"2a3f","./company/companyInfo/components/components/employeeCount":"136c","./company/companyInfo/components/components/employeeCount.vue":"136c","./company/companyInfo/components/components/handleArea":"73f2","./company/companyInfo/components/components/handleArea.vue":"73f2","./company/companyInfo/components/components/mcount":"8841","./company/companyInfo/components/components/mcount.vue":"8841","./company/companyInfo/components/components/noteCheck":"0ce9","./company/companyInfo/components/components/noteCheck.vue":"0ce9","./company/companyInfo/components/components/notes":"823a","./company/companyInfo/components/components/notes.vue":"823a","./company/companyInfo/components/components/saleArea":"5583","./company/companyInfo/components/components/saleArea.vue":"5583","./company/companyInfo/components/components/typeCheck":"5d34a","./company/companyInfo/components/components/typeCheck.vue":"5d34a","./company/companyInfo/components/employees":"f3a6","./company/companyInfo/components/employees.vue":"f3a6","./company/companyInfo/components/equipment":"541b","./company/companyInfo/components/equipment.vue":"541b","./company/companyInfo/components/essential":"62dc","./company/companyInfo/components/essential.vue":"62dc","./company/companyInfo/components/licence":"2f39","./company/companyInfo/components/licence.vue":"2f39","./company/companyInfo/components/representative":"9ff9","./company/companyInfo/components/representative.vue":"9ff9","./company/companyInfo/components/security":"92c8","./company/companyInfo/components/security.vue":"92c8","./company/companyInfo/components/supervisionStation":"90e5","./company/companyInfo/components/supervisionStation.vue":"90e5","./company/companyInfo/components/truck":"6964","./company/companyInfo/components/truck.vue":"6964","./company/companyInfo/components/warehouse":"f18f","./company/companyInfo/components/warehouse.vue":"f18f","./company/companyInfo/index":"2c0e","./company/companyInfo/index.vue":"2c0e","./components/icons":"3a7e","./components/icons/":"3a7e","./components/icons/element-icons":"bb49","./components/icons/element-icons.js":"bb49","./components/icons/index":"3a7e","./components/icons/index.vue":"3a7e","./components/icons/svg-icons":"c7e9","./components/icons/svg-icons.js":"c7e9","./dashboard/BarChart":"9488","./dashboard/BarChart.vue":"9488","./dashboard/LineChart":"eab4","./dashboard/LineChart.vue":"eab4","./dashboard/PanelGroup":"fbc4","./dashboard/PanelGroup.vue":"fbc4","./dashboard/PieChart":"d153","./dashboard/PieChart.vue":"d153","./dashboard/RaddarChart":"0a5c","./dashboard/RaddarChart.vue":"0a5c","./dashboard/mixins/resize":"feb2","./dashboard/mixins/resize.js":"feb2","./employee/employee":"f3ff","./employee/employee/":"f3ff","./employee/employee/index":"f3ff","./employee/employee/index.vue":"f3ff","./error/401":"ec55","./error/401.vue":"ec55","./error/404":"2754","./error/404.vue":"2754","./index":"1e4b","./index.vue":"1e4b","./index_v1":"66ef","./index_v1.vue":"66ef","./login":"dd7b","./login.vue":"dd7b","./monitor/cache":"5911","./monitor/cache/":"5911","./monitor/cache/index":"5911","./monitor/cache/index.vue":"5911","./monitor/druid":"5194","./monitor/druid/":"5194","./monitor/druid/index":"5194","./monitor/druid/index.vue":"5194","./monitor/job":"3eac","./monitor/job/":"3eac","./monitor/job/index":"3eac","./monitor/job/index.vue":"3eac","./monitor/job/log":"0062","./monitor/job/log.vue":"0062","./monitor/logininfor":"67ef","./monitor/logininfor/":"67ef","./monitor/logininfor/index":"67ef","./monitor/logininfor/index.vue":"67ef","./monitor/online":"6b08","./monitor/online/":"6b08","./monitor/online/index":"6b08","./monitor/online/index.vue":"6b08","./monitor/operlog":"02f2","./monitor/operlog/":"02f2","./monitor/operlog/index":"02f2","./monitor/operlog/index.vue":"02f2","./monitor/server":"2a33","./monitor/server/":"2a33","./monitor/server/index":"2a33","./monitor/server/index.vue":"2a33","./notice/myNotice":"2f92","./notice/myNotice/":"2f92","./notice/myNotice/index":"2f92","./notice/myNotice/index.vue":"2f92","./pharmacistManage/addParmacist":"c712","./pharmacistManage/addParmacist/":"c712","./pharmacistManage/addParmacist/index":"c712","./pharmacistManage/addParmacist/index.vue":"c712","./pharmacistManage/pharmacist":"66a7","./pharmacistManage/pharmacist/":"66a7","./pharmacistManage/pharmacist/index":"66a7","./pharmacistManage/pharmacist/index.vue":"66a7","./redirect":"9b8f","./redirect.vue":"9b8f","./register":"7803","./register.vue":"7803","./regulatoryInfo/case":"ab61","./regulatoryInfo/case/":"ab61","./regulatoryInfo/case/caseProcess":"2102","./regulatoryInfo/case/caseProcess.vue":"2102","./regulatoryInfo/case/index":"ab61","./regulatoryInfo/case/index.vue":"ab61","./regulatoryInfo/check":"d60f","./regulatoryInfo/check/":"d60f","./regulatoryInfo/check/LookTable":"deb8","./regulatoryInfo/check/LookTable.vue":"deb8","./regulatoryInfo/check/TableDetail":"2caf","./regulatoryInfo/check/TableDetail.vue":"2caf","./regulatoryInfo/check/index":"d60f","./regulatoryInfo/check/index.vue":"d60f","./regulatoryInfo/lookCheck":"18d4","./regulatoryInfo/lookCheck/":"18d4","./regulatoryInfo/lookCheck/index":"18d4","./regulatoryInfo/lookCheck/index.vue":"18d4","./report/report":"a8ed","./report/report/":"a8ed","./report/report/addReport":"e1ad","./report/report/addReport.vue":"e1ad","./report/report/index":"a8ed","./report/report/index.vue":"a8ed","./report/report/reportDetail":"2113","./report/report/reportDetail.vue":"2113","./system/config":"cdb7","./system/config/":"cdb7","./system/config/index":"cdb7","./system/config/index.vue":"cdb7","./system/dept":"5cfa","./system/dept/":"5cfa","./system/dept/index":"5cfa","./system/dept/index.vue":"5cfa","./system/dict":"046a","./system/dict/":"046a","./system/dict/data":"bfc4","./system/dict/data.vue":"bfc4","./system/dict/index":"046a","./system/dict/index.vue":"046a","./system/menu":"f794","./system/menu/":"f794","./system/menu/index":"f794","./system/menu/index.vue":"f794","./system/notice":"202d","./system/notice/":"202d","./system/notice/index":"202d","./system/notice/index.vue":"202d","./system/post":"5788","./system/post/":"5788","./system/post/index":"5788","./system/post/index.vue":"5788","./system/role":"70eb","./system/role/":"70eb","./system/role/authUser":"7054","./system/role/authUser.vue":"7054","./system/role/index":"70eb","./system/role/index.vue":"70eb","./system/role/selectUser":"a17e","./system/role/selectUser.vue":"a17e","./system/user":"1f34","./system/user/":"1f34","./system/user/authRole":"6a33","./system/user/authRole.vue":"6a33","./system/user/index":"1f34","./system/user/index.vue":"1f34","./system/user/profile":"4c1b","./system/user/profile/":"4c1b","./system/user/profile/index":"4c1b","./system/user/profile/index.vue":"4c1b","./system/user/profile/resetPwd":"ee46","./system/user/profile/resetPwd.vue":"ee46","./system/user/profile/userAvatar":"9429","./system/user/profile/userAvatar.vue":"9429","./system/user/profile/userInfo":"1e8b","./system/user/profile/userInfo.vue":"1e8b","./tool/build":"2855","./tool/build/":"2855","./tool/build/CodeTypeDialog":"a92a","./tool/build/CodeTypeDialog.vue":"a92a","./tool/build/DraggableItem":"4923","./tool/build/DraggableItem.vue":"4923","./tool/build/IconsDialog":"d0b2","./tool/build/IconsDialog.vue":"d0b2","./tool/build/RightPanel":"766b","./tool/build/RightPanel.vue":"766b","./tool/build/TreeNodeDialog":"c81a","./tool/build/TreeNodeDialog.vue":"c81a","./tool/build/index":"2855","./tool/build/index.vue":"2855","./tool/gen":"82c8","./tool/gen/":"82c8","./tool/gen/basicInfoForm":"ed69","./tool/gen/basicInfoForm.vue":"ed69","./tool/gen/editTable":"76f8","./tool/gen/editTable.vue":"76f8","./tool/gen/genInfoForm":"8586","./tool/gen/genInfoForm.vue":"8586","./tool/gen/importTable":"6f72","./tool/gen/importTable.vue":"6f72","./tool/gen/index":"82c8","./tool/gen/index.vue":"82c8","./tool/swagger":"4a49","./tool/swagger/":"4a49","./tool/swagger/index":"4a49","./tool/swagger/index.vue":"4a49"};function o(e){var t=l(e);return a(t)}function l(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=l,e.exports=o,o.id="4b3b"},"4b72":function(e,t,a){"use strict";a.d(t,"f",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"c",(function(){return i})),a.d(t,"i",(function(){return s})),a.d(t,"d",(function(){return n})),a.d(t,"g",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"h",(function(){return m}));var r=a("b775");function o(e){return Object(r["a"])({url:"/tool/gen/list",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/tool/gen/db/list",method:"get",params:e})}function i(e){return Object(r["a"])({url:"/tool/gen/"+e,method:"get"})}function s(e){return Object(r["a"])({url:"/tool/gen",method:"put",data:e})}function n(e){return Object(r["a"])({url:"/tool/gen/importTable",method:"post",params:e})}function c(e){return Object(r["a"])({url:"/tool/gen/preview/"+e,method:"get"})}function u(e){return Object(r["a"])({url:"/tool/gen/"+e,method:"delete"})}function d(e){return Object(r["a"])({url:"/tool/gen/genCode/"+e,method:"get"})}function m(e){return Object(r["a"])({url:"/tool/gen/synchDb/"+e,method:"get"})}},"4b9d":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"报损单号",prop:"orderCode"}},[a("el-input",{attrs:{placeholder:"请输入报损单号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.orderCode,callback:function(t){e.$set(e.queryParams,"orderCode",t)},expression:"queryParams.orderCode"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList}},[a("el-table-column",{attrs:{label:"报损编号",align:"center",prop:"orderCode"}}),a("el-table-column",{attrs:{label:"报损时间",align:"center",prop:"takeDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e.parseTimeShort(t.row.createTime))+" ")])]}}])}),a("el-table-column",{attrs:{label:"报损金额(元)",align:"center",prop:"costMoney"}}),a("el-table-column",{attrs:{label:"总金额(元)",align:"center",prop:"money"}}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"statuz"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(t.row.statuz)+" ")])]}}])}),a("el-table-column",{attrs:{label:"经办人员",align:"center",prop:"purchasor"}}),a("el-table-column",{attrs:{label:"操作人",align:"center",prop:"userId"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-tickets"},on:{click:function(a){return e.lookDetail(t.row)}}},[e._v("报损明细")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-finished"},on:{click:function(a){return e.verify(t.row)}}},[e._v("通过")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-close"},on:{click:function(a){return e.Noverify(t.row)}}},[e._v("不通过")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.title,visible:e.open,width:"50%","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"label-width":"130px"}},[a("el-form-item",{attrs:{prop:"purchasor",label:"经办人员",required:""}},[a("el-input",{model:{value:e.form.purchasor,callback:function(t){e.$set(e.form,"purchasor",t)},expression:"form.purchasor"}})],1),a("el-form-item",{attrs:{prop:"costMoney",label:"报损金额(成本价)",required:""}},[a("el-input",{model:{value:e.form.costMoney,callback:function(t){e.$set(e.form,"costMoney",t)},expression:"form.costMoney"}})],1),a("el-form-item",{attrs:{prop:"money",label:"总金额(元)",required:""}},[a("el-input",{model:{value:e.form.money,callback:function(t){e.$set(e.form,"money",t)},expression:"form.money"}})],1),a("el-form-item",{attrs:{prop:"note",label:"报损原因",required:""}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.note,callback:function(t){e.$set(e.form,"note",t)},expression:"form.note"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"添加报损商品",visible:e.detailBool,width:"85%","append-to-body":""},on:{"update:visible":function(t){e.detailBool=t}}},[a("el-form",{ref:"detailform",staticClass:"formDetail",attrs:{model:e.detailform,"label-width":"0"}},[a("div",{staticClass:"descriptions"},e._l(e.currentDetail,(function(t){return a("el-descriptions",{key:t.objectId,staticClass:"descriptions-td",attrs:{column:9,border:"",direction:"vertical"}},[a("el-descriptions-item",{attrs:{label:"产品名称",labelStyle:"width:160px"}},[a("div",[e._v(e._s(t.name))])]),a("el-descriptions-item",{attrs:{label:"单价(元)",labelStyle:"width:60px"}},[a("div",[e._v(e._s(t.price))])]),a("el-descriptions-item",{attrs:{label:"单位",labelStyle:"width:60px"}},[a("div",[e._v(e._s(t.unit))])]),a("el-descriptions-item",{attrs:{label:"报损数量",labelStyle:"width:160px"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"报损数量"},model:{value:t.cnt,callback:function(a){e.$set(t,"cnt",a)},expression:"item.cnt"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"报损金额(元)",labelStyle:"width:160px"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"报损金额"},model:{value:t.money,callback:function(a){e.$set(t,"money",a)},expression:"item.money"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"仓库",labelStyle:"width:160px"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.storeId,callback:function(a){e.$set(t,"storeId",a)},expression:"item.storeId"}},e._l(e.storeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1)],1)]),a("el-descriptions-item",{attrs:{label:"批号"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"请输入批号"},model:{value:t.batchCode,callback:function(a){e.$set(t,"batchCode",a)},expression:"item.batchCode"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"生产日期"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择生产日期"},model:{value:t.createDate,callback:function(a){e.$set(t,"createDate",a)},expression:"item.createDate"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"有效期"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择有效期"},model:{value:t.validDate,callback:function(a){e.$set(t,"validDate",a)},expression:"item.validDate"}})],1)],1)])],1)})),1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFormDetail}},[e._v("保存")])],1)],1),a("el-dialog",{attrs:{title:"报损明细",visible:e.showDetail,width:"50%","close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.showDetail=t}}},[a("el-form",{ref:"queryParamsOrder",attrs:{model:e.queryParamsOrder,inline:!0}},[a("el-form-item",{attrs:{label:"名称",prop:"productName"}},[a("el-input",{attrs:{placeholder:"请输入名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQueryOrder(t)}},model:{value:e.queryParamsOrder.productName,callback:function(t){e.$set(e.queryParamsOrder,"productName",t)},expression:"queryParamsOrder.productName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"cyan",icon:"el-icon-search",size:"mini"},on:{click:e.handleQueryOrder}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQueryOrder}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.addDetail}},[e._v("新增报损商品")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingGood,expression:"loadingGood"}],attrs:{data:e.goodList,"highlight-current-row":""}},[a("el-table-column",{attrs:{label:"名称",prop:"productName"}}),a("el-table-column",{attrs:{label:"单位",prop:"unit"}}),a("el-table-column",{attrs:{label:"数量",prop:"cnt"}}),a("el-table-column",{attrs:{label:"仓库",prop:"store"}}),a("el-table-column",{attrs:{label:"批号",prop:"batchCode"}}),a("el-table-column",{attrs:{label:"报损金额(元)",prop:"money"}}),a("el-table-column",{attrs:{label:"生产日期",prop:"createDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e.parseTimeShort(t.row.createDate))+" ")])]}}])}),a("el-table-column",{attrs:{label:"有效期",prop:"validDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e.parseTimeShort(t.row.validDate))+" ")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.detailTotal>0,expression:"detailTotal>0"}],attrs:{total:e.detailTotal,page:e.queryParamsOrder.pageNum,limit:e.queryParamsOrder.pageSize},on:{"update:page":function(t){return e.$set(e.queryParamsOrder,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParamsOrder,"pageSize",t)},pagination:e.getDetailList}}),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showDetail=!1}}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"修改",visible:e.updateBool,width:"80%","append-to-body":""},on:{"update:visible":function(t){e.updateBool=t}}},[a("el-form",{ref:"updateform",staticClass:"form",attrs:{model:e.updateform,"label-width":"0"}},[a("div",[a("el-descriptions",{staticClass:"descriptions",attrs:{column:9,border:"",direction:"vertical"}},[a("el-descriptions-item",{attrs:{label:"产品名称",labelStyle:"width:160px"}},[a("span",[e._v(e._s(e.updateform.productName))])]),a("el-descriptions-item",{attrs:{label:"单价",labelStyle:"width:60px"}},[a("span",[e._v(e._s(e.updateform.price))])]),a("el-descriptions-item",{attrs:{label:"单位",labelStyle:"width:60px"}},[a("span",[e._v(e._s(e.updateform.unit))])]),a("el-descriptions-item",{attrs:{label:"数量",labelStyle:"width:160px"}},[a("span",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"产品数量"},model:{value:e.updateform.cnt,callback:function(t){e.$set(e.updateform,"cnt",t)},expression:"updateform.cnt"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"报损金额(元)",labelStyle:"width:160px"}},[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"报损金额"},model:{value:e.updateform.money,callback:function(t){e.$set(e.updateform,"money",t)},expression:"updateform.money"}})],1)],1),a("el-descriptions-item",{attrs:{label:"仓库",labelStyle:"width:160px"}},[a("el-form-item",{attrs:{required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.updateform.storeId,callback:function(t){e.$set(e.updateform,"storeId",t)},expression:"updateform.storeId"}},e._l(e.storeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1)],1),a("el-descriptions-item",{attrs:{label:"批号"}},[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"请输入批号"},model:{value:e.updateform.batchCode,callback:function(t){e.$set(e.updateform,"batchCode",t)},expression:"updateform.batchCode"}})],1)],1),a("el-descriptions-item",{attrs:{label:"生产日期"}},[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择生产日期"},model:{value:e.updateform.createDate,callback:function(t){e.$set(e.updateform,"createDate",t)},expression:"updateform.createDate"}})],1)],1),a("el-descriptions-item",{attrs:{label:"有效期"}},[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择有效期"},model:{value:e.updateform.validDate,callback:function(t){e.$set(e.updateform,"validDate",t)},expression:"updateform.validDate"}})],1)],1)],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFormUpdate}},[e._v("确 定")]),a("el-button",{on:{click:function(t){e.updateBool=!1}}},[e._v("取 消")])],1)],1),e.show?a("SelectGoods",{attrs:{title:"选择商品",show:e.show},on:{confirm:e.confirmSelectGood,close:function(t){e.show=!1}}}):e._e()],1)},o=[],l=a("0344"),i=(a("6540"),a("1d7a"),a("151f")),s=a("535d"),n=a("83f1"),c=a("a6db"),u={components:{SelectGoods:c["a"]},data:function(){return{updateBool:!1,queryParamsOrder:{pageNum:1,pageSize:10,productName:void 0,orderId:""},updateform:{},goodList:[],detailTotal:0,loadingGood:!1,showDetail:!1,currentOrder:{},show:!1,detailform:{},detailBool:!1,userList:[],options:[],loading:!1,showSearch:!0,total:0,postList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,orderCode:"",status:"待报损"},form:{costMoney:"",note:"",purchasor:"",money:""},rules:{note:[{required:!0,message:"报损原因不能为空",trigger:"change"},{required:!0,message:"报损原因不能为空",trigger:"blur"}],costMoney:[{required:!0,message:"报损金额不能为空",trigger:"change"},{required:!0,message:"报损金额不能为空",trigger:"blur"}],purchasor:[{required:!0,message:"经办人员不能为空",trigger:"blur"}],money:[{required:!0,message:"总金额不能为空",trigger:"blur"}]},currentDetail:[{cnt:"",money:"",storeId:"",batchCode:"",createDate:"",validDate:"",productId:""}],storeList:[]}},created:function(){this.getList(),this.supplierList(),this.companyUserList(),this.getstoreList()},methods:{verify:function(e){var t=this;Object(i["k"])({objectId:e.objectId,statuz:"已报损"}).then((function(e){console.log(e),t.$modal.msgSuccess("报损成功"),t.getList()}))},Noverify:function(e){var t=this;Object(i["k"])({objectId:e.objectId,statuz:"审核拒绝"}).then((function(e){t.$modal.msgSuccess("拒绝报损"),t.getList()}))},submitFormUpdate:function(){var e=this;Object(i["f"])(this.updateform).then((function(t){e.$modal.msgSuccess("修改成功"),e.updateBool=!1,e.getDetailList()}))},submitLoss:function(e){var t=this;Object(i["l"])({objectId:e.objectId}).then((function(e){t.msgSuccess("提交成功"),t.getList()}))},handleUpdateDetail:function(e){var t=this;Object(i["g"])(e.objectId).then((function(e){t.updateform=e.data,t.updateBool=!0}))},handleDeleteDetail:function(e){var t=this;this.$modal.confirm("是否确认删除该数据项？").then((function(){return Object(i["d"])(e.objectId)})).then((function(){t.getDetailList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},getstoreList:function(){var e=this;Object(n["O"])({companyId:this.$store.state.user.companyInfo.companyId}).then((function(t){e.storeList=t.data}))},submitFormDetail:function(){var e=this;console.log(this.currentDetail);var t={},a=[];this.currentDetail.map((function(e){a.push({cnt:e.cnt,money:e.money,storeId:e.storeId,batchCode:e.batchCode,createDate:e.createDate,validDate:e.validDate,productId:e.objectId})})),t.objectId=this.currentOrder.objectId,t.itemList=a,Object(i["b"])(t).then((function(t){console.log(t),e.$modal.msgSuccess("新增成功"),e.detailBool=!1,e.getDetailList()}))},handleQueryOrder:function(){this.queryParams.pageNum=1,this.getDetailList()},getDetailList:function(){var e=this;this.loadingGood=!0,Object(i["h"])(this.queryParamsOrder).then((function(t){e.goodList=t.rows,e.detailTotal=t.total,e.loadingGood=!1}))},confirmSelectGood:function(e){this.$set(this,"currentDetail",Object(l["a"])(e)),this.$forceUpdate(),this.show=!1,this.detailBool=!0},lookDetail:function(e){this.currentOrder=e,this.resetDetail(),this.queryParamsOrder.orderId=e.objectId,this.showDetail=!0,this.getDetailList()},resetDetail:function(){this.queryParamsOrder={pageNum:1,pageSize:10,productName:"",orderId:""}},addDetail:function(){this.show=!0},selectSupplier:function(e){this.form.supplier=e.name,this.form.supplierId=e.objectId},getList:function(){var e=this;this.loading=!0,Object(i["j"])(this.queryParams).then((function(t){e.postList=t.rows,e.total=t.total,e.loading=!1}))},supplierList:function(){var e=this;Object(s["e"])().then((function(t){e.options=t.data}))},companyUserList:function(){var e=this;console.log(this.$store.state),Object(n["g"])({companyId:this.$store.state.user.companyInfo.companyId}).then((function(t){e.userList=t.data}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={costMoney:"",note:"",purchasor:"",money:""},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQueryOrder:function(){this.queryParamsOrder.pageNum=1,this.queryParamsOrder.productName="",this.getDetailList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加报损"},handleUpdate:function(e){var t=this;this.reset(),Object(i["i"])(e.objectId).then((function(e){t.form=e.data,t.open=!0,t.title="修改报损信息"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.objectId?Object(i["e"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(i["a"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.showDetail=!0,e.getList()})))}))},handleDelete:function(e){var t=this;this.$modal.confirm("是否确认删除该数据项？").then((function(){return Object(i["c"])(e.objectId)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))}}},d=u,m=(a("26a8"),a("cba8")),p=Object(m["a"])(d,r,o,!1,null,"af7a6e1a",null);t["default"]=p.exports},"4c1b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6,xs:24}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("个人信息")])]),a("div",[a("div",{staticClass:"text-center"},[a("userAvatar",{attrs:{user:e.user}})],1),a("ul",{staticClass:"list-group list-group-striped"},[a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"user"}}),e._v("用户名称 "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.userName))])],1),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"phone"}}),e._v("手机号码 "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.phonenumber))])],1),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"email"}}),e._v("用户邮箱 "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.email))])],1),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"tree"}}),e._v("所属部门 "),e.user.dept?a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.dept.deptName)+" / "+e._s(e.postGroup))]):e._e()],1),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"peoples"}}),e._v("所属角色 "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.roleGroup))])],1),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"date"}}),e._v("创建日期 "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.createTime))])],1)])])])],1),a("el-col",{attrs:{span:18,xs:24}},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("基本资料")])]),a("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"修改密码",name:"resetPwd"}},[a("resetPwd",{attrs:{user:e.user}})],1)],1)],1)],1)],1)],1)},o=[],l=a("9429"),i=a("1e8b"),s=a("ee46"),n=a("c0c7"),c={name:"Profile",components:{userAvatar:l["default"],userInfo:i["default"],resetPwd:s["default"]},data:function(){return{user:{},roleGroup:{},postGroup:{},activeTab:"resetPwd"}},created:function(){},methods:{getUser:function(){var e=this;Object(n["g"])().then((function(t){e.user=t.data,e.roleGroup=t.roleGroup,e.postGroup=t.postGroup}))}}},u=c,d=a("cba8"),m=Object(d["a"])(u,r,o,!1,null,null,null);t["default"]=m.exports},"4dd0":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("router-view")],1)},o=[],l={data:function(){return{}},mounted:function(){}},i=l,s=a("cba8"),n=Object(s["a"])(i,r,o,!1,null,"5ced92bf",null);t["default"]=n.exports},5194:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("i-frame",{attrs:{src:e.url}})},o=[],l=a("061b"),i={name:"Druid",components:{iFrame:l["a"]},data:function(){return{url:"/prod-api/druid/login.html"}}},s=i,n=a("cba8"),c=Object(n["a"])(s,r,o,!1,null,null,null);t["default"]=c.exports},"52f4":function(e,t,a){"use strict";a("c3ae")},5322:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("router-view")],1)},o=[],l={data:function(){return{}},mounted:function(){}},i=l,s=a("cba8"),n=Object(s["a"])(i,r,o,!1,null,"3e4da38c",null);t["default"]=n.exports},5336:function(e,t,a){"use strict";a("6c16")},"535d":function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"d",(function(){return n}));var r=a("b775");function o(e){return Object(r["a"])({url:"/store/st-supplier/list",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/store/st-supplier/add",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/store/st-supplier/edit",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/store/st-supplier/delete/".concat(e),method:"get"})}function n(e){return Object(r["a"])({url:"/store/st-supplier/get/".concat(e),method:"get"})}},"536e":function(e,t,a){"use strict";a("a152")},"541b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.addDocument}},[e._v("增加设备 ")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.Modeler}},[a("el-table-column",{attrs:{label:"设备名称",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{color:"#409EFF",cursor:"pointer"},on:{click:function(a){return e.seeDetail(t.row)}}},[e._v(e._s(t.row.name))])]}}])}),a("el-table-column",{attrs:{label:"数量",prop:"cnt"}}),a("el-table-column",{attrs:{label:"规格",prop:"spec"}}),a("el-table-column",{attrs:{label:"位置",prop:"site"}}),a("el-table-column",{attrs:{label:"生产厂家",prop:"factory"}}),a("el-table-column",{attrs:{label:"采购日期",prop:"bdate",formatter:e.formatter}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("编辑 ")]),a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除 ")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{visible:e.open,width:"85%",title:e.title,"append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t},close:e.modelCancel}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"设施名称：",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入设施名称"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"位置：",prop:"site"}},[a("el-input",{attrs:{placeholder:"请输入位置"},model:{value:e.ruleForm.site,callback:function(t){e.$set(e.ruleForm,"site",t)},expression:"ruleForm.site"}})],1),a("el-form-item",{attrs:{label:"规格单位：",prop:"spec"}},[a("el-input",{attrs:{placeholder:"请输入规格单位"},model:{value:e.ruleForm.spec,callback:function(t){e.$set(e.ruleForm,"spec",t)},expression:"ruleForm.spec"}})],1),a("el-form-item",{attrs:{label:"数量：",prop:"cnt"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入数量"},model:{value:e.ruleForm.cnt,callback:function(t){e.$set(e.ruleForm,"cnt",t)},expression:"ruleForm.cnt"}})],1),a("el-form-item",{attrs:{label:"生产厂家：",prop:"factory"}},[a("el-input",{attrs:{placeholder:"请输入生产厂家"},model:{value:e.ruleForm.factory,callback:function(t){e.$set(e.ruleForm,"factory",t)},expression:"ruleForm.factory"}})],1),a("el-form-item",{attrs:{label:"采购日期：",prop:"bdate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择采购日期"},model:{value:e.ruleForm.bdate,callback:function(t){e.$set(e.ruleForm,"bdate",t)},expression:"ruleForm.bdate"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存")]),a("el-button",{on:{click:e.modelCancel}},[e._v("取消")])],1)],1),a("el-dialog",{attrs:{visible:e.open1,width:"85%",title:e.title,"append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open1=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"设施名称："}},[a("span",[e._v(e._s(e.ruleForm.name))])]),a("el-form-item",{attrs:{label:"位置："}},[a("span",[e._v(e._s(e.ruleForm.site))])]),a("el-form-item",{attrs:{label:"规格单位："}},[a("span",[e._v(e._s(e.ruleForm.spec))])]),a("el-form-item",{attrs:{label:"数量："}},[a("span",[e._v(e._s(e.ruleForm.cnt))])]),a("el-form-item",{attrs:{label:"生产厂家："}},[a("span",[e._v(e._s(e.ruleForm.factory))])]),a("el-form-item",{attrs:{label:"采购日期："}},[a("span",[e._v(e._s(e.formatDate(e.ruleForm.bdate,"{y}-{m}-{d}")))])])],1)],1)],1)},o=[],l=a("8955"),i=a("83f1"),s={props:{objectId:{type:String,required:!0}},data:function(){return Object(l["a"])({loading:!1,showSearch:!0,total:0,Modeler:[],title:"",open:!1,open1:!1,queryParams:{pageNum:1,pageSize:10},ruleForm:{name:"",site:"",spec:"",cnt:"",factory:"",bdate:"",companyId:""},rules:{name:[{required:!0,message:"请输入设施名称",trigger:"blur"}],site:[{required:!0,message:"请输入位置",trigger:"blur"}],spec:[{required:!0,message:"请输入规格单位",trigger:"blur"}],cnt:[{required:!0,message:"请输入数量",trigger:"blur"}]},selection:[]},"title","")},watch:{objectId:function(){this.objectId&&this.getList()}},methods:{getList:function(){var e=this;this.loading=!0,this.ruleForm.companyId=this.objectId,Object(i["l"])({companyId:this.objectId}).then((function(t){e.Modeler=t.data,e.loading=!1}))},handleDelete:function(e){var t=this;this.$confirm("是否确认删除所选信息?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["i"])(e.objectId)})).then((function(){t.getList(),t.msgSuccess("删除成功"),t.$emit("comfign1",t.objectId)})).catch((function(){}))},modelCancel:function(){this.reset(),this.open=!1},addDocument:function(){this.reset(),this.title="新增设备",this.open=!0},seeDetail:function(e){var t=this;this.reset(),Object(i["k"])(e.objectId).then((function(e){t.ruleForm=e.data,t.title="设备详情",t.open1=!0}))},handleUpdate:function(e){var t=this;this.reset(),Object(i["k"])(e.objectId).then((function(e){t.ruleForm=e.data,t.title="修改设备",t.open=!0}))},submitForm:function(){var e=this;this.$refs["ruleForm"].validate((function(t){t&&(null!=e.ruleForm.objectId?Object(i["j"])(e.ruleForm).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList(),e.$emit("comfign1",e.objectId)})):Object(i["h"])(e.ruleForm).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList(),e.$emit("comfign1",e.objectId)})))}))},reset:function(){this.ruleForm={companyId:this.objectId,name:"",site:"",spec:"",cnt:"",factory:"",bdate:""},this.resetForm("ruleForm")},formatter:function(e){return e.bdate?this.formatDate(e.bdate,"{y}-{m}-{d}"):""}}},n=s,c=(a("8f11"),a("cba8")),u=Object(c["a"])(n,r,o,!1,null,"75710c45",null);t["default"]=u.exports},5583:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-input",{on:{input:e.input},model:{value:e.saleArea,callback:function(t){e.saleArea=t},expression:"saleArea"}})],1)},o=[],l={props:{value:{type:String,required:!0}},data:function(){return{saleArea:""}},methods:{input:function(e){this.$emit("saleArea",this.saleArea)}},watch:{value:function(){this.saleArea=this.value}}},i=l,s=a("cba8"),n=Object(s["a"])(i,r,o,!1,null,"392f8114",null);t["default"]=n.exports},5650:function(e,t,a){},5788:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"岗位编码",prop:"postCode"}},[a("el-input",{attrs:{placeholder:"请输入岗位编码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.postCode,callback:function(t){e.$set(e.queryParams,"postCode",t)},expression:"queryParams.postCode"}})],1),a("el-form-item",{attrs:{label:"岗位名称",prop:"postName"}},[a("el-input",{attrs:{placeholder:"请输入岗位名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.postName,callback:function(t){e.$set(e.queryParams,"postName",t)},expression:"queryParams.postName"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"岗位状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.dict.type.sys_normal_disable,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:post:add"],expression:"['system:post:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:post:edit"],expression:"['system:post:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:post:remove"],expression:"['system:post:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:post:export"],expression:"['system:post:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"岗位编号",align:"center",prop:"postId"}}),a("el-table-column",{attrs:{label:"岗位编码",align:"center",prop:"postCode"}}),a("el-table-column",{attrs:{label:"岗位名称",align:"center",prop:"postName"}}),a("el-table-column",{attrs:{label:"岗位排序",align:"center",prop:"postSort"}}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("dict-tag",{attrs:{options:e.dict.type.sys_normal_disable,value:t.row.status}})]}}])}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:post:edit"],expression:"['system:post:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:post:remove"],expression:"['system:post:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"岗位名称",prop:"postName"}},[a("el-input",{attrs:{placeholder:"请输入岗位名称"},model:{value:e.form.postName,callback:function(t){e.$set(e.form,"postName",t)},expression:"form.postName"}})],1),a("el-form-item",{attrs:{label:"岗位编码",prop:"postCode"}},[a("el-input",{attrs:{placeholder:"请输入编码名称"},model:{value:e.form.postCode,callback:function(t){e.$set(e.form,"postCode",t)},expression:"form.postCode"}})],1),a("el-form-item",{attrs:{label:"岗位顺序",prop:"postSort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.postSort,callback:function(t){e.$set(e.form,"postSort",t)},expression:"form.postSort"}})],1),a("el-form-item",{attrs:{label:"岗位状态",prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.dict.type.sys_normal_disable,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},o=[],l=(a("6540"),a("1d7a"),a("b775"));function i(e){return Object(l["a"])({url:"/system/post/list",method:"get",params:e})}function s(e){return Object(l["a"])({url:"/system/post/"+e,method:"get"})}function n(e){return Object(l["a"])({url:"/system/post",method:"post",data:e})}function c(e){return Object(l["a"])({url:"/system/post",method:"put",data:e})}function u(e){return Object(l["a"])({url:"/system/post/"+e,method:"delete"})}function d(e){return Object(l["a"])({url:"/system/post/export",method:"get",params:e})}var m={name:"Post",dicts:["sys_normal_disable"],data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,postList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,postCode:void 0,postName:void 0,status:void 0},form:{},rules:{postName:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}],postCode:[{required:!0,message:"岗位编码不能为空",trigger:"blur"}],postSort:[{required:!0,message:"岗位顺序不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,i(this.queryParams).then((function(t){e.postList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={postId:void 0,postCode:void 0,postName:void 0,postSort:0,status:"0",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.postId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加岗位"},handleUpdate:function(e){var t=this;this.reset();var a=e.postId||this.ids;s(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改岗位"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.postId?c(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):n(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.postId||this.ids;this.$modal.confirm('是否确认删除岗位编号为"'+a+'"的数据项？').then((function(){return u(a)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$modal.confirm("是否确认导出所有岗位数据项？").then((function(){return e.exportLoading=!0,d(t)})).then((function(t){e.$download.name(t.msg),e.exportLoading=!1})).catch((function(){}))}}},p=m,f=a("cba8"),h=Object(f["a"])(p,r,o,!1,null,null,null);t["default"]=h.exports},5911:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{staticClass:"card-box",attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("基本信息")])]),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("tbody",[a("tr",[a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("Redis版本")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?a("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.redis_version))]):e._e()]),a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("运行模式")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?a("div",{staticClass:"cell"},[e._v(e._s("standalone"==e.cache.info.redis_mode?"单机":"集群"))]):e._e()]),a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("端口")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?a("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.tcp_port))]):e._e()]),a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("客户端数")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?a("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.connected_clients))]):e._e()])]),a("tr",[a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("运行时间(天)")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?a("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.uptime_in_days))]):e._e()]),a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("使用内存")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?a("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.used_memory_human))]):e._e()]),a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("使用CPU")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?a("div",{staticClass:"cell"},[e._v(e._s(parseFloat(e.cache.info.used_cpu_user_children).toFixed(2)))]):e._e()]),a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("内存配置")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?a("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.maxmemory_human))]):e._e()])]),a("tr",[a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("AOF是否开启")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?a("div",{staticClass:"cell"},[e._v(e._s("0"==e.cache.info.aof_enabled?"否":"是"))]):e._e()]),a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("RDB是否成功")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?a("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.rdb_last_bgsave_status))]):e._e()]),a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("Key数量")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.cache.dbSize?a("div",{staticClass:"cell"},[e._v(e._s(e.cache.dbSize)+" ")]):e._e()]),a("td",{staticClass:"el-table__cell is-leaf"},[a("div",{staticClass:"cell"},[e._v("网络入口/出口")])]),a("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?a("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.instantaneous_input_kbps)+"kps/"+e._s(e.cache.info.instantaneous_output_kbps)+"kps")]):e._e()])])])])])])],1),a("el-col",{staticClass:"card-box",attrs:{span:12}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("命令统计")])]),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("div",{ref:"commandstats",staticStyle:{height:"420px"}})])])],1),a("el-col",{staticClass:"card-box",attrs:{span:12}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("内存信息")])]),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("div",{ref:"usedmemory",staticStyle:{height:"420px"}})])])],1)],1)],1)},o=[],l=a("b775");function i(){return Object(l["a"])({url:"/monitor/cache",method:"get"})}var s=a("4d28"),n=a.n(s),c={name:"Server",data:function(){return{commandstats:null,usedmemory:null,cache:[]}},created:function(){this.getList(),this.openLoading()},methods:{getList:function(){var e=this;i().then((function(t){e.cache=t.data,e.$modal.closeLoading(),e.commandstats=n.a.init(e.$refs.commandstats,"macarons"),e.commandstats.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"命令",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:t.data.commandStats,animationEasing:"cubicInOut",animationDuration:1e3}]}),e.usedmemory=n.a.init(e.$refs.usedmemory,"macarons"),e.usedmemory.setOption({tooltip:{formatter:"{b} <br/>{a} : "+e.cache.info.used_memory_human},series:[{name:"峰值",type:"gauge",min:0,max:1e3,detail:{formatter:e.cache.info.used_memory_human},data:[{value:parseFloat(e.cache.info.used_memory_human),name:"内存消耗"}]}]})}))},openLoading:function(){this.$modal.loading("正在加载缓存监控数据，请稍后！")}}},u=c,d=a("cba8"),m=Object(d["a"])(u,r,o,!1,null,null,null);t["default"]=m.exports},"5adc":function(e,t,a){},"5b9a":function(e,t,a){"use strict";a.r(t);var r,o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"88px"}},[a("el-form-item",{attrs:{label:"供应商名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入供应商名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList}},[a("el-table-column",{attrs:{label:"供应商名称",align:"center",prop:"name"}}),a("el-table-column",{attrs:{label:"企业社会统一代码",align:"center",prop:"tcode"}}),a("el-table-column",{attrs:{label:"注册地址",align:"center",prop:"address"}}),a("el-table-column",{attrs:{label:"仓库地址",align:"center",prop:"storeAddress"}}),a("el-table-column",{attrs:{label:"行业类型",align:"center",prop:"tradeName"}}),a("el-table-column",{attrs:{label:"企业类型",align:"center",prop:"comTYpeName"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.title,visible:e.open,width:"60%","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"label-width":"140px"}},[a("el-form-item",{attrs:{prop:"name",label:"供应商名称"}},[a("el-input",{attrs:{placeholder:"请输入供应商名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{prop:"tcode",label:"企业社会统一代码"}},[a("el-input",{attrs:{placeholder:"请输入企业社会统一代码"},model:{value:e.form.tcode,callback:function(t){e.$set(e.form,"tcode",t)},expression:"form.tcode"}})],1),a("el-form-item",{attrs:{prop:"address",label:"注册地址"}},[a("el-input",{attrs:{placeholder:"请输入注册地址"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),a("el-form-item",{attrs:{prop:"storeAddress",label:"仓库地址"}},[a("el-input",{attrs:{placeholder:"请输入仓库地址"},model:{value:e.form.storeAddress,callback:function(t){e.$set(e.form,"storeAddress",t)},expression:"form.storeAddress"}})],1),a("el-form-item",{attrs:{prop:"personName",label:"法人名称"}},[a("el-input",{attrs:{placeholder:"请输入法人名称"},model:{value:e.form.personName,callback:function(t){e.$set(e.form,"personName",t)},expression:"form.personName"}})],1),a("el-form-item",{attrs:{prop:"mobile",label:"手机号"}},[a("el-input",{attrs:{placeholder:"请输入手机号",type:"number"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),a("el-form-item",{attrs:{prop:"tradeId",label:"行业类型"}},[a("el-select",{attrs:{placeholder:"请选择行业类型"},model:{value:e.form.tradeId,callback:function(t){e.$set(e.form,"tradeId",t)},expression:"form.tradeId"}},e._l(e.tradeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1),a("el-form-item",{attrs:{prop:"compTypeId",label:"企业类型"}},[a("el-select",{attrs:{placeholder:"请选择企业类型"},model:{value:e.form.compTypeId,callback:function(t){e.$set(e.form,"compTypeId",t)},expression:"form.compTypeId"}},e._l(e.compTypeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1),a("el-form-item",{attrs:{prop:"linkMan",label:"联系人"}},[a("el-input",{attrs:{placeholder:"请输入联系人"},model:{value:e.form.linkMan,callback:function(t){e.$set(e.form,"linkMan",t)},expression:"form.linkMan"}})],1),a("el-form-item",{attrs:{prop:"linkMobile",label:"手机号"}},[a("el-input",{attrs:{placeholder:"请输入手机号",type:"number"},model:{value:e.form.linkMobile,callback:function(t){e.$set(e.form,"linkMobile",t)},expression:"form.linkMobile"}})],1),a("el-form-item",{attrs:{prop:"email",label:"邮箱"}},[a("el-input",{attrs:{placeholder:"请输入邮箱",maxlength:"50"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),a("el-form-item",{attrs:{prop:"note",label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:e.form.note,callback:function(t){e.$set(e.form,"note",t)},expression:"form.note"}})],1),a("el-form-item",{attrs:{prop:"picUrl",label:"营业执照"}},[a("el-upload",{attrs:{action:e.action,accept:".jpg,.jpeg,.png,.JPG,.JPEG","before-upload":e.beforeAvatarUpload,limit:1,"file-list":e.fileList,"on-exceed":e.handleExceed,headers:e.headers,"list-type":"picture-card","on-success":e.uploadSuccess,"on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove}},[a("i",{staticClass:"el-icon-plus"})])],1),a("el-form-item",{attrs:{prop:"pic2Url",label:"生产许可证"}},[a("el-upload",{attrs:{action:e.action,"before-upload":e.beforeAvatarUpload,limit:1,"file-list":e.fileListB,"on-exceed":e.handleExceedB,headers:e.headers,"list-type":"picture-card","on-success":e.uploadSuccessB,"on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemoveB}},[a("i",{staticClass:"el-icon-plus"})])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{visible:e.dialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},l=[],i=a("8955"),s=(a("1d7a"),a("535d")),n=a("5f87"),c=a("5e1a"),u={name:"Post",dicts:["sys_normal_disable"],data:function(){return{headers:{Authorization:"Bearer "+Object(n["a"])()},action:"/prod-api/common/upload",base:"/prod-api",loading:!1,showSearch:!0,total:0,postList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,name:void 0},form:{name:"",tcode:"",address:"",storeAddress:"",personName:"",mobile:"",tradeId:"",compTypeId:"",linkMan:"",linkMobile:"",picUrl:"",email:"",note:"",pic2Url:""},rules:{name:[{required:!0,message:"供应商名称不能为空",trigger:"blur"}],tcode:[{required:!0,message:"企业统一社会信用代码不能为空",trigger:"blur"}],address:[{required:!0,message:"注册地址不能为空",trigger:"blur"}],storeAddress:[{required:!0,message:"仓库地址不能为空",trigger:"blur"}],personName:[{required:!0,message:"法人名称不能为空",trigger:"blur"}],mobile:[{required:!0,message:"法人手机号不能为空",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号",trigger:"blur"}],tradeId:[{required:!0,message:"行业类型不能为空",trigger:"blur"}],compTypeId:[{required:!0,message:"企业类型不能为空",trigger:"blur"}],linkMan:[{required:!0,message:"联系人不能为空",trigger:"blur"}],linkMobile:[{required:!0,message:"手机号不能为空",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号",trigger:"blur"}],email:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],picUrl:[{required:!0,message:"营业执照不能为空",trigger:"change"}]},dialogImageUrl:"",dialogVisible:!1,fileList:[],fileListB:[],compTypeList:[],tradeList:[]}},created:function(){this.getList(),this.getIndustryTypeList()},methods:(r={beforeAvatarUpload:function(e){var t=e.name,a=t.substring(t.lastIndexOf("."));if(".jpg"!==a&&".png"!==a&&".jpeg"!==a&&".bmp"!==a&&".gif"!==a)return this.$message.error("不是,jpeg,.png,.jpg,.bmp,.gif文件,请上传正确的图片类型"),!1},getEnterpriseTypeList:function(){var e=this;Object(c["a"])({tradeId:this.form.tradeId}).then((function(t){e.compTypeList=t.data?t.data:[]}))},getIndustryTypeList:function(){var e=this;Object(c["b"])().then((function(t){e.tradeList=t.data?t.data:[]}))},handleRemove:function(e,t){this.fileList=t,this.form.picUrl=""},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},uploadSuccess:function(e,t,a){this.fileList=a,this.form.picUrl=a[0].response.fileName},handleExceed:function(e,t){this.msgInfo("超出文件限制，请删除后再上传")},handleRemoveB:function(e,t){this.fileListB=t,this.form.pic2Url=""},uploadSuccessB:function(e,t,a){this.fileListB=a,this.form.pic2Url=a[0].response.fileName},handleExceedB:function(e,t){this.msgInfo("超出文件限制，请删除后再上传")},getList:function(){var e=this;this.loading=!0,Object(s["e"])(this.queryParams).then((function(t){e.postList=t.data,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={name:"",tcode:"",address:"",storeAddress:"",personName:"",mobile:"",tradeId:"",compTypeId:"",linkMan:"",linkMobile:"",picUrl:"",email:"",note:"",pic2Url:""},this.fileList=[],this.fileListB=[],this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加供应商"},handleUpdate:function(e){var t=this;this.reset(),Object(s["d"])(e.objectId).then((function(e){t.form=e.data,e.data.picUrl&&(t.fileList=[{name:"",url:t.base+e.data.picUrl}]),e.data.pic2Url&&(t.fileListB=[{name:"",url:t.base+e.data.pic2Url}]),t.open=!0,t.title="修改供应商"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.objectId?Object(s["c"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(s["a"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this;this.$modal.confirm('是否确认删除供应商"'+e.name+'"的数据项？').then((function(){return Object(s["b"])(e.objectId)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))}},Object(i["a"])(r,"beforeAvatarUpload",(function(e){var t="image/jpeg"===e.type||"image/jpg"===e.type||"image/png"===e.type||"image/gif"===e.type;e.size;return t||this.$message.error("请上传jpeg/jpg/png/gif类型的图片!"),t})),Object(i["a"])(r,"beforeAvatarUpload1",(function(e){var t="image/jpeg"===e.type||"image/jpg"===e.type||"image/png"===e.type||"image/gif"===e.type;e.size;return t||this.$message.error("请上传jpeg/jpg/png/gif类型的图片!"),t})),r),watch:{"form.tradeId":{handler:function(e,t){this.getEnterpriseTypeList()}}}},d=u,m=(a("7d75"),a("cba8")),p=Object(m["a"])(d,o,l,!1,null,"5259ac77",null);t["default"]=p.exports},"5cc7":function(e,t,a){},"5cfa":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"部门名称",prop:"deptName"}},[a("el-input",{attrs:{placeholder:"请输入部门名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.deptName,callback:function(t){e.$set(e.queryParams,"deptName",t)},expression:"queryParams.deptName"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"部门状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.dict.type.sys_normal_disable,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dept:add"],expression:"['system:dept:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"info",plain:"",icon:"el-icon-sort",size:"mini"},on:{click:e.toggleExpandAll}},[e._v("展开/折叠")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),e.refreshTable?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.deptList,"row-key":"deptId","default-expand-all":e.isExpandAll,"tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"deptName",label:"部门名称",width:"260"}}),a("el-table-column",{attrs:{prop:"orderNum",label:"排序",width:"200"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("dict-tag",{attrs:{options:e.dict.type.sys_normal_disable,value:t.row.status}})]}}],null,!1,2802338569)}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}],null,!1,3078210614)}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dept:edit"],expression:"['system:dept:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dept:add"],expression:"['system:dept:add']"}],attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("新增")]),0!=t.row.parentId?a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dept:remove"],expression:"['system:dept:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]):e._e()]}}],null,!1,2965762180)})],1):e._e(),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[0!==e.form.parentId?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"上级部门",prop:"parentId"}},[a("treeselect",{attrs:{options:e.deptOptions,normalizer:e.normalizer,placeholder:"选择上级部门"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1)],1):e._e(),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门名称",prop:"deptName"}},[a("el-input",{attrs:{placeholder:"请输入部门名称"},model:{value:e.form.deptName,callback:function(t){e.$set(e.form,"deptName",t)},expression:"form.deptName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"显示排序",prop:"orderNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.orderNum,callback:function(t){e.$set(e.form,"orderNum",t)},expression:"form.orderNum"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"负责人",prop:"leader"}},[a("el-input",{attrs:{placeholder:"请输入负责人",maxlength:"20"},model:{value:e.form.leader,callback:function(t){e.$set(e.form,"leader",t)},expression:"form.leader"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入联系电话",maxlength:"11"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱",maxlength:"50"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.dict.type.sys_normal_disable,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},o=[],l=a("fcb7"),i=a("7d66"),s=a.n(i),n=(a("5166"),{name:"Dept",dicts:["sys_normal_disable"],components:{Treeselect:s.a},data:function(){return{loading:!0,showSearch:!0,deptList:[],deptOptions:[],title:"",open:!1,isExpandAll:!0,refreshTable:!0,expand:!1,queryParams:{deptName:void 0,status:void 0},form:{},rules:{parentId:[{required:!0,message:"上级部门不能为空",trigger:"blur"}],deptName:[{required:!0,message:"部门名称不能为空",trigger:"blur"}],orderNum:[{required:!0,message:"显示排序不能为空",trigger:"blur"}],email:[{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(l["d"])(this.queryParams).then((function(t){e.deptList=e.handleTree(t.data,"deptId"),e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.deptId,label:e.deptName,children:e.children}},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={deptId:void 0,parentId:void 0,deptName:void 0,orderNum:void 0,leader:void 0,phone:void 0,email:void 0,status:"0"},this.resetForm("form")},handleQuery:function(){this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(e){var t=this;this.reset(),void 0!=e&&(this.form.parentId=e.deptId),this.open=!0,this.title="添加部门",Object(l["d"])().then((function(e){t.deptOptions=t.handleTree(e.data,"deptId")}))},toggleExpandAll:function(){var e=this;this.refreshTable=!1,this.isExpandAll=!this.isExpandAll,this.$nextTick((function(){e.refreshTable=!0}))},handleUpdate:function(e){var t=this;this.reset(),Object(l["c"])(e.deptId).then((function(e){t.form=e.data,t.open=!0,t.title="修改部门"})),Object(l["e"])(e.deptId).then((function(e){t.deptOptions=t.handleTree(e.data,"deptId")}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.deptId?Object(l["h"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(l["a"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this;this.$modal.confirm('是否确认删除名称为"'+e.deptName+'"的数据项？').then((function(){return Object(l["b"])(e.deptId)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))}}}),c=n,u=a("cba8"),d=Object(u["a"])(c,r,o,!1,null,null,null);t["default"]=d.exports},"5d34a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-checkbox-group",{on:{change:e.change},model:{value:e.typeCheck,callback:function(t){e.typeCheck=t},expression:"typeCheck"}},[a("div",{staticClass:"input-suffix"},[a("el-checkbox",{attrs:{label:"特大型餐馆"}}),a("el-checkbox",{attrs:{label:"小型餐馆"}}),a("el-checkbox",{attrs:{label:"中型餐馆"}}),a("el-checkbox",{attrs:{label:"快餐店"}}),a("el-checkbox",{attrs:{label:"小吃店"}}),a("el-checkbox",{attrs:{label:"饮品店"}}),a("el-checkbox",{attrs:{label:"食堂"}}),a("el-checkbox",{attrs:{label:"集体用餐配送单位"}}),a("span",{staticStyle:{"font-size":"14px"}},[e._v("(")]),a("el-checkbox",{attrs:{label:"其他"}}),-1!=e.typeCheck.indexOf("其他")?a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"其他"},on:{input:e.input},model:{value:e.scopeOther,callback:function(t){e.scopeOther=t},expression:"scopeOther"}}):e._e(),a("span",{staticStyle:{"font-size":"14px","margin-left":"10px"}},[e._v(")")])],1)])],1)},o=[],l={props:{value:{type:Array,required:!0},inputOther:{type:String,required:!0}},data:function(){return{typeCheck:[],scopeOther:""}},methods:{change:function(e){this.$emit("typeCheck",this.typeCheck)},input:function(e){this.$emit("scopeOther",this.scopeOther)}},watch:{value:function(){this.typeCheck=this.value},inputOther:function(){this.scopeOther=this.inputOther}}},i=l,s=a("cba8"),n=Object(s["a"])(i,r,o,!1,null,"6cc32950",null);t["default"]=n.exports},"5e1a":function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return l}));var r=a("b775");function o(e){return Object(r["a"])({url:"/base/b-trade/list",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/base/b-comp-type/list",method:"get",params:e})}},"617a":function(e,t,a){},6195:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"订单号",prop:"orderCode"}},[a("el-input",{attrs:{placeholder:"请输入订单号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.orderCode,callback:function(t){e.$set(e.queryParams,"orderCode",t)},expression:"queryParams.orderCode"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList}},[a("el-table-column",{attrs:{label:"订单编号",align:"center",prop:"orderCode"}}),a("el-table-column",{attrs:{label:"客户",align:"center",prop:"custom"}}),a("el-table-column",{attrs:{label:"总金额(元)",align:"center",prop:"money"}}),a("el-table-column",{attrs:{label:"出库状态",align:"center",prop:"statuz"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(t.row.statuz)+" ")])]}}])}),a("el-table-column",{attrs:{label:"业务人员",align:"center",prop:"purchasor"}}),a("el-table-column",{attrs:{label:"操作人",align:"center",prop:"userId"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-tickets"},on:{click:function(a){return e.lookDetail(t.row)}}},[e._v("订单明细")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]),"草稿"==t.row.statuz?a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-top"},on:{click:function(a){return e.submitInStore(t.row)}}},[e._v("提交出库")]):e._e()]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.title,visible:e.open,width:"50%","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"label-width":"110px"}},[a("el-form-item",{attrs:{prop:"custom",label:"选择客户",required:""}},[a("el-input",{attrs:{readonly:""},on:{focus:function(t){e.showCustom=!0}},model:{value:e.form.custom,callback:function(t){e.$set(e.form,"custom",t)},expression:"form.custom"}})],1),a("el-form-item",{attrs:{prop:"customAddress",label:"客户地址",required:""}},[a("el-input",{model:{value:e.form.customAddress,callback:function(t){e.$set(e.form,"customAddress",t)},expression:"form.customAddress"}})],1),a("el-form-item",{attrs:{prop:"purchasor",label:"业务人员",required:""}},[a("el-input",{model:{value:e.form.purchasor,callback:function(t){e.$set(e.form,"purchasor",t)},expression:"form.purchasor"}})],1),a("el-form-item",{attrs:{prop:"money",label:"总金额(元)",required:""}},[a("el-input",{attrs:{type:"number",min:"0"},model:{value:e.form.money,callback:function(t){e.$set(e.form,"money",t)},expression:"form.money"}})],1),a("el-form-item",{attrs:{prop:"costMoney",label:"出库金额(元)",required:""}},[a("el-input",{model:{value:e.form.costMoney,callback:function(t){e.$set(e.form,"costMoney",t)},expression:"form.costMoney"}})],1),a("el-form-item",{attrs:{prop:"note",label:"备注"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.note,callback:function(t){e.$set(e.form,"note",t)},expression:"form.note"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"添加出库商品",visible:e.detailBool,width:"85%","append-to-body":""},on:{"update:visible":function(t){e.detailBool=t}}},[a("el-form",{ref:"detailform",staticClass:"formDetail",attrs:{model:e.detailform,"label-width":"0"}},[a("div",{staticClass:"descriptions"},e._l(e.currentDetail,(function(t){return a("el-descriptions",{key:t.objectId,staticClass:"descriptions-td",attrs:{column:10,border:"",direction:"vertical"}},[a("el-descriptions-item",{attrs:{label:"产品名称",labelStyle:"width:139px"}},[a("div",[e._v(e._s(t.name))])]),a("el-descriptions-item",{attrs:{label:"单价(元)",labelStyle:"width:80px"}},[a("div",[e._v(e._s(t.price))])]),a("el-descriptions-item",{attrs:{label:"单位",labelStyle:"width:60px"}},[a("div",[e._v(e._s(t.unit))])]),a("el-descriptions-item",{attrs:{label:"数量",labelStyle:"width:120px"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{type:"number",placeholder:"出库数量"},model:{value:t.cnt,callback:function(a){e.$set(t,"cnt",a)},expression:"item.cnt"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"出库金额(元)",labelStyle:"width:160px"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{type:"number",min:"0",placeholder:"出库金额"},model:{value:t.money,callback:function(a){e.$set(t,"money",a)},expression:"item.money"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"仓库",labelStyle:"width:160px"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.storeId,callback:function(a){e.$set(t,"storeId",a)},expression:"item.storeId"}},e._l(e.storeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1)],1)]),a("el-descriptions-item",{attrs:{label:"批号",labelStyle:"width:160px"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"请输入批号"},model:{value:t.batchCode,callback:function(a){e.$set(t,"batchCode",a)},expression:"item.batchCode"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"生产日期"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择生产日期"},model:{value:t.createDate,callback:function(a){e.$set(t,"createDate",a)},expression:"item.createDate"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"有效期"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择有效期"},model:{value:t.validDate,callback:function(a){e.$set(t,"validDate",a)},expression:"item.validDate"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"出厂日期"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择有效期"},model:{value:t.outDate,callback:function(a){e.$set(t,"outDate",a)},expression:"item.outDate"}})],1)],1)])],1)})),1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFormDetail}},[e._v("保存")])],1)],1),a("el-dialog",{attrs:{title:"订单明细",visible:e.showDetail,width:"60%","close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.showDetail=t}}},[a("el-form",{ref:"queryParamsOrder",attrs:{model:e.queryParamsOrder,inline:!0}},[a("el-form-item",{attrs:{label:"名称",prop:"productName"}},[a("el-input",{attrs:{placeholder:"请输入名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQueryOrder(t)}},model:{value:e.queryParamsOrder.productName,callback:function(t){e.$set(e.queryParamsOrder,"productName",t)},expression:"queryParamsOrder.productName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"cyan",icon:"el-icon-search",size:"mini"},on:{click:e.handleQueryOrder}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQueryOrder}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.addDetail}},[e._v("新增明细")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingGood,expression:"loadingGood"}],attrs:{data:e.goodList,"highlight-current-row":""}},[a("el-table-column",{attrs:{label:"名称",prop:"productName"}}),a("el-table-column",{attrs:{label:"单位",prop:"unit"}}),a("el-table-column",{attrs:{label:"数量",prop:"cnt"}}),a("el-table-column",{attrs:{label:"仓库",prop:"store"}}),a("el-table-column",{attrs:{label:"出库金额(元)",prop:"money"}}),a("el-table-column",{attrs:{label:"生产日期",prop:"createDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e.parseTimeShort(t.row.createDate))+" ")])]}}])}),a("el-table-column",{attrs:{label:"有效期",prop:"validDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e.parseTimeShort(t.row.validDate))+" ")])]}}])}),a("el-table-column",{attrs:{label:"出厂日期",prop:"validDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e.parseTimeShort(t.row.outDate))+" ")])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdateDetail(t.row)}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDeleteDetail(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.detailTotal>0,expression:"detailTotal>0"}],attrs:{total:e.detailTotal,page:e.queryParamsOrder.pageNum,limit:e.queryParamsOrder.pageSize},on:{"update:page":function(t){return e.$set(e.queryParamsOrder,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParamsOrder,"pageSize",t)},pagination:e.getDetailList}}),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showDetail=!1}}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"修改",visible:e.updateBool,width:"80%","append-to-body":""},on:{"update:visible":function(t){e.updateBool=t}}},[a("el-form",{ref:"updateform",staticClass:"form",attrs:{model:e.updateform,"label-width":"0"}},[a("div",[a("el-descriptions",{staticClass:"descriptions",attrs:{column:10,border:"",direction:"vertical"}},[a("el-descriptions-item",{attrs:{label:"产品名称",labelStyle:"width:100px"}},[a("span",[e._v(e._s(e.updateform.productName))])]),a("el-descriptions-item",{attrs:{label:"单价(元)",labelStyle:"width:80px"}},[a("span",[e._v(e._s(e.updateform.price))])]),a("el-descriptions-item",{attrs:{label:"单位",labelStyle:"width:60px"}},[a("span",[e._v(e._s(e.updateform.unit))])]),a("el-descriptions-item",{attrs:{label:"数量",labelStyle:"width:100px"}},[a("span",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"产品数量"},model:{value:e.updateform.cnt,callback:function(t){e.$set(e.updateform,"cnt",t)},expression:"updateform.cnt"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"出库金额(元)",labelStyle:"width:110px"}},[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{type:"number",min:"0",placeholder:"出库金额"},model:{value:e.updateform.money,callback:function(t){e.$set(e.updateform,"money",t)},expression:"updateform.money"}})],1)],1),a("el-descriptions-item",{attrs:{label:"仓库",labelStyle:"width:120px"}},[a("el-form-item",{attrs:{required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.updateform.storeId,callback:function(t){e.$set(e.updateform,"storeId",t)},expression:"updateform.storeId"}},e._l(e.storeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1)],1),a("el-descriptions-item",{attrs:{label:"批号"}},[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"请输入批号"},model:{value:e.updateform.batchCode,callback:function(t){e.$set(e.updateform,"batchCode",t)},expression:"updateform.batchCode"}})],1)],1),a("el-descriptions-item",{attrs:{label:"生产日期"}},[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择生产日期"},model:{value:e.updateform.createDate,callback:function(t){e.$set(e.updateform,"createDate",t)},expression:"updateform.createDate"}})],1)],1),a("el-descriptions-item",{attrs:{label:"有效期"}},[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择有效期"},model:{value:e.updateform.validDate,callback:function(t){e.$set(e.updateform,"validDate",t)},expression:"updateform.validDate"}})],1)],1),a("el-descriptions-item",{attrs:{label:"出厂日期"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择出厂日期"},model:{value:e.updateform.outDate,callback:function(t){e.$set(e.updateform,"outDate",t)},expression:"updateform.outDate"}})],1)],1)])],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFormUpdate}},[e._v("确 定")]),a("el-button",{on:{click:function(t){e.updateBool=!1}}},[e._v("取 消")])],1)],1),e.show?a("SelectGoods",{attrs:{title:"选择商品",show:e.show},on:{confirm:e.confirmSelectGood,close:function(t){e.show=!1}}}):e._e(),e.showCustom?a("SelectCustom",{attrs:{show:e.showCustom,title:"选择客户"},on:{close:function(t){e.showCustom=!1},confirm:e.confirmSelectCustom}}):e._e()],1)},o=[],l=a("0344"),i=(a("1d7a"),a("6540"),a("7564")),s=a("535d"),n=a("83f1"),c=a("a6db"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,visible:e.show,width:"50%","close-on-click-modal":!1,"append-to-body":"","before-close":e.close},on:{"update:visible":function(t){e.show=t}}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"客户类型",prop:"name"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.changeType},model:{value:e.queryParams.type,callback:function(t){e.$set(e.queryParams,"type",t)},expression:"queryParams.type"}},e._l(e.options,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("el-form-item",{attrs:{label:"客户名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入客户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"cyan",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{data:e.Modeler,"highlight-current-row":""},on:{"current-change":e.handleCurrentChange,"selection-change":e.selectCompany,"select-all":e.selectAll}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"客户名称",prop:"name"}}),a("el-table-column",{attrs:{label:"客户地址",prop:"address"}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getCustomerList}}),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.close}},[e._v("取 消")])],1)],1)},d=[],m=a("b373"),p=a("39db"),f={name:"SelectCustom",components:{},props:{title:{type:String,default:""},show:{type:Boolean,default:!1}},data:function(){return{options:["个人客户","企业客户"],loading:!0,total:0,Modeler:[],queryParams:{pageNum:1,pageSize:10,name:"",type:"个人客户"},form:{},selection:[]}},created:function(){this.getCustomerList()},methods:{changeType:function(){this.queryParams.pageNum=1,this.getCustomerList()},selectAll:function(e){this.$refs.multipleTable.clearSelection()},selectCompany:function(e,t){if(this.selection=[],e.length>1){var a=e.shift();this.$refs.multipleTable.toggleRowSelection(a,!1)}this.selection.push(e[0]),this.$refs.multipleTable.toggleRowSelection(e[0],!0)},handleCurrentChange:function(e){this.form.name=e.name,this.form.objectId=e.objectId},getCustomerList:function(){var e=this;"个人客户"==this.queryParams.type?Object(m["e"])(this.queryParams).then((function(t){e.Modeler=t.rows,e.total=t.total,e.loading=!1})):Object(p["c"])(this.queryParams).then((function(t){e.Modeler=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getCustomerList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},submitForm:function(){this.form=this.selection[0],this.$emit("confirm",this.form)},close:function(){this.$emit("close")},formatter:function(e){return e.createTime?this.formatDate(e.createTime):""}}},h=f,b=a("cba8"),v=Object(b["a"])(h,u,d,!1,null,null,null),g=v.exports,y={components:{SelectGoods:c["a"],SelectCustom:g},data:function(){return{updateBool:!1,showCustom:!1,queryParamsOrder:{pageNum:1,pageSize:10,productName:"",orderId:""},detailTotal:0,updateform:{},goodList:[],loadingGood:!1,showDetail:!1,currentOrder:{},show:!1,detailform:{},detailBool:!1,userList:[],options:[],loading:!1,showSearch:!0,total:0,postList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,orderCode:"",status:"草稿"},form:{custom:"",customAddress:"",money:"",costMoney:"",note:"",purchasor:""},rules:{custom:[{required:!0,message:"客户名称不能为空",trigger:"change"},{required:!0,message:"客户名称不能为空",trigger:"blur"}],customAddress:[{required:!0,message:"客户地址不能为空",trigger:"change"},{required:!0,message:"客户地址不能为空",trigger:"blur"}],purchasor:[{required:!0,message:"业务人员不能为空",trigger:"blur"},{required:!0,message:"业务人员不能为空",trigger:"change"}],money:[{required:!0,message:"总金额不能为空",trigger:"blur"},{required:!0,message:"总金额不能为空",trigger:"change"}],costMoney:[{required:!0,message:"出库金额不能为空",trigger:"blur"},{required:!0,message:"出库金额不能为空",trigger:"change"}]},currentDetail:[{cnt:"",money:"",storeId:"",batchCode:"",createDate:"",validDate:"",productId:"",outDate:""}],storeList:[]}},created:function(){this.getList(),this.supplierList(),this.companyUserList(),this.getstoreList()},methods:{confirmSelectCustom:function(e){console.log(e),this.form.custom=e.name,this.form.customId=e.objectId,this.form.customAddress=e.address,this.showCustom=!1},submitFormUpdate:function(){var e=this;Object(i["e"])(this.updateform).then((function(t){e.$modal.msgSuccess("修改成功"),e.updateBool=!1,e.getDetailList()}))},submitInStore:function(e){var t=this;Object(i["k"])({objectId:e.objectId}).then((function(e){t.msgSuccess("提交成功"),t.getList()}))},handleUpdateDetail:function(e){var t=this;Object(i["g"])(e.objectId).then((function(e){t.updateform=e.data,t.updateBool=!0}))},handleDeleteDetail:function(e){var t=this;this.$modal.confirm("是否确认删除该数据项？").then((function(){return Object(i["c"])(e.objectId)})).then((function(){t.getDetailList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},getstoreList:function(){var e=this;Object(n["O"])({companyId:this.$store.state.user.companyInfo.companyId}).then((function(t){e.storeList=t.data}))},resetDetail:function(){this.queryParamsOrder={pageNum:1,pageSize:10,productName:"",orderId:""}},submitFormDetail:function(){var e=this,t={},a=[];this.currentDetail.map((function(e){a.push({cnt:e.cnt,money:e.money,storeId:e.storeId,batchCode:e.batchCode,createDate:e.createDate,validDate:e.validDate,productId:e.objectId,outDate:e.outDate})})),t.objectId=this.currentOrder.objectId,t.itemList=a,Object(i["a"])(t).then((function(t){e.$modal.msgSuccess("新增成功"),e.detailBool=!1,e.getDetailList()}))},handleQueryOrder:function(){this.queryParams.pageNum=1,this.getDetailList()},getDetailList:function(){var e=this;this.loadingGood=!0,Object(i["h"])(this.queryParamsOrder).then((function(t){e.goodList=t.rows,e.detailTotal=t.total,e.loadingGood=!1}))},confirmSelectGood:function(e){this.$set(this,"currentDetail",Object(l["a"])(e)),this.$forceUpdate(),this.show=!1,this.detailBool=!0},lookDetail:function(e){this.currentOrder=e,this.resetDetail(),this.queryParamsOrder.orderId=e.objectId,this.showDetail=!0,this.loadingGood=!0,this.getDetailList()},addDetail:function(){this.show=!0},selectSupplier:function(e){this.form.supplier=e.name,this.form.supplierId=e.objectId},getList:function(){var e=this;this.loading=!0,Object(i["j"])(this.queryParams).then((function(t){e.postList=t.rows,e.total=t.total,e.loading=!1}))},supplierList:function(){var e=this;Object(s["e"])().then((function(t){e.options=t.data}))},companyUserList:function(){var e=this;Object(n["g"])({companyId:this.$store.state.user.companyInfo.companyId}).then((function(t){e.userList=t.data}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={custom:"",customAddress:"",money:"",costMoney:"",note:"",purchasor:""},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQueryOrder:function(){this.queryParamsOrder.pageNum=1,this.queryParamsOrder.productName="",this.resetForm("queryParamsOrder"),this.getDetailList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加销售订单"},handleUpdate:function(e){var t=this;this.reset(),Object(i["i"])(e.objectId).then((function(e){t.form=e.data,t.open=!0,t.title="修改销售订单"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.objectId?Object(i["f"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(i["b"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this;this.$modal.confirm("是否确认删除该数据项？").then((function(){return Object(i["d"])(e.objectId)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))}}},k=y,_=(a("6b98"),Object(b["a"])(k,r,o,!1,null,"68df86a0",null));t["default"]=_.exports},"61b6":function(e,t,a){"use strict";a("617a")},6250:function(e,t,a){"use strict";a("f27a")},"625c":function(e,t,a){"use strict";a("8a1a")},"62dc":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("table",{staticClass:"tableStyle tCenter"},[a("thead",[a("tr",[a("th",{staticClass:"tableContent",attrs:{colspan:"4"}},[e._v("企业基本信息")])])]),a("tbody",[a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("企业名称：")]),a("td",{staticClass:"tableContent"},[a("div",{staticClass:"input-suffix"},[a("el-form-item",{attrs:{prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入企业名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("span",{staticClass:"required"},[e._v("*")])],1)]),a("td",{staticClass:"tableTitle tableTitle1"},[e._v("行业类型：")]),a("td",{staticClass:"tableContent"},[a("el-form-item",{attrs:{prop:"tradeId"}},[a("el-select",{attrs:{placeholder:"请选择行业类型"},model:{value:e.form.tradeId,callback:function(t){e.$set(e.form,"tradeId",t)},expression:"form.tradeId"}},e._l(e.tradeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1),a("span",{staticClass:"required"},[e._v("*")])],1)],1)]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("统一社会信用代码：")]),a("td",{staticClass:"tableContent"},[a("div",{staticClass:"input-suffix"},[a("el-form-item",{attrs:{prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入统一社会信用代码"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),a("span",{staticClass:"required"},[e._v("*")])],1)]),a("td",{staticClass:"tableTitle tableTitle1"},[e._v("企业类型：")]),a("td",{staticClass:"tableContent"},[a("el-form-item",{attrs:{prop:"compTypeId"}},[a("el-select",{attrs:{placeholder:"请选择企业类型"},model:{value:e.form.compTypeId,callback:function(t){e.$set(e.form,"compTypeId",t)},expression:"form.compTypeId"}},e._l(e.compTypeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1),a("span",{staticClass:"required"},[e._v("*")])],1)],1)]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("主体业态：")]),a("td",{staticClass:"tableContent"},[a("el-form-item",{attrs:{prop:"nature"}},[a("el-select",{attrs:{placeholder:"请选择主体业态"},model:{value:e.form.nature,callback:function(t){e.$set(e.form,"nature",t)},expression:"form.nature"}},e._l(e.natureList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.nature,value:e.objectId}})})),1)],1)],1),a("td",{staticClass:"tableTitle tableTitle1"},[e._v("经济性质：")]),a("td",{staticClass:"tableContent"},[a("div",{staticClass:"input-suffix"},[a("el-form-item",{attrs:{prop:"natureType"}},[a("el-select",{attrs:{placeholder:"请选择经济性质"},model:{value:e.form.natureType,callback:function(t){e.$set(e.form,"natureType",t)},expression:"form.natureType"}},[a("el-option",{attrs:{label:"企业法人",value:"企业法人"}}),a("el-option",{attrs:{label:"个体工商户",value:"个体工商户"}}),a("el-option",{attrs:{label:"合伙企业",value:"合伙企业"}}),a("el-option",{attrs:{label:"个人独资企业",value:"个人独资企业"}}),a("el-option",{attrs:{label:"其他",value:"其他"}})],1),a("span",{staticClass:"required"},[e._v("*")])],1),a("div",{staticClass:"required"}),"其他"==e.form.natureType?a("el-form-item",{attrs:{prop:"natureNote"}},[a("el-input",{model:{value:e.form.natureNote,callback:function(t){e.$set(e.form,"natureNote",t)},expression:"form.natureNote"}})],1):e._e(),"其他"==e.form.natureType?a("span",{staticClass:"required"},[e._v("*")]):e._e()],1)])]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("联系人：")]),a("td",{staticClass:"tableContent"},[a("div",{staticClass:"input-suffix"},[a("el-form-item",{attrs:{prop:"link"}},[a("el-input",{attrs:{placeholder:"请输入联系人"},model:{value:e.form.link,callback:function(t){e.$set(e.form,"link",t)},expression:"form.link"}})],1),e._v(" "),a("span",{staticClass:"required"},[e._v("*")])],1)]),a("td",{staticClass:"tableTitle tableTitle1"},[e._v("联系电话：")]),a("td",{staticClass:"tableContent"},[a("div",{staticClass:"input-suffix"},[a("el-form-item",{attrs:{prop:"linkMobile"}},[a("el-input",{attrs:{placeholder:"请输入联系电话"},model:{value:e.form.linkMobile,callback:function(t){e.$set(e.form,"linkMobile",t)},expression:"form.linkMobile"}})],1),e._v(" "),a("span",{staticClass:"required"},[e._v("*")])],1)])]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("标签：")]),a("td",{staticClass:"tableContent"},[a("div",{staticClass:"input-suffix"},[a("el-form-item",{attrs:{prop:"labels"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择标签"},model:{value:e.form.labels,callback:function(t){e.$set(e.form,"labels",t)},expression:"form.labels"}},e._l(e.postList,(function(e){return a("el-option",{key:e.NAME,attrs:{label:e.NAME,value:e.NAME}})})),1)],1)],1)]),a("td",{staticClass:"tableTitle tableTitle1"},[e._v("是否药店：")]),a("td",{staticClass:"tableContent"},[a("div",{staticClass:"input-suffix"},[a("el-form-item",{staticStyle:{"margin-left":"10px"},attrs:{prop:"isDrugStore"}},[a("el-radio-group",{model:{value:e.form.isDrugStore,callback:function(t){e.$set(e.form,"isDrugStore",t)},expression:"form.isDrugStore"}},[a("el-radio",{attrs:{label:"是"}},[e._v("是")]),a("el-radio",{attrs:{label:"否"}},[e._v("否")])],1)],1),a("span",{staticClass:"required"},[e._v("*")])],1)])]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("区域：")]),a("td",{staticClass:"tableContent",attrs:{colspan:"3"}},[a("div",{staticClass:"input-suffix"},[a("el-form-item",{attrs:{prop:"areaIdsAddr"}},[a("el-cascader",{ref:"areaAddr",attrs:{options:e.treedata,clearable:"",props:{checkStrictly:!0}},on:{change:e.handleChange},model:{value:e.areaIdsAddr,callback:function(t){e.areaIdsAddr=t},expression:"areaIdsAddr"}})],1),a("el-form-item",{staticStyle:{"margin-left":"10px"},attrs:{prop:"areaDescAddr"}},[a("el-input",{attrs:{placeholder:"村（路/弄）/门牌号码"},model:{value:e.form.areaDescAddr,callback:function(t){e.$set(e.form,"areaDescAddr",t)},expression:"form.areaDescAddr"}})],1),a("span",{staticClass:"required"},[e._v("*")])],1)])]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("注册地址：")]),a("td",{staticClass:"tableContent",attrs:{colspan:"3"}},[a("div",{staticClass:"input-suffix",staticStyle:{"margin-top":"5px"}},[a("el-form-item",{attrs:{prop:"areaNamesAddr"}},[a("el-input",{staticStyle:{"min-width":"400px"},attrs:{readonly:""},on:{focus:e.chooseAddress},model:{value:e.form.areaNamesAddr,callback:function(t){e.$set(e.form,"areaNamesAddr",t)},expression:"form.areaNamesAddr"}})],1),a("i",{staticClass:"el-icon-location required",on:{click:e.chooseAddress}}),a("span",{staticClass:"required"},[e._v("*")])],1)])]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("经营场所：")]),a("td",{staticClass:"tableContent",attrs:{colspan:"3"}},[a("div",{staticClass:"input-suffix"},[a("el-form-item",{attrs:{prop:"areaId"}},[a("el-cascader",{ref:"area",attrs:{options:e.treedata,clearable:"",props:{checkStrictly:!0}},on:{change:e.changeArea},model:{value:e.areaId,callback:function(t){e.areaId=t},expression:"areaId"}})],1),a("el-form-item",{staticStyle:{"margin-left":"10px"},attrs:{prop:"areaDesc"}},[a("el-input",{attrs:{placeholder:"村（路/弄）/门牌号码"},model:{value:e.form.areaDesc,callback:function(t){e.$set(e.form,"areaDesc",t)},expression:"form.areaDesc"}})],1),a("span",{staticClass:"required"},[e._v("*")])],1)])]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("企业简介：")]),a("td",{staticClass:"tableContent",attrs:{colspan:"3"}},[a("el-form-item",{attrs:{prop:"comIntroduction"}},[a("comIntroduction",{attrs:{value:e.form.comIntroduction},on:{comIntroduction:e.comIntroduction}})],1)],1)]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("备注：")]),a("td",{staticClass:"tableContent",attrs:{colspan:"3"}},[a("el-form-item",{attrs:{prop:"notes"}},[a("notes",{attrs:{value:e.form.notes},on:{notes:e.notes}})],1)],1)])])])]),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.comfign}},[e._v("确定")])],1),e.addressOpen?a("el-dialog",{attrs:{title:"设置地图标注",visible:e.addressOpen,"close-on-click-modal":!1,width:"85%"},on:{"update:visible":function(t){e.addressOpen=t}}},[a("div",[a("div",{staticClass:"currentAddress"},[e._v(e._s(e.currentAddress))]),a("div",{staticClass:"left",attrs:{id:"map"}}),a("div",{staticClass:"left area-right"},[a("div",{staticClass:"search"},[a("div",{staticClass:"s-address"},[e._v(" 检索地址： "),a("input",{staticClass:"address",attrs:{type:"text",id:"address",placeholder:"搜索"},on:{input:e.doSearch}})])]),a("div",{attrs:{id:"result"}},[a("div",{staticClass:"ul"},e._l(e.searchList,(function(t){return a("li",{key:t.id,on:{click:function(a){return e.selectAddress(t)}}},[e._v(e._s(t.name))])})),0)])]),a("div",{staticClass:"clearfix"})]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addressOpen=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addressSubmit}},[e._v("确 定")])],1)]):e._e()],1)},o=[],l=(a("1d7a"),a("6540"),a("0bd5"),a("2df5"),a("79a8"),a("402f"),a("836b"),a("83f1")),i=a("1a59"),s=a("8841"),n=a("136c"),c=a("2a3f"),u=a("5583"),d=a("abc5"),m=a("73f2"),p=a("5d34a"),f=a("0ce9"),h=a("18f1"),b=a("823a"),v=a("5e1a"),g=a("b775");function y(e){return Object(g["a"])({url:"/comp/c-label/list",method:"get",params:e})}var k={components:{mcount:s["default"],employeeCount:n["default"],eatCount:c["default"],saleArea:u["default"],eatArea:d["default"],handleArea:m["default"],typeCheck:p["default"],noteCheck:f["default"],comIntroduction:h["default"],notes:b["default"]},props:{superviseId:{type:String,required:!0},objectId:{type:String,required:!0}},data:function(){return{currentAddress:"",searchList:[],form:{name:"",tradeId:"",code:"",compTypeId:"",nature:"",natureNote:"",link:"",linkMobile:"",areaId:"",areaIds:"",areaNames:"",areaDesc:"",areaIdAddr:"",areaIdsAddr:"",areaNamesAddr:"",areaDescAddr:"",mcount:"",employeeCount:"",eatCount:"",saleArea:"",eatArea:"",handleArea:"",typeCheck:[],scopeOther:"",notes:"",noteCheck:[],noteOther:"",comIntroduction:"",superviseId:"",otherInfoJson:{},isDrugStore:"是"},rules:{name:[{required:!0,message:"请输入企业名称",trigger:"blur"}],tradeId:[{required:!0,message:"请选择行业类型",trigger:"change"}],code:[{required:!0,message:"请输入统一社会信用代码",trigger:"blur"}],compTypeId:[{required:!0,message:"请选择企业类型",trigger:"change"}],natureType:[{required:!0,message:"请选择经济性质",trigger:"change"}],link:[{required:!0,message:"请输入联系人",trigger:"blur"}],linkMobile:[{required:!0,message:"请输入联系电话",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的联系电话",trigger:"blur"}],town:[{required:!0,message:"请输入住所",trigger:"blur"}],comAddress:[{required:!0,message:"请输入企业地址",trigger:"blur"}],areaIdsAddr:[{required:!0,message:"请选择区域",trigger:"change"}],areaDescAddr:[{required:!0,message:"请输入村（路/弄）/门牌号码",trigger:"blur"}],areaNamesAddr:[{required:!0,message:"请点击选择注册地址",trigger:"blur"}],areaId:[{required:!0,message:"请选择经营场所",trigger:"change"}],areaDesc:[{required:!0,message:"请输入村（路/弄）/门牌号码",trigger:"blur"}]},treedata:[],compTypeList:[],natureList:[],tradeList:[],addressOpen:!1,address:"",location:[],areaIdsAddr:[],postList:[],areaId:[],longitude:112.853106,latitude:35.496641,markers:[],map:null}},created:function(){},mounted:function(){var e=this;Object(i["a"])().then((function(t){e.treedata=t.data})),this.getIndustryTypeList()},methods:{selectAddress:function(e){this.address=e.address,this.location=e.location,this.currentAddress=e.name,this.map.remove(this.markers);var t=new AMap.Marker({icon:"http://webapi.amap.com/theme/v1.3/markers/n/mark_b.png",position:[e.location.lng,e.location.lat]});t.setMap(this.map),this.markers.push(t)},doSearch:function(){var e=this;AMap.plugin("AMap.PlaceSearch",(function(){var t=new AMap.PlaceSearch;new AMap.InfoWindow({offset:new AMap.Pixel(0,-30)});e.map.remove(e.markers);var a=document.getElementById("address").value;t.search(a,(function(t,a){if("complete"===t&&"OK"===a.info){var r=a.poiList.pois;e.searchList=r,e.map.setZoomAndCenter(14,new AMap.LngLat(r[0].location.lng,r[0].location.lat))}}))}))},chooseAddress:function(){var e=this;this.currentAddress="",this.searchList=[],this.addressOpen=!0;var t=this.form.latitude?this.form.latitude:35.496641,a=this.form.longitude?this.form.longitude:112.853106;this.$nextTick((function(){e.map=new AMap.Map("map",{resizeEnable:!0,zoom:14,center:[a,t]});var r=new AMap.Marker({icon:"http://webapi.amap.com/theme/v1.3/markers/n/mark_b.png",position:[a,t]});r.setMap(e.map),e.markers.push(r)}))},loadiframe:function(){var e=document.getElementById("getAddress").contentWindow;e.postMessage("hello","https://m.amap.com/picker/"),window.addEventListener("message",function(e){"COMMAND_GET_TITLE"!=e.data.command&&(this.location=e.data.location.split(","),this.address=e.data.address)}.bind(this),!1)},addressSubmit:function(){this.form.areaNamesAddr=this.address,this.form.longitude=this.location.lng,this.form.latitude=this.location.lat,this.addressOpen=!1},handleChange:function(e){var t=this;this.form.areaIdAddr=e[e.length-1],this.form.areaIdsAddr=e.toString(),this.$refs.areaAddr.getCheckedNodes().map((function(e){t.form.areaNamesAddr=e.pathLabels.toString()}))},changeArea:function(e){var t=this;this.form.areaId=e[e.length-1],this.form.areaIds=e.toString(),this.$refs.area.getCheckedNodes().map((function(e){t.form.areaNames=e.pathLabels.toString()}))},comfign:function(){var e=this;this.$refs["form"].validate((function(t){if(t){var a=e.form;a.areaIds=a.areaIds.toString(),a.areaIdsAddr=a.areaIdsAddr.toString(),a.labels=a.labels.toString(),a.otherInfoJson={employeeCount:e.form.employeeCount,eatCount:e.form.eatCount,saleArea:e.form.saleArea,eatArea:e.form.eatArea,handleArea:e.form.handleArea,typeCheck:e.form.typeCheck,scopeOther:e.form.scopeOther,noteCheck:e.form.noteCheck,noteOther:e.form.noteOther,comIntroduction:e.form.comIntroduction,notes:e.form.notes},a.otherInfoJson=JSON.stringify(a.otherInfoJson),void 0!=a.objectId?Object(l["d"])(a).then((function(t){e.msgSuccess("修改成功"),e.$emit("comfign1",a.objectId)})):Object(l["c"])(a).then((function(t){e.msgSuccess("保存成功"),e.$emit("comfign1",t.data.objectId)}))}}))},getEnterpriseTypeList:function(){var e=this;Object(v["a"])({tradeId:this.form.tradeId}).then((function(t){e.compTypeList=t.data?t.data:[]}))},getNatureList:function(){var e=this;Object(l["r"])({tradeId:this.form.tradeId}).then((function(t){e.natureList=t.data?t.data:[]}))},getIndustryTypeList:function(){var e=this;Object(v["b"])().then((function(t){e.tradeList=t.data?t.data:[]}))},listTag:function(){var e=this;y({tradeId:this.form.tradeId}).then((function(t){e.postList=t.data,e.loading=!1}))},mcount:function(e){this.form.mcount=e},employeeCount:function(e){this.form.employeeCount=e},eatCount:function(e){this.form.eatCount=e},saleArea:function(e){this.form.saleArea=e},eatArea:function(e){this.form.eatArea=e},handleArea:function(e){this.form.handleArea=e},typeCheck:function(e){this.form.typeCheck=e},scopeOther:function(e){this.form.scopeOther=e},noteCheck:function(e){this.form.noteCheck=e},noteOther:function(e){this.form.noteOther=e},comIntroduction:function(e){this.form.comIntroduction=e},notes:function(e){this.form.notes=e}},watch:{objectId:function(){var e=this;this.objectId&&Object(l["e"])(this.objectId).then((function(t){e.form=t.data,e.areaId=t.data.areaIds.split(","),e.areaIdsAddr=t.data.areaIdsAddr.split(","),e.form.labels=t.data.labels?t.data.labels.split(","):[],e.form.mcount=t.data.mcount.toString();var a=t.data.otherInfoJson?JSON.parse(t.data.otherInfoJson):{};e.form.employeeCount=a.employeeCount?a.employeeCount:"",e.form.eatCount=a.eatCount?a.eatCount:"",e.form.saleArea=a.saleArea?a.saleArea:"",e.form.eatArea=a.eatArea?a.eatArea:"",e.form.handleArea=a.handleArea?a.handleArea:"",e.form.typeCheck=a.typeCheck?a.typeCheck:[],e.form.scopeOther=a.scopeOther?a.scopeOther:"",e.form.noteCheck=a.noteCheck?a.noteCheck:[],e.form.noteOther=a.noteOther?a.noteOther:"",e.form.comIntroduction=a.comIntroduction?a.comIntroduction:"",e.form.notes=a.notes?a.notes:"",e.form.latitude=t.data.latitude,e.form.longitude=t.data.longitude,e.currentAddress=t.data.areaNamesAddr}))},"form.tradeId":{handler:function(e,t){this.getEnterpriseTypeList(),this.getNatureList(),this.listTag()}}}},_=k,w=(a("c2c7"),a("cba8")),x=Object(w["a"])(_,r,o,!1,null,"1338614e",null);t["default"]=x.exports},"644b":function(e,t,a){"use strict";a.d(t,"h",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"g",(function(){return n})),a.d(t,"f",(function(){return c})),a.d(t,"i",(function(){return u})),a.d(t,"j",(function(){return d})),a.d(t,"d",(function(){return m})),a.d(t,"e",(function(){return p}));var r=a("b775");function o(e){return Object(r["a"])({url:"/store/st-check-order/list",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/store/st-check-order/add",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/store/st-check-order/edit",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/store/st-check-order/delete/".concat(e),method:"get"})}function n(e){return Object(r["a"])({url:"/store/st-check-order/get/".concat(e),method:"get"})}function c(e){return Object(r["a"])({url:"/store/st-check-order-item/list",method:"get",params:e})}function u(e){return Object(r["a"])({url:"/store/st-check-order-item/upCnt",method:"post",data:e})}function d(e){return Object(r["a"])({url:"/store/st-check-order-item/upStatus",method:"post",data:e})}function m(e){return Object(r["a"])({url:"/store/st-check-order/submit",method:"post",data:e})}function p(e){return Object(r["a"])({url:"/store/st-check-order/verify",method:"post",data:e})}},"64bd":function(e,t,a){"use strict";a("e12b")},6595:function(e,t,a){"use strict";a("20f2")},"66a7":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"身份证号",prop:"certCode"}},[a("el-input",{attrs:{placeholder:"请输入身份证号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.certCode,callback:function(t){e.$set(e.queryParams,"certCode",t)},expression:"queryParams.certCode"}})],1),a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{attrs:{placeholder:"请输入手机号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.mobile,callback:function(t){e.$set(e.queryParams,"mobile",t)},expression:"queryParams.mobile"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"cyan",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.addDocument}},[e._v("增加药师 ")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.Modeler}},[a("el-table-column",{attrs:{label:"姓名",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"link",on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v(" "+e._s(t.row.name)+" ")])]}}])}),a("el-table-column",{attrs:{label:"身份证号",prop:"idcard"}}),a("el-table-column",{attrs:{label:"联系电话",prop:"mobile"}}),a("el-table-column",{attrs:{label:"证件到期时间",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e._f("getTime")(t.row.endDate))+" ")])]}}])}),a("el-table-column",{attrs:{label:"考勤班次",prop:"workName"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.setPharmacistAtte(t.row)}}},[e._v("设置考勤 ")]),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.getPharmacistAtte(t.row)}}},[e._v("考勤数据")])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("编辑 ")]),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.resetPassword(t.row)}}},[e._v("重置密码")]),a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除 ")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{visible:e.open,width:"56%",title:e.title,"append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t},close:e.modelCancel}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"130px",inline:!0}},[a("el-form-item",{attrs:{label:"姓名：",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"性别：",prop:"sex"}},[a("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.ruleForm.sex,callback:function(t){e.$set(e.ruleForm,"sex",t)},expression:"ruleForm.sex"}},[a("el-option",{attrs:{label:"男",value:"男"}}),a("el-option",{attrs:{label:"女",value:"女"}})],1)],1),a("el-form-item",{attrs:{label:"药师注册证号：",prop:"dgno"}},[a("el-input",{attrs:{placeholder:"请输入请输入药师资格证号"},model:{value:e.ruleForm.dgno,callback:function(t){e.$set(e.ruleForm,"dgno",t)},expression:"ruleForm.dgno"}})],1),a("el-form-item",{attrs:{label:"身份证：",prop:"idcard"}},[a("el-input",{attrs:{placeholder:"请输入身份证"},model:{value:e.ruleForm.idcard,callback:function(t){e.$set(e.ruleForm,"idcard",t)},expression:"ruleForm.idcard"}})],1),a("el-form-item",{attrs:{label:"发证机构",prop:"dgorg"}},[a("el-input",{attrs:{placeholder:"请输入发证机构"},model:{value:e.ruleForm.dgorg,callback:function(t){e.$set(e.ruleForm,"dgorg",t)},expression:"ruleForm.dgorg"}})],1),a("el-form-item",{attrs:{label:"联系电话：",prop:"mobile"}},[a("el-input",{attrs:{placeholder:"请输入联系电话"},model:{value:e.ruleForm.mobile,callback:function(t){e.$set(e.ruleForm,"mobile",t)},expression:"ruleForm.mobile"}})],1),a("el-form-item",{attrs:{label:"发证日期",prop:"dgorg"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.startDate,callback:function(t){e.$set(e.ruleForm,"startDate",t)},expression:"ruleForm.startDate"}})],1),a("el-form-item",{attrs:{label:"证件有效期至",prop:"dgorg"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.endDate,callback:function(t){e.$set(e.ruleForm,"endDate",t)},expression:"ruleForm.endDate"}})],1),a("el-form-item",{attrs:{label:"登录账号",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入药师端登录账号（默认手机号）"},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),a("el-form-item",{attrs:{label:"登录密码",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入药师端登录密码",type:"password"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),a("el-form-item",{attrs:{label:"证书图片：",prop:"dgUrl"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.fileUrl,headers:e.headers,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.ruleForm.dgUrl?a("img",{staticClass:"avatar",attrs:{src:e.url+e.ruleForm.dgUrl},on:{click:function(t){return t.stopPropagation(),e.preview(t)}}}):e._e(),a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选择文件")])],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存")]),a("el-button",{on:{click:e.modelCancel}},[e._v("取消")])],1)],1),a("el-dialog",{attrs:{visible:e.openBlack,width:"40%","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.openBlack=t}}},[a("img",{staticStyle:{width:"100%"},attrs:{src:e.url+e.ruleForm.dgUrl,alt:""}})]),a("el-dialog",{attrs:{visible:e.openUserList,width:"60%",title:"选择考勤","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.openUserList=t}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingUserList,expression:"loadingUserList"}],attrs:{data:e.userList}},[a("el-table-column",{attrs:{label:"考勤名称",prop:"name"}}),a("el-table-column",{attrs:{label:"上班时间",prop:"timeStart"}}),a("el-table-column",{attrs:{label:"下班时间",prop:"timeEnd"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleSetUser(t.row)}}},[e._v("选择")])]}}])})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.openUserList=!1}}},[e._v("确定")])],1)],1),a("el-dialog",{attrs:{visible:e.openUserDataList,width:"60%",title:"考勤数据","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.openUserDataList=t}}},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryParamsData",attrs:{model:e.queryParamsData,inline:!0}},[a("el-form-item",{attrs:{label:"选择日期",prop:"rTimeDay"}},[a("el-date-picker",{attrs:{format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",type:"date",placeholder:"打卡日期"},model:{value:e.queryParamsData.rTimeDay,callback:function(t){e.$set(e.queryParamsData,"rTimeDay",t)},expression:"queryParamsData.rTimeDay"}})],1),a("el-form-item",{attrs:{label:"选择月份",prop:"rTimeMouth"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM",type:"month",placeholder:"打卡月份"},model:{value:e.queryParamsData.rTimeMouth,callback:function(t){e.$set(e.queryParamsData,"rTimeMouth",t)},expression:"queryParamsData.rTimeMouth"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"cyan",icon:"el-icon-search",size:"mini"},on:{click:e.handleQueryClockIn}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQueryClockIn}},[e._v("重置")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingUserDataList,expression:"loadingUserDataList"}],attrs:{data:e.userDataList}},[a("el-table-column",{attrs:{label:"打卡时间",prop:"rtime",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e.parseTime(t.row.rtime,"{y}-{m}-{d} {h}:{i}"))+" ")])]}}])}),a("el-table-column",{attrs:{label:"地址",prop:"position"}}),a("el-table-column",{attrs:{label:"距离",prop:"distance"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(parseInt(t.row.distance)+"米")+" ")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalData>0,expression:"totalData>0"}],attrs:{total:e.totalData,page:e.queryParamsData.pageNum,limit:e.queryParamsData.pageSize},on:{"update:page":function(t){return e.$set(e.queryParamsData,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParamsData,"pageSize",t)},pagination:e.getAttendanceList}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.openUserDataList=!1}}},[e._v("确定")])],1)],1)],1)},o=[],l=a("8955"),i=(a("1d7a"),a("a034")),s=a("e2b0"),n=a("5f87"),c={data:function(){var e;return e={loading:!1,loadingUserList:!1,loadingUserDataList:!1,showSearch:!0,total:0,totalUserList:0,totalData:0,Modeler:[],userList:[],userDataList:[],title:"",titleUser:"",open:!1,openBlack:!1,userOpen:!1,openUserList:!1,openUserDataList:!1,queryParams:{pageNum:1,pageSize:10,isBlack:0,certCode:"",mobile:""},queryParamsUserList:{pageNum:1,pageSize:6,staffId:""},queryParamsData:{pageNum:1,pageSize:10,personId:"",rTimeMouth:"",rTimeDay:""},userForm:{name:"",code:"",permitTypeId:"",date1:"",date2:"",certOrgan:"",fileUrl:""},blackForm:{},ruleForm:{name:"",sex:"",certCode:"",companyId:"",type:"",mobile:"",dgUrl:""},rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}],idcard:[{required:!0,message:"请输入身份证",trigger:"blur"}],mobile:[{required:!0,message:"请输入联系电话",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的联系电话",trigger:"blur"}],dgno:[{required:!0,message:"请输入药师资格证号",trigger:"blur"}],dgorg:[{required:!0,message:"请输入发证机构",trigger:"blur"}],startDate:[{required:!0,message:"请选择发证日期",trigger:"change"}],endDate:[{required:!0,message:"请选择到期时间",trigger:"change"}],username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],dgUrl:[{required:!0,message:"请上传药师证",trigger:"change"}]}},Object(l["a"])(e,"title",""),Object(l["a"])(e,"imageUrl",""),Object(l["a"])(e,"permitTypeList",[]),Object(l["a"])(e,"fileUrl","/prod-api/common/upload"),Object(l["a"])(e,"url","/prod-api"),Object(l["a"])(e,"headers",{Authorization:"Bearer "+Object(n["a"])()}),Object(l["a"])(e,"current",""),Object(l["a"])(e,"currentPersonId",""),e},mounted:function(){this.getListUserList(),this.getList()},methods:{getAttendanceList:function(){var e=this;this.loadingUserDataList=!0,this.queryParamsData.personId=this.currentPersonId,Object(i["a"])(this.queryParamsData).then((function(t){e.loadingUserDataList=!1,e.userDataList=t.rows,e.totalData=t.total}))},setPharmacistAtte:function(e){this.current=e.objectId,this.openUserList=!0},preview:function(e){e.preventDefault(),this.openBlack=!0},getList:function(){var e=this;this.loading=!0,this.queryParams.companyId=this.$store.state.user.companyInfo.companyId,Object(i["f"])(this.queryParams).then((function(t){e.Modeler=t.data,e.loading=!1}))},getPharmacistAtte:function(e){this.openUserDataList=!0,this.currentPersonId=e.objectId,this.getAttendanceList()},handleQueryClockIn:function(){this.queryParamsData.pageNum=1,this.getAttendanceList()},resetQueryClockIn:function(){this.resetForm("queryParamsData"),this.handleQueryClockIn()},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleDelete:function(e){var t=this;this.$confirm("是否确认删除所选信息?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["c"])(e.objectId)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},resetPassword:function(e){var t=this;this.$confirm("是否确认重置"+e.name+"的密码为123456?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){})).then((function(){t.msgSuccess("重置成功")})).catch((function(){}))},modelCancel:function(){this.reset(),this.open=!1},addDocument:function(){this.$router.push({path:"/pharmacistManage/addParmacist"})},handleUpdate:function(e){this.$router.push({path:"/pharmacistManage/addParmacist",query:{id:e.objectId}})},submitForm:function(){var e=this;this.$refs["ruleForm"].validate((function(t){t&&(null!=e.ruleForm.objectId?Object(i["d"])(e.ruleForm).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):(e.ruleForm.companyId=e.$store.state.user.companyInfo.companyId,Object(i["e"])(e.ruleForm).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()}))))}))},reset:function(){this.ruleForm={companyId:"",name:"",sex:"",certType:"身份证",certCode:"",nation:"汉族",areaDesc:"",type:"",mobile:"",isPharmacist:"否",dgUrl:""},this.blackForm={},this.userForm={staffId:this.queryParamsUserList.staffId,name:"",code:"",permitTypeId:"",date1:"",date2:"",certOrgan:"",fileUrl:""},this.resetForm("userForm"),this.resetForm("blackForm"),this.resetForm("ruleForm")},getListUserList:function(){var e=this;this.reset(),this.loadingUserList=!0,Object(s["e"])(this.queryParamsUserList).then((function(t){e.userList=t.data,e.loadingUserList=!1}))},addUser:function(){this.reset(),this.titleUser="选择考勤",this.userOpen=!0},handleSetUser:function(e){var t=this;Object(i["g"])({ckworkSetId:e.objectId,objectId:this.current}).then((function(e){t.openUserList=!1,t.msgSuccess("设置成功"),t.getListUserList(),t.getList()}))},handleAvatarSuccess:function(e,t){this.ruleForm.dgUrl=e.fileName},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/jpg"===e.type||"image/png"===e.type||"image/gif"===e.type;e.size;return t||this.$message.error("请上传jpeg/jpg/png/gif类型的图片!"),t}}},u=c,d=(a("ee2df"),a("cba8")),m=Object(d["a"])(u,r,o,!1,null,"6ac95e64",null);t["default"]=m.exports},"66ef":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-editor-container"},[a("panel-group",{on:{handleSetLineChartData:e.handleSetLineChartData}}),a("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[a("line-chart",{attrs:{"chart-data":e.lineChartData}})],1),a("el-row",{attrs:{gutter:32}},[a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"chart-wrapper"},[a("raddar-chart")],1)]),a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"chart-wrapper"},[a("pie-chart")],1)]),a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"chart-wrapper"},[a("bar-chart")],1)])],1)],1)},o=[],l=a("fbc4"),i=a("eab4"),s=a("0a5c"),n=a("d153"),c=a("9488"),u={newVisitis:{expectedData:[100,120,161,134,105,160,165],actualData:[120,82,91,154,162,140,145]},messages:{expectedData:[200,192,120,144,160,130,140],actualData:[180,160,151,106,145,150,130]},purchases:{expectedData:[80,100,121,104,105,90,100],actualData:[120,90,100,138,142,130,130]},shoppings:{expectedData:[130,140,141,142,145,150,160],actualData:[120,82,91,154,162,140,130]}},d={name:"Index",components:{PanelGroup:l["default"],LineChart:i["default"],RaddarChart:s["default"],PieChart:n["default"],BarChart:c["default"]},data:function(){return{lineChartData:u.newVisitis}},methods:{handleSetLineChartData:function(e){this.lineChartData=u[e]}}},m=d,p=(a("b485"),a("cba8")),f=Object(p["a"])(m,r,o,!1,null,"70cc8e61",null);t["default"]=f.exports},"67ef":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"登录地址",prop:"ipaddr"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入登录地址",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.ipaddr,callback:function(t){e.$set(e.queryParams,"ipaddr",t)},expression:"queryParams.ipaddr"}})],1),a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"登录状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.dict.type.sys_common_status,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"登录时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:logininfor:remove"],expression:"['monitor:logininfor:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:logininfor:remove"],expression:"['monitor:logininfor:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini"},on:{click:e.handleClean}},[e._v("清空")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:logininfor:export"],expression:"['monitor:logininfor:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"tables",attrs:{data:e.list,"default-sort":e.defaultSort},on:{"selection-change":e.handleSelectionChange,"sort-change":e.handleSortChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"访问编号",align:"center",prop:"infoId"}}),a("el-table-column",{attrs:{label:"用户名称",align:"center",prop:"userName","show-overflow-tooltip":!0,sortable:"custom","sort-orders":["descending","ascending"]}}),a("el-table-column",{attrs:{label:"登录地址",align:"center",prop:"ipaddr",width:"130","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"登录地点",align:"center",prop:"loginLocation","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"浏览器",align:"center",prop:"browser","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作系统",align:"center",prop:"os"}}),a("el-table-column",{attrs:{label:"登录状态",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("dict-tag",{attrs:{options:e.dict.type.sys_common_status,value:t.row.status}})]}}])}),a("el-table-column",{attrs:{label:"操作信息",align:"center",prop:"msg"}}),a("el-table-column",{attrs:{label:"登录日期",align:"center",prop:"loginTime",sortable:"custom","sort-orders":["descending","ascending"],width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.loginTime)))])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)},o=[],l=(a("dede"),a("6540"),a("1d7a"),a("b775"));function i(e){return Object(l["a"])({url:"/monitor/logininfor/list",method:"get",params:e})}function s(e){return Object(l["a"])({url:"/monitor/logininfor/"+e,method:"delete"})}function n(){return Object(l["a"])({url:"/monitor/logininfor/clean",method:"delete"})}function c(e){return Object(l["a"])({url:"/monitor/logininfor/export",method:"get",params:e})}var u={name:"Logininfor",dicts:["sys_common_status"],data:function(){return{loading:!0,exportLoading:!1,ids:[],multiple:!0,showSearch:!0,total:0,list:[],dateRange:[],defaultSort:{prop:"loginTime",order:"descending"},queryParams:{pageNum:1,pageSize:10,ipaddr:void 0,userName:void 0,status:void 0}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,i(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.list=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.$refs.tables.sort(this.defaultSort.prop,this.defaultSort.order),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.infoId})),this.multiple=!e.length},handleSortChange:function(e,t,a){this.queryParams.orderByColumn=e.prop,this.queryParams.isAsc=e.order,this.getList()},handleDelete:function(e){var t=this,a=e.infoId||this.ids;this.$modal.confirm('是否确认删除访问编号为"'+a+'"的数据项？').then((function(){return s(a)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},handleClean:function(){var e=this;this.$modal.confirm("是否确认清空所有登录日志数据项？").then((function(){return n()})).then((function(){e.getList(),e.$modal.msgSuccess("清空成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$modal.confirm("是否确认导出所有操作日志数据项？").then((function(){return e.exportLoading=!0,c(t)})).then((function(t){e.$download.name(t.msg),e.exportLoading=!1})).catch((function(){}))}}},d=u,m=a("cba8"),p=Object(m["a"])(d,r,o,!1,null,null,null);t["default"]=p.exports},"687f":function(e,t,a){"use strict";a("feb5")},"693f":function(e,t,a){"use strict";a("5adc")},6964:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.addDocument}},[e._v("增加货车 ")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.Modeler}},[a("el-table-column",{attrs:{label:"车辆类型",prop:"type"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{color:"#409EFF",cursor:"pointer"},on:{click:function(a){return e.seeDetail(t.row)}}},[e._v(e._s(t.row.type))])]}}])}),a("el-table-column",{attrs:{label:"车牌号码",prop:"cnum"}}),a("el-table-column",{attrs:{label:"统一标志编号",prop:"code"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("编辑 ")]),a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除 ")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{visible:e.open,width:"85%",title:e.title,"append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t},close:e.modelCancel}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"车辆类型：",prop:"type"}},[a("el-input",{attrs:{placeholder:"请输入车辆类型"},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}})],1),a("el-form-item",{attrs:{label:"车牌号码：",prop:"cnum"}},[a("el-input",{attrs:{placeholder:"请输入车牌号码"},model:{value:e.ruleForm.cnum,callback:function(t){e.$set(e.ruleForm,"cnum",t)},expression:"ruleForm.cnum"}})],1),a("el-form-item",{attrs:{label:"统一编号：",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入统一编号"},model:{value:e.ruleForm.code,callback:function(t){e.$set(e.ruleForm,"code",t)},expression:"ruleForm.code"}})],1),a("el-form-item",{attrs:{label:"车辆正面照：",prop:"fileId1"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.fileUrl,headers:e.headers,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.ruleForm.fileId1?a("img",{staticClass:"avatar",attrs:{src:e.url+e.ruleForm.fileId1},on:{click:function(t){return t.stopPropagation(),e.see(e.url+e.ruleForm.fileId1)}}}):e._e(),a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选择文件")])],1)],1),a("el-form-item",{attrs:{label:"车辆侧面照：",prop:"fileId2"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.fileUrl,headers:e.headers,"show-file-list":!1,"on-success":e.handleAvatarSuccess1,"before-upload":e.beforeAvatarUpload1}},[e.ruleForm.fileId2?a("img",{staticClass:"avatar",attrs:{src:e.url+e.ruleForm.fileId2},on:{click:function(t){return t.stopPropagation(),e.see(e.url+e.ruleForm.fileId2)}}}):e._e(),a("el-button",{attrs:{slot:"default",size:"small",type:"primary"},slot:"default"},[e._v("选择文件")])],1)],1),a("el-form-item",{attrs:{label:"车辆背面照：",prop:"fileId3"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.fileUrl,headers:e.headers,"show-file-list":!1,"on-success":e.handleAvatarSuccess2,"before-upload":e.beforeAvatarUpload2}},[e.ruleForm.fileId3?a("img",{staticClass:"avatar",attrs:{src:e.url+e.ruleForm.fileId3},on:{click:function(t){return t.stopPropagation(),e.see(e.url+e.ruleForm.fileId3)}}}):e._e(),a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选择文件")])],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存")]),a("el-button",{on:{click:e.modelCancel}},[e._v("取消")])],1)],1),e.dialogVisible?a("el-dialog",{attrs:{visible:e.dialogVisible,"append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]):e._e(),a("el-dialog",{attrs:{visible:e.open1,width:"85%",title:e.title,"append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open1=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"车辆类型：",prop:"type"}},[a("span",[e._v(e._s(e.ruleForm.type))])]),a("el-form-item",{attrs:{label:"车牌号码：",prop:"cnum"}},[a("span",[e._v(e._s(e.ruleForm.cnum))])]),a("el-form-item",{attrs:{label:"统一编号：",prop:"code"}},[a("span",[e._v(e._s(e.ruleForm.code))])]),a("el-form-item",{attrs:{label:"车辆正面照：",prop:"fileId1"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.fileUrl,headers:e.headers,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.ruleForm.fileId1?a("img",{staticClass:"avatar",attrs:{src:e.url+e.ruleForm.fileId1},on:{click:function(t){return t.stopPropagation(),e.see(e.url+e.ruleForm.fileId1)}}}):e._e()])],1),a("el-form-item",{attrs:{label:"车辆侧面照：",prop:"fileId2"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.fileUrl,headers:e.headers,"show-file-list":!1,"on-success":e.handleAvatarSuccess1,"before-upload":e.beforeAvatarUpload1}},[e.ruleForm.fileId2?a("img",{staticClass:"avatar",attrs:{src:e.url+e.ruleForm.fileId2},on:{click:function(t){return t.stopPropagation(),e.see(e.url+e.ruleForm.fileId2)}}}):e._e()])],1),a("el-form-item",{attrs:{label:"车辆背面照：",prop:"fileId3"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.fileUrl,headers:e.headers,"show-file-list":!1,"on-success":e.handleAvatarSuccess2,"before-upload":e.beforeAvatarUpload2}},[e.ruleForm.fileId3?a("img",{staticClass:"avatar",attrs:{src:e.url+e.ruleForm.fileId3},on:{click:function(t){return t.stopPropagation(),e.see(e.url+e.ruleForm.fileId3)}}}):e._e()])],1)],1)],1)],1)},o=[],l=a("8955"),i=a("83f1"),s=a("5f87"),n={props:{objectId:{type:String,required:!0}},data:function(){var e;return e={loading:!1,showSearch:!0,total:0,Modeler:[],title:"",open:!1,open1:!1,queryParams:{pageNum:1,pageSize:10},ruleForm:{companyId:"",type:"",cnum:"",code:"",fileId1:"",fileId2:"",fileId3:""},rules:{cnum:[{required:!0,message:"请输入车牌号码",trigger:"blur"}],code:[{required:!0,message:"请输入统一编号",trigger:"blur"}]}},Object(l["a"])(e,"title",""),Object(l["a"])(e,"fileUrl","/prod-api/common/upload"),Object(l["a"])(e,"url","/prod-api"),Object(l["a"])(e,"headers",{Authorization:"Bearer "+Object(s["a"])()}),Object(l["a"])(e,"dialogImageUrl",""),Object(l["a"])(e,"dialogVisible",!1),e},watch:{objectId:function(){this.objectId&&this.getList()}},methods:{see:function(e){this.dialogImageUrl=e,this.dialogVisible=!0},getList:function(){var e=this;this.loading=!0,this.ruleForm.companyId=this.objectId,Object(i["T"])({companyId:this.objectId}).then((function(t){e.Modeler=t.data,e.loading=!1}))},handleDelete:function(e){var t=this;this.$confirm("是否确认删除所选信息?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["Q"])(e.objectId)})).then((function(){t.getList(),t.msgSuccess("删除成功"),t.$emit("comfign1",t.objectId)})).catch((function(){}))},modelCancel:function(){this.reset(),this.open=!1},addDocument:function(){this.reset(),this.title="新增货车",this.open=!0},seeDetail:function(e){var t=this;this.reset(),Object(i["S"])(e.objectId).then((function(e){t.ruleForm=e.data,t.title="货车详情",t.open1=!0}))},handleUpdate:function(e){var t=this;this.reset(),Object(i["S"])(e.objectId).then((function(e){t.ruleForm=e.data,t.title="修改货车",t.open=!0}))},submitForm:function(){var e=this;this.$refs["ruleForm"].validate((function(t){t&&(null!=e.ruleForm.objectId?Object(i["R"])(e.ruleForm).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList(),e.$emit("comfign1",e.objectId)})):Object(i["P"])(e.ruleForm).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList(),e.$emit("comfign1",e.objectId)})))}))},reset:function(){this.ruleForm={companyId:this.objectId,type:"",cnum:"",code:"",fileId1:"",fileId2:"",fileId3:""},this.resetForm("ruleForm")},formatter:function(e){return e.bdate?this.formatDate(e.bdate,"{y}-{m}-{d}"):""},handleAvatarSuccess:function(e,t){this.ruleForm.fileId1=e.fileName},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/jpg"===e.type||"image/png"===e.type||"image/gif"===e.type;e.size;return t||this.$message.error("请上传jpeg/jpg/png/gif类型的图片!"),t},handleAvatarSuccess1:function(e,t){this.ruleForm.fileId2=e.fileName},beforeAvatarUpload1:function(e){var t="image/jpeg"===e.type||"image/jpg"===e.type||"image/png"===e.type||"image/gif"===e.type;e.size;return t||this.$message.error("请上传jpeg/jpg/png/gif类型的图片!"),t},handleAvatarSuccess2:function(e,t){this.ruleForm.fileId3=e.fileName},beforeAvatarUpload2:function(e){var t="image/jpeg"===e.type||"image/jpg"===e.type||"image/png"===e.type||"image/gif"===e.type;e.size;return t||this.$message.error("请上传jpeg/jpg/png/gif类型的图片!"),t}}},c=n,u=(a("d44c"),a("cba8")),d=Object(u["a"])(c,r,o,!1,null,"2e01e554",null);t["default"]=d.exports},"6a33":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("h4",{staticClass:"form-header h4"},[e._v("基本信息")]),a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:8,offset:2}},[a("el-form-item",{attrs:{label:"用户昵称",prop:"nickName"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1)],1),a("el-col",{attrs:{span:8,offset:2}},[a("el-form-item",{attrs:{label:"登录账号",prop:"phonenumber"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1)],1)],1)],1),a("h4",{staticClass:"form-header h4"},[e._v("角色信息")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{"row-key":e.getRowKey,data:e.roles.slice((e.pageNum-1)*e.pageSize,e.pageNum*e.pageSize)},on:{"row-click":e.clickRow,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"序号",type:"index",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s((e.pageNum-1)*e.pageSize+t.$index+1))])]}}])}),a("el-table-column",{attrs:{type:"selection","reserve-selection":!0,width:"55"}}),a("el-table-column",{attrs:{label:"角色编号",align:"center",prop:"roleId"}}),a("el-table-column",{attrs:{label:"角色名称",align:"center",prop:"roleName"}}),a("el-table-column",{attrs:{label:"权限字符",align:"center",prop:"roleKey"}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.pageNum,limit:e.pageSize},on:{"update:page":function(t){e.pageNum=t},"update:limit":function(t){e.pageSize=t}}}),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{staticStyle:{"text-align":"center","margin-left":"-120px","margin-top":"30px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.close()}}},[e._v("返回")])],1)],1)],1)},o=[],l=(a("270f"),a("6540"),a("cca2"),a("c0c7")),i={name:"AuthRole",data:function(){return{loading:!0,total:0,pageNum:1,pageSize:10,roleIds:[],roles:[],form:{}}},created:function(){var e=this,t=this.$route.params&&this.$route.params.userId;t&&(this.loading=!0,Object(l["e"])(t).then((function(t){e.form=t.user,e.roles=t.roles,e.total=e.roles.length,e.$nextTick((function(){e.roles.forEach((function(t){t.flag&&e.$refs.table.toggleRowSelection(t)}))})),e.loading=!1})))},methods:{clickRow:function(e){this.$refs.table.toggleRowSelection(e)},handleSelectionChange:function(e){this.roleIds=e.map((function(e){return e.roleId}))},getRowKey:function(e){return e.roleId},submitForm:function(){var e=this,t=this.form.userId,a=this.roleIds.join(",");Object(l["k"])({userId:t,roleIds:a}).then((function(t){e.$modal.msgSuccess("授权成功"),e.close()}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/system/user"})}}},s=i,n=a("cba8"),c=Object(n["a"])(s,r,o,!1,null,null,null);t["default"]=c.exports},"6b08":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"登录地址",prop:"ipaddr"}},[a("el-input",{attrs:{placeholder:"请输入登录地址",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.ipaddr,callback:function(t){e.$set(e.queryParams,"ipaddr",t)},expression:"queryParams.ipaddr"}})],1),a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.list.slice((e.pageNum-1)*e.pageSize,e.pageNum*e.pageSize)}},[a("el-table-column",{attrs:{label:"序号",type:"index",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s((e.pageNum-1)*e.pageSize+t.$index+1))])]}}])}),a("el-table-column",{attrs:{label:"会话编号",align:"center",prop:"tokenId","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"登录名称",align:"center",prop:"userName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"部门名称",align:"center",prop:"deptName"}}),a("el-table-column",{attrs:{label:"主机",align:"center",prop:"ipaddr","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"登录地点",align:"center",prop:"loginLocation","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"浏览器",align:"center",prop:"browser"}}),a("el-table-column",{attrs:{label:"操作系统",align:"center",prop:"os"}}),a("el-table-column",{attrs:{label:"登录时间",align:"center",prop:"loginTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.loginTime)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:online:forceLogout"],expression:"['monitor:online:forceLogout']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleForceLogout(t.row)}}},[e._v("强退")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.pageNum,limit:e.pageSize},on:{"update:page":function(t){e.pageNum=t},"update:limit":function(t){e.pageSize=t}}})],1)},o=[],l=a("b775");function i(e){return Object(l["a"])({url:"/monitor/online/list",method:"get",params:e})}function s(e){return Object(l["a"])({url:"/monitor/online/"+e,method:"delete"})}var n={name:"Online",data:function(){return{loading:!0,total:0,list:[],pageNum:1,pageSize:10,queryParams:{ipaddr:void 0,userName:void 0}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,i(this.queryParams).then((function(t){e.list=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleForceLogout:function(e){var t=this;this.$modal.confirm('是否确认强退名称为"'+e.userName+'"的数据项？').then((function(){return s(e.tokenId)})).then((function(){t.getList(),t.$modal.msgSuccess("强退成功")})).catch((function(){}))}}},c=n,u=a("cba8"),d=Object(u["a"])(c,r,o,!1,null,null,null);t["default"]=d.exports},"6b98":function(e,t,a){"use strict";a("e268")},"6c16":function(e,t,a){},"6c6c":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"班次名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入班次名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList}},[a("el-table-column",{attrs:{label:"班次名称",align:"center",prop:"name"}}),a("el-table-column",{attrs:{label:"上班时间",align:"center",prop:"timeStart"}}),a("el-table-column",{attrs:{label:"下班时间",align:"center",prop:"timeEnd"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"班次名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入班次名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"上班时间",prop:"timeStart"}},[a("el-time-picker",{attrs:{"value-format":"HH:mm",format:"HH:mm",placeholder:"请选择上班时间"},model:{value:e.form.timeStart,callback:function(t){e.$set(e.form,"timeStart",t)},expression:"form.timeStart"}})],1),a("el-form-item",{attrs:{label:"下班时间",prop:"timeEnd"}},[a("el-time-picker",{attrs:{"value-format":"HH:mm",format:"HH:mm",placeholder:"请选择下班时间"},model:{value:e.form.timeEnd,callback:function(t){e.$set(e.form,"timeEnd",t)},expression:"form.timeEnd"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},o=[],l=(a("1d7a"),a("e2b0")),i={data:function(){return{loading:!0,showSearch:!0,total:0,postList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,name:void 0},form:{},rules:{name:[{required:!0,message:"班次名称不能为空",trigger:"blur"}],timeStart:[{required:!0,message:"上班时间不能为空",trigger:"blur"}],timeEnd:[{required:!0,message:"下班时间不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(l["e"])(this.queryParams).then((function(t){e.postList=t.data,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={name:"",timeStart:"",timeEnd:""},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加班次"},handleUpdate:function(e){var t=this;this.reset(),Object(l["d"])(e.objectId).then((function(e){t.form=e.data,t.open=!0,t.title="修改班次"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.objectId?Object(l["c"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(l["a"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this;this.$modal.confirm('是否确认删除"'+e.name+'"班次？').then((function(){return Object(l["b"])(e.objectId)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))}}},s=i,n=(a("0a36"),a("cba8")),c=Object(n["a"])(s,r,o,!1,null,"04e4e33c",null);t["default"]=c.exports},"6f72":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"导入表",visible:e.visible,width:"800px",top:"5vh","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"表名称",prop:"tableName"}},[a("el-input",{attrs:{placeholder:"请输入表名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableName,callback:function(t){e.$set(e.queryParams,"tableName",t)},expression:"queryParams.tableName"}})],1),a("el-form-item",{attrs:{label:"表描述",prop:"tableComment"}},[a("el-input",{attrs:{placeholder:"请输入表描述",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableComment,callback:function(t){e.$set(e.queryParams,"tableComment",t)},expression:"queryParams.tableComment"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",[a("el-table",{ref:"table",attrs:{data:e.dbTableList,height:"260px"},on:{"row-click":e.clickRow,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"tableName",label:"表名称","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"tableComment",label:"表描述","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"updateTime",label:"更新时间"}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleImportTable}},[e._v("确 定")]),a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")])],1)],1)},o=[],l=(a("6540"),a("cca2"),a("4b72")),i={data:function(){return{visible:!1,tables:[],total:0,dbTableList:[],queryParams:{pageNum:1,pageSize:10,tableName:void 0,tableComment:void 0}}},methods:{show:function(){this.getList(),this.visible=!0},clickRow:function(e){this.$refs.table.toggleRowSelection(e)},handleSelectionChange:function(e){this.tables=e.map((function(e){return e.tableName}))},getList:function(){var e=this;Object(l["e"])(this.queryParams).then((function(t){200===t.code&&(e.dbTableList=t.rows,e.total=t.total)}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleImportTable:function(){var e=this,t=this.tables.join(",");""!=t?Object(l["d"])({tables:t}).then((function(t){e.$modal.msgSuccess(t.msg),200===t.code&&(e.visible=!1,e.$emit("ok"))})):this.$modal.msgError("请选择要导入的表")}}},s=i,n=a("cba8"),c=Object(n["a"])(s,r,o,!1,null,null,null);t["default"]=c.exports},7054:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),a("el-form-item",{attrs:{label:"手机号码",prop:"phonenumber"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入手机号码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.phonenumber,callback:function(t){e.$set(e.queryParams,"phonenumber",t)},expression:"queryParams.phonenumber"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:add"],expression:"['system:role:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.openSelectUser}},[e._v("添加用户")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:remove"],expression:"['system:role:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-circle-close",size:"mini",disabled:e.multiple},on:{click:e.cancelAuthUserAll}},[e._v("批量取消授权")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-close",size:"mini"},on:{click:e.handleClose}},[e._v("关闭")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.userList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"用户名称",prop:"userName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"用户昵称",prop:"nickName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"邮箱",prop:"email","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"手机",prop:"phonenumber","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("dict-tag",{attrs:{options:e.dict.type.sys_normal_disable,value:t.row.status}})]}}])}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:remove"],expression:"['system:role:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-circle-close"},on:{click:function(a){return e.cancelAuthUser(t.row)}}},[e._v("取消授权")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("select-user",{ref:"select",attrs:{roleId:e.queryParams.roleId},on:{ok:e.handleQuery}})],1)},o=[],l=(a("6540"),a("cca2"),a("3528")),i=a("a17e"),s={name:"AuthUser",dicts:["sys_normal_disable"],components:{selectUser:i["default"]},data:function(){return{loading:!0,userIds:[],multiple:!0,showSearch:!0,total:0,userList:[],queryParams:{pageNum:1,pageSize:10,roleId:void 0,userName:void 0,phonenumber:void 0}}},created:function(){var e=this.$route.params&&this.$route.params.roleId;e&&(this.queryParams.roleId=e,this.getList())},methods:{getList:function(){var e=this;this.loading=!0,Object(l["b"])(this.queryParams).then((function(t){e.userList=t.rows,e.total=t.total,e.loading=!1}))},handleClose:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/system/role"})},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.userIds=e.map((function(e){return e.userId})),this.multiple=!e.length},openSelectUser:function(){this.$refs.select.show()},cancelAuthUser:function(e){var t=this,a=this.queryParams.roleId;this.$modal.confirm('确认要取消该用户"'+e.userName+'"角色吗？').then((function(){return Object(l["c"])({userId:e.userId,roleId:a})})).then((function(){t.getList(),t.$modal.msgSuccess("取消授权成功")})).catch((function(){}))},cancelAuthUserAll:function(e){var t=this,a=this.queryParams.roleId,r=this.userIds.join(",");this.$modal.confirm("是否取消选中用户授权数据项？").then((function(){return Object(l["d"])({roleId:a,userIds:r})})).then((function(){t.getList(),t.$modal.msgSuccess("取消授权成功")})).catch((function(){}))}}},n=s,c=a("cba8"),u=Object(c["a"])(n,r,o,!1,null,null,null);t["default"]=u.exports},"70e78":function(e,t,a){"use strict";a.d(t,"k",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"f",(function(){return i})),a.d(t,"d",(function(){return s})),a.d(t,"j",(function(){return n})),a.d(t,"h",(function(){return c})),a.d(t,"i",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"e",(function(){return m})),a.d(t,"c",(function(){return p})),a.d(t,"g",(function(){return f})),a.d(t,"l",(function(){return h})),a.d(t,"m",(function(){return b}));var r=a("b775");function o(e){return Object(r["a"])({url:"/store/st-in-order/list",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/store/st-in-order/add",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/store/st-in-order/edit",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/store/st-in-order/delete/".concat(e),method:"get"})}function n(e){return Object(r["a"])({url:"/store/st-in-order/get/".concat(e),method:"get"})}function c(e){return Object(r["a"])({url:"/store/st-product/list",method:"get",params:e})}function u(e){return Object(r["a"])({url:"/store/st-in-orderItem-item/list",method:"get",params:e})}function d(e){return Object(r["a"])({url:"/store/st-in-orderItem-item/add",method:"post",data:e})}function m(e){return Object(r["a"])({url:"/store/st-in-orderItem-item/edit",method:"post",data:e})}function p(e){return Object(r["a"])({url:"store/st-in-orderItem-item/delete/".concat(e),method:"get"})}function f(e){return Object(r["a"])({url:"/store/st-in-orderItem-item/get/".concat(e),method:"get"})}function h(e){return Object(r["a"])({url:"/store/st-in-order/submit",method:"post",data:e})}function b(e){return Object(r["a"])({url:"/store/st-in-order/verify",method:"post",data:e})}},"70eb":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入角色名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.roleName,callback:function(t){e.$set(e.queryParams,"roleName",t)},expression:"queryParams.roleName"}})],1),a("el-form-item",{attrs:{label:"权限字符",prop:"roleKey"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入权限字符",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.roleKey,callback:function(t){e.$set(e.queryParams,"roleKey",t)},expression:"queryParams.roleKey"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"角色状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.dict.type.sys_normal_disable,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:add"],expression:"['system:role:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:edit"],expression:"['system:role:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:remove"],expression:"['system:role:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:export"],expression:"['system:role:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.roleList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"角色编号",prop:"roleId",width:"120"}}),a("el-table-column",{attrs:{label:"角色名称",prop:"roleName","show-overflow-tooltip":!0,width:"150"}}),a("el-table-column",{attrs:{label:"权限字符",prop:"roleKey","show-overflow-tooltip":!0,width:"150"}}),a("el-table-column",{attrs:{label:"显示顺序",prop:"roleSort",width:"100"}}),a("el-table-column",{attrs:{label:"状态",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"0","inactive-value":"1"},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return 1!==t.row.roleId?[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:edit"],expression:"['system:role:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:remove"],expression:"['system:role:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]),a("el-dropdown",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:edit"],expression:"['system:role:edit']"}],attrs:{size:"mini"},on:{command:function(a){return e.handleCommand(a,t.row)}}},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"el-icon-d-arrow-right el-icon--right"}),e._v("更多 ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:edit"],expression:"['system:role:edit']"}],attrs:{command:"handleDataScope",icon:"el-icon-circle-check"}},[e._v("数据权限")]),a("el-dropdown-item",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:edit"],expression:"['system:role:edit']"}],attrs:{command:"handleAuthUser",icon:"el-icon-user"}},[e._v("分配用户")])],1)],1)]:void 0}}],null,!0)})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{attrs:{placeholder:"请输入角色名称"},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),a("el-form-item",{attrs:{prop:"roleKey"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("el-tooltip",{attrs:{content:"控制器中定义的权限字符，如：@PreAuthorize(`@ss.hasRole('admin')`)",placement:"top"}},[a("i",{staticClass:"el-icon-question"})]),e._v(" 权限字符 ")],1),a("el-input",{attrs:{placeholder:"请输入权限字符"},model:{value:e.form.roleKey,callback:function(t){e.$set(e.form,"roleKey",t)},expression:"form.roleKey"}})],1),a("el-form-item",{attrs:{label:"角色顺序",prop:"roleSort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.roleSort,callback:function(t){e.$set(e.form,"roleSort",t)},expression:"form.roleSort"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.dict.type.sys_normal_disable,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"菜单权限"}},[a("el-checkbox",{on:{change:function(t){return e.handleCheckedTreeExpand(t,"menu")}},model:{value:e.menuExpand,callback:function(t){e.menuExpand=t},expression:"menuExpand"}},[e._v("展开/折叠")]),a("el-checkbox",{on:{change:function(t){return e.handleCheckedTreeNodeAll(t,"menu")}},model:{value:e.menuNodeAll,callback:function(t){e.menuNodeAll=t},expression:"menuNodeAll"}},[e._v("全选/全不选")]),a("el-checkbox",{on:{change:function(t){return e.handleCheckedTreeConnect(t,"menu")}},model:{value:e.form.menuCheckStrictly,callback:function(t){e.$set(e.form,"menuCheckStrictly",t)},expression:"form.menuCheckStrictly"}},[e._v("父子联动")]),a("el-tree",{ref:"menu",staticClass:"tree-border",attrs:{data:e.menuOptions,"show-checkbox":"","node-key":"id","check-strictly":!e.form.menuCheckStrictly,"empty-text":"加载中，请稍后",props:e.defaultProps}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.openDataScope,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.openDataScope=t}}},[a("el-form",{attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"角色名称"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),a("el-form-item",{attrs:{label:"权限字符"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.roleKey,callback:function(t){e.$set(e.form,"roleKey",t)},expression:"form.roleKey"}})],1),a("el-form-item",{attrs:{label:"权限范围"}},[a("el-select",{on:{change:e.dataScopeSelectChange},model:{value:e.form.dataScope,callback:function(t){e.$set(e.form,"dataScope",t)},expression:"form.dataScope"}},e._l(e.dataScopeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.form.dataScope,expression:"form.dataScope == 2"}],attrs:{label:"数据权限"}},[a("el-checkbox",{on:{change:function(t){return e.handleCheckedTreeExpand(t,"dept")}},model:{value:e.deptExpand,callback:function(t){e.deptExpand=t},expression:"deptExpand"}},[e._v("展开/折叠")]),a("el-checkbox",{on:{change:function(t){return e.handleCheckedTreeNodeAll(t,"dept")}},model:{value:e.deptNodeAll,callback:function(t){e.deptNodeAll=t},expression:"deptNodeAll"}},[e._v("全选/全不选")]),a("el-checkbox",{on:{change:function(t){return e.handleCheckedTreeConnect(t,"dept")}},model:{value:e.form.deptCheckStrictly,callback:function(t){e.$set(e.form,"deptCheckStrictly",t)},expression:"form.deptCheckStrictly"}},[e._v("父子联动")]),a("el-tree",{ref:"dept",staticClass:"tree-border",attrs:{data:e.deptOptions,"show-checkbox":"","default-expand-all":"","node-key":"id","check-strictly":!e.form.deptCheckStrictly,"empty-text":"加载中，请稍后",props:e.defaultProps}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitDataScope}},[e._v("确 定")]),a("el-button",{on:{click:e.cancelDataScope}},[e._v("取 消")])],1)],1)],1)},o=[],l=(a("6540"),a("270f"),a("1d7a"),a("3528")),i=a("a6dc"),s=a("fcb7"),n={name:"Role",dicts:["sys_normal_disable"],data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,roleList:[],title:"",open:!1,openDataScope:!1,menuExpand:!1,menuNodeAll:!1,deptExpand:!0,deptNodeAll:!1,dateRange:[],dataScopeOptions:[{value:"1",label:"全部数据权限"},{value:"2",label:"自定数据权限"},{value:"3",label:"本部门数据权限"},{value:"4",label:"本部门及以下数据权限"},{value:"5",label:"仅本人数据权限"}],menuOptions:[],deptOptions:[],queryParams:{pageNum:1,pageSize:10,roleName:void 0,roleKey:void 0,status:void 0},form:{},defaultProps:{children:"children",label:"label"},rules:{roleName:[{required:!0,message:"角色名称不能为空",trigger:"blur"}],roleKey:[{required:!0,message:"权限字符不能为空",trigger:"blur"}],roleSort:[{required:!0,message:"角色顺序不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(l["k"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.roleList=t.rows,e.total=t.total,e.loading=!1}))},getMenuTreeselect:function(){var e=this;Object(i["f"])().then((function(t){e.menuOptions=t.data}))},getDeptTreeselect:function(){var e=this;Object(s["g"])().then((function(t){e.deptOptions=t.data}))},getMenuAllCheckedKeys:function(){var e=this.$refs.menu.getCheckedKeys(),t=this.$refs.menu.getHalfCheckedKeys();return e.unshift.apply(e,t),e},getDeptAllCheckedKeys:function(){var e=this.$refs.dept.getCheckedKeys(),t=this.$refs.dept.getHalfCheckedKeys();return e.unshift.apply(e,t),e},getRoleMenuTreeselect:function(e){var t=this;return Object(i["e"])(e).then((function(e){return t.menuOptions=e.menus,e}))},getRoleDeptTreeselect:function(e){var t=this;return Object(s["f"])(e).then((function(e){return t.deptOptions=e.depts,e}))},handleStatusChange:function(e){var t=this,a="0"===e.status?"启用":"停用";this.$modal.confirm('确认要"'+a+'""'+e.roleName+'"角色吗？').then((function(){return Object(l["f"])(e.roleId,e.status)})).then((function(){t.$modal.msgSuccess(a+"成功")})).catch((function(){e.status="0"===e.status?"1":"0"}))},cancel:function(){this.open=!1,this.reset()},cancelDataScope:function(){this.openDataScope=!1,this.reset()},reset:function(){void 0!=this.$refs.menu&&this.$refs.menu.setCheckedKeys([]),this.menuExpand=!1,this.menuNodeAll=!1,this.deptExpand=!0,this.deptNodeAll=!1,this.form={roleId:void 0,roleName:void 0,roleKey:void 0,roleSort:0,status:"0",menuIds:[],deptIds:[],menuCheckStrictly:!0,deptCheckStrictly:!0,remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.roleId})),this.single=1!=e.length,this.multiple=!e.length},handleCommand:function(e,t){switch(e){case"handleDataScope":this.handleDataScope(t);break;case"handleAuthUser":this.handleAuthUser(t);break;default:break}},handleCheckedTreeExpand:function(e,t){if("menu"==t)for(var a=this.menuOptions,r=0;r<a.length;r++)this.$refs.menu.store.nodesMap[a[r].id].expanded=e;else if("dept"==t)for(var o=this.deptOptions,l=0;l<o.length;l++)this.$refs.dept.store.nodesMap[o[l].id].expanded=e},handleCheckedTreeNodeAll:function(e,t){"menu"==t?this.$refs.menu.setCheckedNodes(e?this.menuOptions:[]):"dept"==t&&this.$refs.dept.setCheckedNodes(e?this.deptOptions:[])},handleCheckedTreeConnect:function(e,t){"menu"==t?this.form.menuCheckStrictly=!!e:"dept"==t&&(this.form.deptCheckStrictly=!!e)},handleAdd:function(){this.reset(),this.getMenuTreeselect(),this.open=!0,this.title="添加角色"},handleUpdate:function(e){var t=this;this.reset();var a=e.roleId||this.ids,r=this.getRoleMenuTreeselect(a);Object(l["j"])(a).then((function(e){t.form=e.data,t.open=!0,t.$nextTick((function(){r.then((function(e){var a=e.checkedKeys;a.forEach((function(e){t.$nextTick((function(){t.$refs.menu.setChecked(e,!0,!1)}))}))}))})),t.title="修改角色"}))},dataScopeSelectChange:function(e){"2"!==e&&this.$refs.dept.setCheckedKeys([])},handleDataScope:function(e){var t=this;this.reset();var a=this.getRoleDeptTreeselect(e.roleId);Object(l["j"])(e.roleId).then((function(e){t.form=e.data,t.openDataScope=!0,t.$nextTick((function(){a.then((function(e){t.$refs.dept.setCheckedKeys(e.checkedKeys)}))})),t.title="分配数据权限"}))},handleAuthUser:function(e){var t=e.roleId;this.$router.push("/system/role-auth/user/"+t)},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.roleId?(e.form.menuIds=e.getMenuAllCheckedKeys(),Object(l["m"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()}))):(e.form.menuIds=e.getMenuAllCheckedKeys(),Object(l["a"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()}))))}))},submitDataScope:function(){var e=this;void 0!=this.form.roleId&&(this.form.deptIds=this.getDeptAllCheckedKeys(),Object(l["g"])(this.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.openDataScope=!1,e.getList()})))},handleDelete:function(e){var t=this,a=e.roleId||this.ids;this.$modal.confirm('是否确认删除角色编号为"'+a+'"的数据项？').then((function(){return Object(l["h"])(a)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$modal.confirm("是否确认导出所有用户数据项？").then((function(){return e.exportLoading=!0,Object(l["i"])(t)})).then((function(t){e.$download.name(t.msg),e.exportLoading=!1})).catch((function(){}))}}},c=n,u=a("cba8"),d=Object(u["a"])(c,r,o,!1,null,null,null);t["default"]=d.exports},"73f2":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-input",{on:{input:e.input},model:{value:e.handleArea,callback:function(t){e.handleArea=t},expression:"handleArea"}})],1)},o=[],l={props:{value:{type:String,required:!0}},data:function(){return{handleArea:""}},methods:{input:function(e){this.$emit("handleArea",this.handleArea)}},watch:{value:function(){this.handleArea=this.value}}},i=l,s=a("cba8"),n=Object(s["a"])(i,r,o,!1,null,"9dd4ed5c",null);t["default"]=n.exports},7411:function(e,t,a){},7564:function(e,t,a){"use strict";a.d(t,"j",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"f",(function(){return i})),a.d(t,"d",(function(){return s})),a.d(t,"i",(function(){return n})),a.d(t,"h",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"c",(function(){return m})),a.d(t,"g",(function(){return p})),a.d(t,"k",(function(){return f})),a.d(t,"l",(function(){return h}));var r=a("b775");function o(e){return Object(r["a"])({url:"/store/st-out-outOrder/list",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/store/st-out-outOrder/add",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/store/st-out-outOrder/edit",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/store/st-out-outOrder/delete/".concat(e),method:"get"})}function n(e){return Object(r["a"])({url:"/store/st-out-outOrder/get/".concat(e),method:"get"})}function c(e){return Object(r["a"])({url:"/store/st-out-orderItem-item/list",method:"get",params:e})}function u(e){return Object(r["a"])({url:"/store/st-out-orderItem-item/add",method:"post",data:e})}function d(e){return Object(r["a"])({url:"/store/st-out-orderItem-item/edit",method:"post",data:e})}function m(e){return Object(r["a"])({url:"/store/st-out-orderItem-item/delete/".concat(e),method:"get"})}function p(e){return Object(r["a"])({url:"/store/st-out-orderItem-item/get/".concat(e),method:"get"})}function f(e){return Object(r["a"])({url:"/store/st-out-outOrder/submit",method:"post",data:e})}function h(e){return Object(r["a"])({url:"/store/st-out-outOrder/verify",method:"post",data:e})}},"75d9":function(e,t,a){"use strict";a("de6a")},"766b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"right-board"},[a("el-tabs",{staticClass:"center-tabs",model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[a("el-tab-pane",{attrs:{label:"组件属性",name:"field"}}),a("el-tab-pane",{attrs:{label:"表单属性",name:"form"}})],1),a("div",{staticClass:"field-box"},[a("a",{staticClass:"document-link",attrs:{target:"_blank",href:e.documentLink,title:"查看组件文档"}},[a("i",{staticClass:"el-icon-link"})]),a("el-scrollbar",{staticClass:"right-scrollbar"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:"field"===e.currentTab&&e.showField,expression:"currentTab==='field' && showField"}],attrs:{size:"small","label-width":"90px"}},[e.activeData.changeTag?a("el-form-item",{attrs:{label:"组件类型"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择组件类型"},on:{change:e.tagChange},model:{value:e.activeData.tagIcon,callback:function(t){e.$set(e.activeData,"tagIcon",t)},expression:"activeData.tagIcon"}},e._l(e.tagList,(function(t){return a("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.options,(function(t){return a("el-option",{key:t.label,attrs:{label:t.label,value:t.tagIcon}},[a("svg-icon",{staticClass:"node-icon",attrs:{"icon-class":t.tagIcon}}),a("span",[e._v(" "+e._s(t.label))])],1)})),1)})),1)],1):e._e(),void 0!==e.activeData.vModel?a("el-form-item",{attrs:{label:"字段名"}},[a("el-input",{attrs:{placeholder:"请输入字段名（v-model）"},model:{value:e.activeData.vModel,callback:function(t){e.$set(e.activeData,"vModel",t)},expression:"activeData.vModel"}})],1):e._e(),void 0!==e.activeData.componentName?a("el-form-item",{attrs:{label:"组件名"}},[e._v(" "+e._s(e.activeData.componentName)+" ")]):e._e(),void 0!==e.activeData.label?a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.activeData.label,callback:function(t){e.$set(e.activeData,"label",t)},expression:"activeData.label"}})],1):e._e(),void 0!==e.activeData.placeholder?a("el-form-item",{attrs:{label:"占位提示"}},[a("el-input",{attrs:{placeholder:"请输入占位提示"},model:{value:e.activeData.placeholder,callback:function(t){e.$set(e.activeData,"placeholder",t)},expression:"activeData.placeholder"}})],1):e._e(),void 0!==e.activeData["start-placeholder"]?a("el-form-item",{attrs:{label:"开始占位"}},[a("el-input",{attrs:{placeholder:"请输入占位提示"},model:{value:e.activeData["start-placeholder"],callback:function(t){e.$set(e.activeData,"start-placeholder",t)},expression:"activeData['start-placeholder']"}})],1):e._e(),void 0!==e.activeData["end-placeholder"]?a("el-form-item",{attrs:{label:"结束占位"}},[a("el-input",{attrs:{placeholder:"请输入占位提示"},model:{value:e.activeData["end-placeholder"],callback:function(t){e.$set(e.activeData,"end-placeholder",t)},expression:"activeData['end-placeholder']"}})],1):e._e(),void 0!==e.activeData.span?a("el-form-item",{attrs:{label:"表单栅格"}},[a("el-slider",{attrs:{max:24,min:1,marks:{12:""}},on:{change:e.spanChange},model:{value:e.activeData.span,callback:function(t){e.$set(e.activeData,"span",t)},expression:"activeData.span"}})],1):e._e(),"rowFormItem"===e.activeData.layout?a("el-form-item",{attrs:{label:"栅格间隔"}},[a("el-input-number",{attrs:{min:0,placeholder:"栅格间隔"},model:{value:e.activeData.gutter,callback:function(t){e.$set(e.activeData,"gutter",t)},expression:"activeData.gutter"}})],1):e._e(),"rowFormItem"===e.activeData.layout?a("el-form-item",{attrs:{label:"布局模式"}},[a("el-radio-group",{model:{value:e.activeData.type,callback:function(t){e.$set(e.activeData,"type",t)},expression:"activeData.type"}},[a("el-radio-button",{attrs:{label:"default"}}),a("el-radio-button",{attrs:{label:"flex"}})],1)],1):e._e(),void 0!==e.activeData.justify&&"flex"===e.activeData.type?a("el-form-item",{attrs:{label:"水平排列"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择水平排列"},model:{value:e.activeData.justify,callback:function(t){e.$set(e.activeData,"justify",t)},expression:"activeData.justify"}},e._l(e.justifyOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),void 0!==e.activeData.align&&"flex"===e.activeData.type?a("el-form-item",{attrs:{label:"垂直排列"}},[a("el-radio-group",{model:{value:e.activeData.align,callback:function(t){e.$set(e.activeData,"align",t)},expression:"activeData.align"}},[a("el-radio-button",{attrs:{label:"top"}}),a("el-radio-button",{attrs:{label:"middle"}}),a("el-radio-button",{attrs:{label:"bottom"}})],1)],1):e._e(),void 0!==e.activeData.labelWidth?a("el-form-item",{attrs:{label:"标签宽度"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入标签宽度"},model:{value:e.activeData.labelWidth,callback:function(t){e.$set(e.activeData,"labelWidth",e._n(t))},expression:"activeData.labelWidth"}})],1):e._e(),e.activeData.style&&void 0!==e.activeData.style.width?a("el-form-item",{attrs:{label:"组件宽度"}},[a("el-input",{attrs:{placeholder:"请输入组件宽度",clearable:""},model:{value:e.activeData.style.width,callback:function(t){e.$set(e.activeData.style,"width",t)},expression:"activeData.style.width"}})],1):e._e(),void 0!==e.activeData.vModel?a("el-form-item",{attrs:{label:"默认值"}},[a("el-input",{attrs:{value:e.setDefaultValue(e.activeData.defaultValue),placeholder:"请输入默认值"},on:{input:e.onDefaultValueInput}})],1):e._e(),"el-checkbox-group"===e.activeData.tag?a("el-form-item",{attrs:{label:"至少应选"}},[a("el-input-number",{attrs:{value:e.activeData.min,min:0,placeholder:"至少应选"},on:{input:function(t){return e.$set(e.activeData,"min",t||void 0)}}})],1):e._e(),"el-checkbox-group"===e.activeData.tag?a("el-form-item",{attrs:{label:"最多可选"}},[a("el-input-number",{attrs:{value:e.activeData.max,min:0,placeholder:"最多可选"},on:{input:function(t){return e.$set(e.activeData,"max",t||void 0)}}})],1):e._e(),void 0!==e.activeData.prepend?a("el-form-item",{attrs:{label:"前缀"}},[a("el-input",{attrs:{placeholder:"请输入前缀"},model:{value:e.activeData.prepend,callback:function(t){e.$set(e.activeData,"prepend",t)},expression:"activeData.prepend"}})],1):e._e(),void 0!==e.activeData.append?a("el-form-item",{attrs:{label:"后缀"}},[a("el-input",{attrs:{placeholder:"请输入后缀"},model:{value:e.activeData.append,callback:function(t){e.$set(e.activeData,"append",t)},expression:"activeData.append"}})],1):e._e(),void 0!==e.activeData["prefix-icon"]?a("el-form-item",{attrs:{label:"前图标"}},[a("el-input",{attrs:{placeholder:"请输入前图标名称"},model:{value:e.activeData["prefix-icon"],callback:function(t){e.$set(e.activeData,"prefix-icon",t)},expression:"activeData['prefix-icon']"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-thumb"},on:{click:function(t){return e.openIconsDialog("prefix-icon")}},slot:"append"},[e._v(" 选择 ")])],1)],1):e._e(),void 0!==e.activeData["suffix-icon"]?a("el-form-item",{attrs:{label:"后图标"}},[a("el-input",{attrs:{placeholder:"请输入后图标名称"},model:{value:e.activeData["suffix-icon"],callback:function(t){e.$set(e.activeData,"suffix-icon",t)},expression:"activeData['suffix-icon']"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-thumb"},on:{click:function(t){return e.openIconsDialog("suffix-icon")}},slot:"append"},[e._v(" 选择 ")])],1)],1):e._e(),"el-cascader"===e.activeData.tag?a("el-form-item",{attrs:{label:"选项分隔符"}},[a("el-input",{attrs:{placeholder:"请输入选项分隔符"},model:{value:e.activeData.separator,callback:function(t){e.$set(e.activeData,"separator",t)},expression:"activeData.separator"}})],1):e._e(),void 0!==e.activeData.autosize?a("el-form-item",{attrs:{label:"最小行数"}},[a("el-input-number",{attrs:{min:1,placeholder:"最小行数"},model:{value:e.activeData.autosize.minRows,callback:function(t){e.$set(e.activeData.autosize,"minRows",t)},expression:"activeData.autosize.minRows"}})],1):e._e(),void 0!==e.activeData.autosize?a("el-form-item",{attrs:{label:"最大行数"}},[a("el-input-number",{attrs:{min:1,placeholder:"最大行数"},model:{value:e.activeData.autosize.maxRows,callback:function(t){e.$set(e.activeData.autosize,"maxRows",t)},expression:"activeData.autosize.maxRows"}})],1):e._e(),void 0!==e.activeData.min?a("el-form-item",{attrs:{label:"最小值"}},[a("el-input-number",{attrs:{placeholder:"最小值"},model:{value:e.activeData.min,callback:function(t){e.$set(e.activeData,"min",t)},expression:"activeData.min"}})],1):e._e(),void 0!==e.activeData.max?a("el-form-item",{attrs:{label:"最大值"}},[a("el-input-number",{attrs:{placeholder:"最大值"},model:{value:e.activeData.max,callback:function(t){e.$set(e.activeData,"max",t)},expression:"activeData.max"}})],1):e._e(),void 0!==e.activeData.step?a("el-form-item",{attrs:{label:"步长"}},[a("el-input-number",{attrs:{placeholder:"步数"},model:{value:e.activeData.step,callback:function(t){e.$set(e.activeData,"step",t)},expression:"activeData.step"}})],1):e._e(),"el-input-number"===e.activeData.tag?a("el-form-item",{attrs:{label:"精度"}},[a("el-input-number",{attrs:{min:0,placeholder:"精度"},model:{value:e.activeData.precision,callback:function(t){e.$set(e.activeData,"precision",t)},expression:"activeData.precision"}})],1):e._e(),"el-input-number"===e.activeData.tag?a("el-form-item",{attrs:{label:"按钮位置"}},[a("el-radio-group",{model:{value:e.activeData["controls-position"],callback:function(t){e.$set(e.activeData,"controls-position",t)},expression:"activeData['controls-position']"}},[a("el-radio-button",{attrs:{label:""}},[e._v(" 默认 ")]),a("el-radio-button",{attrs:{label:"right"}},[e._v(" 右侧 ")])],1)],1):e._e(),void 0!==e.activeData.maxlength?a("el-form-item",{attrs:{label:"最多输入"}},[a("el-input",{attrs:{placeholder:"请输入字符长度"},model:{value:e.activeData.maxlength,callback:function(t){e.$set(e.activeData,"maxlength",t)},expression:"activeData.maxlength"}},[a("template",{slot:"append"},[e._v(" 个字符 ")])],2)],1):e._e(),void 0!==e.activeData["active-text"]?a("el-form-item",{attrs:{label:"开启提示"}},[a("el-input",{attrs:{placeholder:"请输入开启提示"},model:{value:e.activeData["active-text"],callback:function(t){e.$set(e.activeData,"active-text",t)},expression:"activeData['active-text']"}})],1):e._e(),void 0!==e.activeData["inactive-text"]?a("el-form-item",{attrs:{label:"关闭提示"}},[a("el-input",{attrs:{placeholder:"请输入关闭提示"},model:{value:e.activeData["inactive-text"],callback:function(t){e.$set(e.activeData,"inactive-text",t)},expression:"activeData['inactive-text']"}})],1):e._e(),void 0!==e.activeData["active-value"]?a("el-form-item",{attrs:{label:"开启值"}},[a("el-input",{attrs:{value:e.setDefaultValue(e.activeData["active-value"]),placeholder:"请输入开启值"},on:{input:function(t){return e.onSwitchValueInput(t,"active-value")}}})],1):e._e(),void 0!==e.activeData["inactive-value"]?a("el-form-item",{attrs:{label:"关闭值"}},[a("el-input",{attrs:{value:e.setDefaultValue(e.activeData["inactive-value"]),placeholder:"请输入关闭值"},on:{input:function(t){return e.onSwitchValueInput(t,"inactive-value")}}})],1):e._e(),void 0!==e.activeData.type&&"el-date-picker"===e.activeData.tag?a("el-form-item",{attrs:{label:"时间类型"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择时间类型"},on:{change:e.dateTypeChange},model:{value:e.activeData.type,callback:function(t){e.$set(e.activeData,"type",t)},expression:"activeData.type"}},e._l(e.dateOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),void 0!==e.activeData.name?a("el-form-item",{attrs:{label:"文件字段名"}},[a("el-input",{attrs:{placeholder:"请输入上传文件字段名"},model:{value:e.activeData.name,callback:function(t){e.$set(e.activeData,"name",t)},expression:"activeData.name"}})],1):e._e(),void 0!==e.activeData.accept?a("el-form-item",{attrs:{label:"文件类型"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择文件类型",clearable:""},model:{value:e.activeData.accept,callback:function(t){e.$set(e.activeData,"accept",t)},expression:"activeData.accept"}},[a("el-option",{attrs:{label:"图片",value:"image/*"}}),a("el-option",{attrs:{label:"视频",value:"video/*"}}),a("el-option",{attrs:{label:"音频",value:"audio/*"}}),a("el-option",{attrs:{label:"excel",value:".xls,.xlsx"}}),a("el-option",{attrs:{label:"word",value:".doc,.docx"}}),a("el-option",{attrs:{label:"pdf",value:".pdf"}}),a("el-option",{attrs:{label:"txt",value:".txt"}})],1)],1):e._e(),void 0!==e.activeData.fileSize?a("el-form-item",{attrs:{label:"文件大小"}},[a("el-input",{attrs:{placeholder:"请输入文件大小"},model:{value:e.activeData.fileSize,callback:function(t){e.$set(e.activeData,"fileSize",e._n(t))},expression:"activeData.fileSize"}},[a("el-select",{style:{width:"66px"},attrs:{slot:"append"},slot:"append",model:{value:e.activeData.sizeUnit,callback:function(t){e.$set(e.activeData,"sizeUnit",t)},expression:"activeData.sizeUnit"}},[a("el-option",{attrs:{label:"KB",value:"KB"}}),a("el-option",{attrs:{label:"MB",value:"MB"}}),a("el-option",{attrs:{label:"GB",value:"GB"}})],1)],1)],1):e._e(),void 0!==e.activeData.action?a("el-form-item",{attrs:{label:"上传地址"}},[a("el-input",{attrs:{placeholder:"请输入上传地址",clearable:""},model:{value:e.activeData.action,callback:function(t){e.$set(e.activeData,"action",t)},expression:"activeData.action"}})],1):e._e(),void 0!==e.activeData["list-type"]?a("el-form-item",{attrs:{label:"列表类型"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.activeData["list-type"],callback:function(t){e.$set(e.activeData,"list-type",t)},expression:"activeData['list-type']"}},[a("el-radio-button",{attrs:{label:"text"}},[e._v(" text ")]),a("el-radio-button",{attrs:{label:"picture"}},[e._v(" picture ")]),a("el-radio-button",{attrs:{label:"picture-card"}},[e._v(" picture-card ")])],1)],1):e._e(),void 0!==e.activeData.buttonText?a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"picture-card"!==e.activeData["list-type"],expression:"'picture-card' !== activeData['list-type']"}],attrs:{label:"按钮文字"}},[a("el-input",{attrs:{placeholder:"请输入按钮文字"},model:{value:e.activeData.buttonText,callback:function(t){e.$set(e.activeData,"buttonText",t)},expression:"activeData.buttonText"}})],1):e._e(),void 0!==e.activeData["range-separator"]?a("el-form-item",{attrs:{label:"分隔符"}},[a("el-input",{attrs:{placeholder:"请输入分隔符"},model:{value:e.activeData["range-separator"],callback:function(t){e.$set(e.activeData,"range-separator",t)},expression:"activeData['range-separator']"}})],1):e._e(),void 0!==e.activeData["picker-options"]?a("el-form-item",{attrs:{label:"时间段"}},[a("el-input",{attrs:{placeholder:"请输入时间段"},model:{value:e.activeData["picker-options"].selectableRange,callback:function(t){e.$set(e.activeData["picker-options"],"selectableRange",t)},expression:"activeData['picker-options'].selectableRange"}})],1):e._e(),void 0!==e.activeData.format?a("el-form-item",{attrs:{label:"时间格式"}},[a("el-input",{attrs:{value:e.activeData.format,placeholder:"请输入时间格式"},on:{input:function(t){return e.setTimeValue(t)}}})],1):e._e(),["el-checkbox-group","el-radio-group","el-select"].indexOf(e.activeData.tag)>-1?[a("el-divider",[e._v("选项")]),a("draggable",{attrs:{list:e.activeData.options,animation:340,group:"selectItem",handle:".option-drag"}},e._l(e.activeData.options,(function(t,r){return a("div",{key:r,staticClass:"select-item"},[a("div",{staticClass:"select-line-icon option-drag"},[a("i",{staticClass:"el-icon-s-operation"})]),a("el-input",{attrs:{placeholder:"选项名",size:"small"},model:{value:t.label,callback:function(a){e.$set(t,"label",a)},expression:"item.label"}}),a("el-input",{attrs:{placeholder:"选项值",size:"small",value:t.value},on:{input:function(a){return e.setOptionValue(t,a)}}}),a("div",{staticClass:"close-btn select-line-icon",on:{click:function(t){return e.activeData.options.splice(r,1)}}},[a("i",{staticClass:"el-icon-remove-outline"})])],1)})),0),a("div",{staticStyle:{"margin-left":"20px"}},[a("el-button",{staticStyle:{"padding-bottom":"0"},attrs:{icon:"el-icon-circle-plus-outline",type:"text"},on:{click:e.addSelectItem}},[e._v(" 添加选项 ")])],1),a("el-divider")]:e._e(),["el-cascader"].indexOf(e.activeData.tag)>-1?[a("el-divider",[e._v("选项")]),a("el-form-item",{attrs:{label:"数据类型"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.activeData.dataType,callback:function(t){e.$set(e.activeData,"dataType",t)},expression:"activeData.dataType"}},[a("el-radio-button",{attrs:{label:"dynamic"}},[e._v(" 动态数据 ")]),a("el-radio-button",{attrs:{label:"static"}},[e._v(" 静态数据 ")])],1)],1),"dynamic"===e.activeData.dataType?[a("el-form-item",{attrs:{label:"标签键名"}},[a("el-input",{attrs:{placeholder:"请输入标签键名"},model:{value:e.activeData.labelKey,callback:function(t){e.$set(e.activeData,"labelKey",t)},expression:"activeData.labelKey"}})],1),a("el-form-item",{attrs:{label:"值键名"}},[a("el-input",{attrs:{placeholder:"请输入值键名"},model:{value:e.activeData.valueKey,callback:function(t){e.$set(e.activeData,"valueKey",t)},expression:"activeData.valueKey"}})],1),a("el-form-item",{attrs:{label:"子级键名"}},[a("el-input",{attrs:{placeholder:"请输入子级键名"},model:{value:e.activeData.childrenKey,callback:function(t){e.$set(e.activeData,"childrenKey",t)},expression:"activeData.childrenKey"}})],1)]:e._e(),"static"===e.activeData.dataType?a("el-tree",{attrs:{draggable:"",data:e.activeData.options,"node-key":"id","expand-on-click-node":!1,"render-content":e.renderContent}}):e._e(),"static"===e.activeData.dataType?a("div",{staticStyle:{"margin-left":"20px"}},[a("el-button",{staticStyle:{"padding-bottom":"0"},attrs:{icon:"el-icon-circle-plus-outline",type:"text"},on:{click:e.addTreeItem}},[e._v(" 添加父级 ")])],1):e._e(),a("el-divider")]:e._e(),void 0!==e.activeData.optionType?a("el-form-item",{attrs:{label:"选项样式"}},[a("el-radio-group",{model:{value:e.activeData.optionType,callback:function(t){e.$set(e.activeData,"optionType",t)},expression:"activeData.optionType"}},[a("el-radio-button",{attrs:{label:"default"}},[e._v(" 默认 ")]),a("el-radio-button",{attrs:{label:"button"}},[e._v(" 按钮 ")])],1)],1):e._e(),void 0!==e.activeData["active-color"]?a("el-form-item",{attrs:{label:"开启颜色"}},[a("el-color-picker",{model:{value:e.activeData["active-color"],callback:function(t){e.$set(e.activeData,"active-color",t)},expression:"activeData['active-color']"}})],1):e._e(),void 0!==e.activeData["inactive-color"]?a("el-form-item",{attrs:{label:"关闭颜色"}},[a("el-color-picker",{model:{value:e.activeData["inactive-color"],callback:function(t){e.$set(e.activeData,"inactive-color",t)},expression:"activeData['inactive-color']"}})],1):e._e(),void 0!==e.activeData["allow-half"]?a("el-form-item",{attrs:{label:"允许半选"}},[a("el-switch",{model:{value:e.activeData["allow-half"],callback:function(t){e.$set(e.activeData,"allow-half",t)},expression:"activeData['allow-half']"}})],1):e._e(),void 0!==e.activeData["show-text"]?a("el-form-item",{attrs:{label:"辅助文字"}},[a("el-switch",{on:{change:e.rateTextChange},model:{value:e.activeData["show-text"],callback:function(t){e.$set(e.activeData,"show-text",t)},expression:"activeData['show-text']"}})],1):e._e(),void 0!==e.activeData["show-score"]?a("el-form-item",{attrs:{label:"显示分数"}},[a("el-switch",{on:{change:e.rateScoreChange},model:{value:e.activeData["show-score"],callback:function(t){e.$set(e.activeData,"show-score",t)},expression:"activeData['show-score']"}})],1):e._e(),void 0!==e.activeData["show-stops"]?a("el-form-item",{attrs:{label:"显示间断点"}},[a("el-switch",{model:{value:e.activeData["show-stops"],callback:function(t){e.$set(e.activeData,"show-stops",t)},expression:"activeData['show-stops']"}})],1):e._e(),void 0!==e.activeData.range?a("el-form-item",{attrs:{label:"范围选择"}},[a("el-switch",{on:{change:e.rangeChange},model:{value:e.activeData.range,callback:function(t){e.$set(e.activeData,"range",t)},expression:"activeData.range"}})],1):e._e(),void 0!==e.activeData.border&&"default"===e.activeData.optionType?a("el-form-item",{attrs:{label:"是否带边框"}},[a("el-switch",{model:{value:e.activeData.border,callback:function(t){e.$set(e.activeData,"border",t)},expression:"activeData.border"}})],1):e._e(),"el-color-picker"===e.activeData.tag?a("el-form-item",{attrs:{label:"颜色格式"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择颜色格式"},on:{change:e.colorFormatChange},model:{value:e.activeData["color-format"],callback:function(t){e.$set(e.activeData,"color-format",t)},expression:"activeData['color-format']"}},e._l(e.colorFormatOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),void 0===e.activeData.size||"button"!==e.activeData.optionType&&!e.activeData.border&&"el-color-picker"!==e.activeData.tag?e._e():a("el-form-item",{attrs:{label:"选项尺寸"}},[a("el-radio-group",{model:{value:e.activeData.size,callback:function(t){e.$set(e.activeData,"size",t)},expression:"activeData.size"}},[a("el-radio-button",{attrs:{label:"medium"}},[e._v(" 中等 ")]),a("el-radio-button",{attrs:{label:"small"}},[e._v(" 较小 ")]),a("el-radio-button",{attrs:{label:"mini"}},[e._v(" 迷你 ")])],1)],1),void 0!==e.activeData["show-word-limit"]?a("el-form-item",{attrs:{label:"输入统计"}},[a("el-switch",{model:{value:e.activeData["show-word-limit"],callback:function(t){e.$set(e.activeData,"show-word-limit",t)},expression:"activeData['show-word-limit']"}})],1):e._e(),"el-input-number"===e.activeData.tag?a("el-form-item",{attrs:{label:"严格步数"}},[a("el-switch",{model:{value:e.activeData["step-strictly"],callback:function(t){e.$set(e.activeData,"step-strictly",t)},expression:"activeData['step-strictly']"}})],1):e._e(),"el-cascader"===e.activeData.tag?a("el-form-item",{attrs:{label:"是否多选"}},[a("el-switch",{model:{value:e.activeData.props.props.multiple,callback:function(t){e.$set(e.activeData.props.props,"multiple",t)},expression:"activeData.props.props.multiple"}})],1):e._e(),"el-cascader"===e.activeData.tag?a("el-form-item",{attrs:{label:"展示全路径"}},[a("el-switch",{model:{value:e.activeData["show-all-levels"],callback:function(t){e.$set(e.activeData,"show-all-levels",t)},expression:"activeData['show-all-levels']"}})],1):e._e(),"el-cascader"===e.activeData.tag?a("el-form-item",{attrs:{label:"可否筛选"}},[a("el-switch",{model:{value:e.activeData.filterable,callback:function(t){e.$set(e.activeData,"filterable",t)},expression:"activeData.filterable"}})],1):e._e(),void 0!==e.activeData.clearable?a("el-form-item",{attrs:{label:"能否清空"}},[a("el-switch",{model:{value:e.activeData.clearable,callback:function(t){e.$set(e.activeData,"clearable",t)},expression:"activeData.clearable"}})],1):e._e(),void 0!==e.activeData.showTip?a("el-form-item",{attrs:{label:"显示提示"}},[a("el-switch",{model:{value:e.activeData.showTip,callback:function(t){e.$set(e.activeData,"showTip",t)},expression:"activeData.showTip"}})],1):e._e(),void 0!==e.activeData.multiple?a("el-form-item",{attrs:{label:"多选文件"}},[a("el-switch",{model:{value:e.activeData.multiple,callback:function(t){e.$set(e.activeData,"multiple",t)},expression:"activeData.multiple"}})],1):e._e(),void 0!==e.activeData["auto-upload"]?a("el-form-item",{attrs:{label:"自动上传"}},[a("el-switch",{model:{value:e.activeData["auto-upload"],callback:function(t){e.$set(e.activeData,"auto-upload",t)},expression:"activeData['auto-upload']"}})],1):e._e(),void 0!==e.activeData.readonly?a("el-form-item",{attrs:{label:"是否只读"}},[a("el-switch",{model:{value:e.activeData.readonly,callback:function(t){e.$set(e.activeData,"readonly",t)},expression:"activeData.readonly"}})],1):e._e(),void 0!==e.activeData.disabled?a("el-form-item",{attrs:{label:"是否禁用"}},[a("el-switch",{model:{value:e.activeData.disabled,callback:function(t){e.$set(e.activeData,"disabled",t)},expression:"activeData.disabled"}})],1):e._e(),"el-select"===e.activeData.tag?a("el-form-item",{attrs:{label:"是否可搜索"}},[a("el-switch",{model:{value:e.activeData.filterable,callback:function(t){e.$set(e.activeData,"filterable",t)},expression:"activeData.filterable"}})],1):e._e(),"el-select"===e.activeData.tag?a("el-form-item",{attrs:{label:"是否多选"}},[a("el-switch",{on:{change:e.multipleChange},model:{value:e.activeData.multiple,callback:function(t){e.$set(e.activeData,"multiple",t)},expression:"activeData.multiple"}})],1):e._e(),void 0!==e.activeData.required?a("el-form-item",{attrs:{label:"是否必填"}},[a("el-switch",{model:{value:e.activeData.required,callback:function(t){e.$set(e.activeData,"required",t)},expression:"activeData.required"}})],1):e._e(),e.activeData.layoutTree?[a("el-divider",[e._v("布局结构树")]),a("el-tree",{attrs:{data:[e.activeData],props:e.layoutTreeProps,"node-key":"renderKey","default-expand-all":"",draggable:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.node,o=t.data;return a("span",{},[a("span",{staticClass:"node-label"},[a("svg-icon",{staticClass:"node-icon",attrs:{"icon-class":o.tagIcon}}),e._v(" "+e._s(r.label)+" ")],1)])}}],null,!1,921874089)})]:e._e(),"colFormItem"===e.activeData.layout?[a("el-divider",[e._v("正则校验")]),e._l(e.activeData.regList,(function(t,r){return a("div",{key:r,staticClass:"reg-item"},[a("span",{staticClass:"close-btn",on:{click:function(t){return e.activeData.regList.splice(r,1)}}},[a("i",{staticClass:"el-icon-close"})]),a("el-form-item",{attrs:{label:"表达式"}},[a("el-input",{attrs:{placeholder:"请输入正则"},model:{value:t.pattern,callback:function(a){e.$set(t,"pattern",a)},expression:"item.pattern"}})],1),a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"错误提示"}},[a("el-input",{attrs:{placeholder:"请输入错误提示"},model:{value:t.message,callback:function(a){e.$set(t,"message",a)},expression:"item.message"}})],1)],1)})),a("div",{staticStyle:{"margin-left":"20px"}},[a("el-button",{attrs:{icon:"el-icon-circle-plus-outline",type:"text"},on:{click:e.addReg}},[e._v(" 添加规则 ")])],1)]:e._e()],2),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"form"===e.currentTab,expression:"currentTab === 'form'"}],attrs:{size:"small","label-width":"90px"}},[a("el-form-item",{attrs:{label:"表单名"}},[a("el-input",{attrs:{placeholder:"请输入表单名（ref）"},model:{value:e.formConf.formRef,callback:function(t){e.$set(e.formConf,"formRef",t)},expression:"formConf.formRef"}})],1),a("el-form-item",{attrs:{label:"表单模型"}},[a("el-input",{attrs:{placeholder:"请输入数据模型"},model:{value:e.formConf.formModel,callback:function(t){e.$set(e.formConf,"formModel",t)},expression:"formConf.formModel"}})],1),a("el-form-item",{attrs:{label:"校验模型"}},[a("el-input",{attrs:{placeholder:"请输入校验模型"},model:{value:e.formConf.formRules,callback:function(t){e.$set(e.formConf,"formRules",t)},expression:"formConf.formRules"}})],1),a("el-form-item",{attrs:{label:"表单尺寸"}},[a("el-radio-group",{model:{value:e.formConf.size,callback:function(t){e.$set(e.formConf,"size",t)},expression:"formConf.size"}},[a("el-radio-button",{attrs:{label:"medium"}},[e._v(" 中等 ")]),a("el-radio-button",{attrs:{label:"small"}},[e._v(" 较小 ")]),a("el-radio-button",{attrs:{label:"mini"}},[e._v(" 迷你 ")])],1)],1),a("el-form-item",{attrs:{label:"标签对齐"}},[a("el-radio-group",{model:{value:e.formConf.labelPosition,callback:function(t){e.$set(e.formConf,"labelPosition",t)},expression:"formConf.labelPosition"}},[a("el-radio-button",{attrs:{label:"left"}},[e._v(" 左对齐 ")]),a("el-radio-button",{attrs:{label:"right"}},[e._v(" 右对齐 ")]),a("el-radio-button",{attrs:{label:"top"}},[e._v(" 顶部对齐 ")])],1)],1),a("el-form-item",{attrs:{label:"标签宽度"}},[a("el-input-number",{attrs:{placeholder:"标签宽度"},model:{value:e.formConf.labelWidth,callback:function(t){e.$set(e.formConf,"labelWidth",t)},expression:"formConf.labelWidth"}})],1),a("el-form-item",{attrs:{label:"栅格间隔"}},[a("el-input-number",{attrs:{min:0,placeholder:"栅格间隔"},model:{value:e.formConf.gutter,callback:function(t){e.$set(e.formConf,"gutter",t)},expression:"formConf.gutter"}})],1),a("el-form-item",{attrs:{label:"禁用表单"}},[a("el-switch",{model:{value:e.formConf.disabled,callback:function(t){e.$set(e.formConf,"disabled",t)},expression:"formConf.disabled"}})],1),a("el-form-item",{attrs:{label:"表单按钮"}},[a("el-switch",{model:{value:e.formConf.formBtns,callback:function(t){e.$set(e.formConf,"formBtns",t)},expression:"formConf.formBtns"}})],1),a("el-form-item",{attrs:{label:"显示未选中组件边框"}},[a("el-switch",{model:{value:e.formConf.unFocusedComponentBorder,callback:function(t){e.$set(e.formConf,"unFocusedComponentBorder",t)},expression:"formConf.unFocusedComponentBorder"}})],1)],1)],1)],1),a("treeNode-dialog",{attrs:{visible:e.dialogVisible,title:"添加选项"},on:{"update:visible":function(t){e.dialogVisible=t},commit:e.addNode}}),a("icons-dialog",{attrs:{visible:e.iconsVisible,current:e.activeData[e.currentIconModel]},on:{"update:visible":function(t){e.iconsVisible=t},select:e.setIcon}})],1)},o=[],l=(a("445a"),a("1f70"),a("989e"),a("cca2"),a("6540"),a("0bd5"),a("79a8"),a("13cf"),a("49a5")),i=a("3335"),s=a.n(i),n=a("c81a"),c=a("ed08"),u=a("d0b2"),d=a("2e2a"),m={date:"yyyy-MM-dd",week:"yyyy 第 WW 周",month:"yyyy-MM",year:"yyyy",datetime:"yyyy-MM-dd HH:mm:ss",daterange:"yyyy-MM-dd",monthrange:"yyyy-MM",datetimerange:"yyyy-MM-dd HH:mm:ss"},p={components:{draggable:s.a,TreeNodeDialog:n["default"],IconsDialog:u["default"]},props:["showField","activeData","formConf"],data:function(){return{currentTab:"field",currentNode:null,dialogVisible:!1,iconsVisible:!1,currentIconModel:null,dateTypeOptions:[{label:"日(date)",value:"date"},{label:"周(week)",value:"week"},{label:"月(month)",value:"month"},{label:"年(year)",value:"year"},{label:"日期时间(datetime)",value:"datetime"}],dateRangeTypeOptions:[{label:"日期范围(daterange)",value:"daterange"},{label:"月范围(monthrange)",value:"monthrange"},{label:"日期时间范围(datetimerange)",value:"datetimerange"}],colorFormatOptions:[{label:"hex",value:"hex"},{label:"rgb",value:"rgb"},{label:"rgba",value:"rgba"},{label:"hsv",value:"hsv"},{label:"hsl",value:"hsl"}],justifyOptions:[{label:"start",value:"start"},{label:"end",value:"end"},{label:"center",value:"center"},{label:"space-around",value:"space-around"},{label:"space-between",value:"space-between"}],layoutTreeProps:{label:function(e,t){return e.componentName||"".concat(e.label,": ").concat(e.vModel)}}}},computed:{documentLink:function(){return this.activeData.document||"https://element.eleme.cn/#/zh-CN/component/installation"},dateOptions:function(){return void 0!==this.activeData.type&&"el-date-picker"===this.activeData.tag?void 0===this.activeData["start-placeholder"]?this.dateTypeOptions:this.dateRangeTypeOptions:[]},tagList:function(){return[{label:"输入型组件",options:d["b"]},{label:"选择型组件",options:d["d"]}]}},methods:{addReg:function(){this.activeData.regList.push({pattern:"",message:""})},addSelectItem:function(){this.activeData.options.push({label:"",value:""})},addTreeItem:function(){++this.idGlobal,this.dialogVisible=!0,this.currentNode=this.activeData.options},renderContent:function(e,t){var a=this,r=t.node,o=t.data;t.store;return e("div",{class:"custom-tree-node"},[e("span",[r.label]),e("span",{class:"node-operation"},[e("i",{on:{click:function(){return a.append(o)}},class:"el-icon-plus",attrs:{title:"添加"}}),e("i",{on:{click:function(){return a.remove(r,o)}},class:"el-icon-delete",attrs:{title:"删除"}})])])},append:function(e){e.children||this.$set(e,"children",[]),this.dialogVisible=!0,this.currentNode=e.children},remove:function(e,t){var a=e.parent,r=a.data.children||a.data,o=r.findIndex((function(e){return e.id===t.id}));r.splice(o,1)},addNode:function(e){this.currentNode.push(e)},setOptionValue:function(e,t){e.value=Object(c["f"])(t)?+t:t},setDefaultValue:function(e){return Array.isArray(e)?e.join(","):["string","number"].indexOf(e)>-1?e:"boolean"===typeof e?"".concat(e):e},onDefaultValueInput:function(e){Object(l["isArray"])(this.activeData.defaultValue)?this.$set(this.activeData,"defaultValue",e.split(",").map((function(e){return Object(c["f"])(e)?+e:e}))):["true","false"].indexOf(e)>-1?this.$set(this.activeData,"defaultValue",JSON.parse(e)):this.$set(this.activeData,"defaultValue",Object(c["f"])(e)?+e:e)},onSwitchValueInput:function(e,t){["true","false"].indexOf(e)>-1?this.$set(this.activeData,t,JSON.parse(e)):this.$set(this.activeData,t,Object(c["f"])(e)?+e:e)},setTimeValue:function(e,t){var a="week"===t?m.date:e;this.$set(this.activeData,"defaultValue",null),this.$set(this.activeData,"value-format",a),this.$set(this.activeData,"format",e)},spanChange:function(e){this.formConf.span=e},multipleChange:function(e){this.$set(this.activeData,"defaultValue",e?[]:"")},dateTypeChange:function(e){this.setTimeValue(m[e],e)},rangeChange:function(e){this.$set(this.activeData,"defaultValue",e?[this.activeData.min,this.activeData.max]:this.activeData.min)},rateTextChange:function(e){e&&(this.activeData["show-score"]=!1)},rateScoreChange:function(e){e&&(this.activeData["show-text"]=!1)},colorFormatChange:function(e){this.activeData.defaultValue=null,this.activeData["show-alpha"]=e.indexOf("a")>-1,this.activeData.renderKey=+new Date},openIconsDialog:function(e){this.iconsVisible=!0,this.currentIconModel=e},setIcon:function(e){this.activeData[this.currentIconModel]=e},tagChange:function(e){var t=d["b"].find((function(t){return t.tagIcon===e}));t||(t=d["d"].find((function(t){return t.tagIcon===e}))),this.$emit("tag-change",t)}}},f=p,h=(a("7b23"),a("cba8")),b=Object(h["a"])(f,r,o,!1,null,"46728d34",null);t["default"]=b.exports},"76f8":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"basic"}},[a("basic-info-form",{ref:"basicInfo",attrs:{info:e.info}})],1),a("el-tab-pane",{attrs:{label:"字段信息",name:"columnInfo"}},[a("el-table",{ref:"dragTable",attrs:{data:e.columns,"row-key":"columnId","max-height":e.tableHeight}},[a("el-table-column",{attrs:{label:"序号",type:"index","min-width":"5%","class-name":"allowDrag"}}),a("el-table-column",{attrs:{label:"字段列名",prop:"columnName","min-width":"10%","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"字段描述","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.columnComment,callback:function(a){e.$set(t.row,"columnComment",a)},expression:"scope.row.columnComment"}})]}}])}),a("el-table-column",{attrs:{label:"物理类型",prop:"columnType","min-width":"10%","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"Java类型","min-width":"11%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.javaType,callback:function(a){e.$set(t.row,"javaType",a)},expression:"scope.row.javaType"}},[a("el-option",{attrs:{label:"Long",value:"Long"}}),a("el-option",{attrs:{label:"String",value:"String"}}),a("el-option",{attrs:{label:"Integer",value:"Integer"}}),a("el-option",{attrs:{label:"Double",value:"Double"}}),a("el-option",{attrs:{label:"BigDecimal",value:"BigDecimal"}}),a("el-option",{attrs:{label:"Date",value:"Date"}})],1)]}}])}),a("el-table-column",{attrs:{label:"java属性","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.javaField,callback:function(a){e.$set(t.row,"javaField",a)},expression:"scope.row.javaField"}})]}}])}),a("el-table-column",{attrs:{label:"插入","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isInsert,callback:function(a){e.$set(t.row,"isInsert",a)},expression:"scope.row.isInsert"}})]}}])}),a("el-table-column",{attrs:{label:"编辑","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isEdit,callback:function(a){e.$set(t.row,"isEdit",a)},expression:"scope.row.isEdit"}})]}}])}),a("el-table-column",{attrs:{label:"列表","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isList,callback:function(a){e.$set(t.row,"isList",a)},expression:"scope.row.isList"}})]}}])}),a("el-table-column",{attrs:{label:"查询","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isQuery,callback:function(a){e.$set(t.row,"isQuery",a)},expression:"scope.row.isQuery"}})]}}])}),a("el-table-column",{attrs:{label:"查询方式","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.queryType,callback:function(a){e.$set(t.row,"queryType",a)},expression:"scope.row.queryType"}},[a("el-option",{attrs:{label:"=",value:"EQ"}}),a("el-option",{attrs:{label:"!=",value:"NE"}}),a("el-option",{attrs:{label:">",value:"GT"}}),a("el-option",{attrs:{label:">=",value:"GTE"}}),a("el-option",{attrs:{label:"<",value:"LT"}}),a("el-option",{attrs:{label:"<=",value:"LTE"}}),a("el-option",{attrs:{label:"LIKE",value:"LIKE"}}),a("el-option",{attrs:{label:"BETWEEN",value:"BETWEEN"}})],1)]}}])}),a("el-table-column",{attrs:{label:"必填","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isRequired,callback:function(a){e.$set(t.row,"isRequired",a)},expression:"scope.row.isRequired"}})]}}])}),a("el-table-column",{attrs:{label:"显示类型","min-width":"12%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.htmlType,callback:function(a){e.$set(t.row,"htmlType",a)},expression:"scope.row.htmlType"}},[a("el-option",{attrs:{label:"文本框",value:"input"}}),a("el-option",{attrs:{label:"文本域",value:"textarea"}}),a("el-option",{attrs:{label:"下拉框",value:"select"}}),a("el-option",{attrs:{label:"单选框",value:"radio"}}),a("el-option",{attrs:{label:"复选框",value:"checkbox"}}),a("el-option",{attrs:{label:"日期控件",value:"datetime"}}),a("el-option",{attrs:{label:"图片上传",value:"imageUpload"}}),a("el-option",{attrs:{label:"文件上传",value:"fileUpload"}}),a("el-option",{attrs:{label:"富文本控件",value:"editor"}})],1)]}}])}),a("el-table-column",{attrs:{label:"字典类型","min-width":"12%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.row.dictType,callback:function(a){e.$set(t.row,"dictType",a)},expression:"scope.row.dictType"}},e._l(e.dictOptions,(function(t){return a("el-option",{key:t.dictType,attrs:{label:t.dictName,value:t.dictType}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.dictName))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.dictType))])])})),1)]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"生成信息",name:"genInfo"}},[a("gen-info-form",{ref:"genInfo",attrs:{info:e.info,tables:e.tables,menus:e.menus}})],1)],1),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{staticStyle:{"text-align":"center","margin-left":"-100px","margin-top":"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.close()}}},[e._v("返回")])],1)],1)],1)},o=[],l=(a("402f"),a("2db5"),a("6ab7"),a("6540"),a("989e"),a("dede"),a("4b72")),i=a("ed45"),s=a("a6dc"),n=a("ed69"),c=a("8586"),u=a("2480"),d={name:"GenEdit",components:{basicInfoForm:n["default"],genInfoForm:c["default"]},data:function(){return{activeName:"columnInfo",tableHeight:document.documentElement.scrollHeight-245+"px",tables:[],columns:[],dictOptions:[],menus:[],info:{}}},created:function(){var e=this,t=this.$route.query&&this.$route.query.tableId;t&&(Object(l["c"])(t).then((function(t){e.columns=t.data.rows,e.info=t.data.info,e.tables=t.data.tables})),Object(i["f"])().then((function(t){e.dictOptions=t.data})),Object(s["d"])().then((function(t){e.menus=e.handleTree(t.data,"menuId")})))},methods:{submitForm:function(){var e=this,t=this.$refs.basicInfo.$refs.basicInfoForm,a=this.$refs.genInfo.$refs.genInfoForm;Promise.all([t,a].map(this.getFormPromise)).then((function(r){var o=r.every((function(e){return!!e}));if(o){var i=Object.assign({},t.model,a.model);i.columns=e.columns,i.params={treeCode:i.treeCode,treeName:i.treeName,treeParentCode:i.treeParentCode,parentMenuId:i.parentMenuId},Object(l["i"])(i).then((function(t){e.$modal.msgSuccess(t.msg),200===t.code&&e.close()}))}else e.$modal.msgError("表单校验未通过，请重新检查提交内容")}))},getFormPromise:function(e){return new Promise((function(t){e.validate((function(e){t(e)}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/tool/gen",query:{t:Date.now(),pageNum:this.$route.query.pageNum}})}},mounted:function(){var e=this,t=this.$refs.dragTable.$el.querySelectorAll(".el-table__body-wrapper > table > tbody")[0];u["default"].create(t,{handle:".allowDrag",onEnd:function(t){var a=e.columns.splice(t.oldIndex,1)[0];for(var r in e.columns.splice(t.newIndex,0,a),e.columns)e.columns[r].sort=parseInt(r)+1}})}},m=d,p=a("cba8"),f=Object(p["a"])(m,r,o,!1,null,null,null);t["default"]=f.exports},7803:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register"},[r("el-container",[r("el-header",[r("el-row",{attrs:{type:"flex",align:"center"}},[r("el-col",{attrs:{span:12,offset:3}},[r("div",{staticClass:"logo"},[r("img",{attrs:{src:a("9d64")}})])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"manual"},[r("span",{staticStyle:{cursor:"pointer"}},[e._v("用户手册")])])])],1)],1),r("el-main",[r("div",{staticClass:"form-contain"},[r("el-tabs",{model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[r("el-tab-pane",{attrs:{label:"企业用户注册",name:"first"}})],1),r("el-row",[r("el-col",{attrs:{span:24}},[r("div",{staticClass:"notice"},[r("i",{staticClass:"el-icon-warning-outline",attrs:{size:"20"}}),r("span",[e._v("为提升账号安全和信任级别，请务必准确填写证件信息")])])])],1),r("div",{staticClass:"form"},[r("el-form",{ref:"registerForm",staticClass:"register-form",attrs:{model:e.registerForm,rules:e.registerRules,"label-width":"180px"}},[r("el-form-item",{attrs:{label:"账户用户名",required:"",prop:"username"}},[r("el-input",{model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}})],1),r("el-form-item",{attrs:{label:"密码",required:"",prop:"password"}},[r("el-input",{attrs:{type:"password"},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}})],1),r("el-form-item",{attrs:{label:"重复密码",required:"",prop:"confirmPassword"}},[r("el-input",{attrs:{type:"password"},model:{value:e.registerForm.confirmPassword,callback:function(t){e.$set(e.registerForm,"confirmPassword",t)},expression:"registerForm.confirmPassword"}})],1),r("el-form-item",{attrs:{label:"企业名称",required:"",prop:"name"}},[r("el-input",{model:{value:e.registerForm.name,callback:function(t){e.$set(e.registerForm,"name",t)},expression:"registerForm.name"}})],1),r("el-form-item",{attrs:{label:"企业社会统一信用代码",required:"",prop:"code"}},[r("el-input",{model:{value:e.registerForm.code,callback:function(t){e.$set(e.registerForm,"code",t)},expression:"registerForm.code"}})],1),r("el-form-item",{attrs:{label:"法定代表人名称",required:"",prop:"link"}},[r("el-input",{model:{value:e.registerForm.link,callback:function(t){e.$set(e.registerForm,"link",t)},expression:"registerForm.link"}})],1),r("el-form-item",{attrs:{label:"法定代表人身份证号",required:"",prop:"linkIdCard"}},[r("el-input",{model:{value:e.registerForm.linkIdCard,callback:function(t){e.$set(e.registerForm,"linkIdCard",t)},expression:"registerForm.linkIdCard"}})],1),r("el-form-item",{attrs:{label:"法定代表人手机号",required:"",prop:"linkMobile",maxlength:"11"}},[r("el-input",{model:{value:e.registerForm.linkMobile,callback:function(t){e.$set(e.registerForm,"linkMobile",t)},expression:"registerForm.linkMobile"}})],1),r("el-checkbox",{staticStyle:{margin:"0px 0px 10px 180px"},model:{value:e.registerForm.rememberMe,callback:function(t){e.$set(e.registerForm,"rememberMe",t)},expression:"registerForm.rememberMe"}},[e._v(" 我已阅读并接受《用户注册条款》 "),r("span")]),r("el-form-item",[r("el-button",{staticStyle:{background:"#0a52c1",width:"100%",height:"50px"},attrs:{type:"primary"},on:{click:e.handleRegister}},[e._v("提交注册")]),r("div",{staticStyle:{"text-align":"center"}},[r("span",[e._v("已有账号？")]),r("router-link",{staticClass:"link-type",attrs:{to:"/login"}},[e._v("立即登录账号")])],1)],1)],1)],1)],1)]),r("el-footer",[r("div",{staticClass:"el-login-footer"},[e._v(" 版权所有：晋城市市场监督管理总局 ")])])],1)],1)},o=[],l=a("7ded"),i={name:"Register",data:function(){var e=this,t=function(t,a,r){e.registerForm.password!==a?r(new Error("两次输入的密码不一致")):r()},a=function(e,t,a){""===t?a(new Error("手机号不能为空")):/^1\d{10}$/.test(t)?a():a(new Error("手机号格式错误"))},r=function(e,t,a){return t?/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(t)?a():void a(new Error("身份证号格式错误")):a()};return{active:"first",codeUrl:"",registerForm:{username:"",password:"",confirmPassword:"",code:"",uuid:""},registerRules:{username:[{required:!0,trigger:["blur","change"],message:"请输入您的账号"},{min:6,max:20,message:"用户账号长度必须介于 6 和 20 之间",trigger:["blur","change"]},,],password:[{required:!0,trigger:["blur","change"],message:"请输入您的密码"},{min:8,max:18,message:"用户密码长度必须介于 8 和 18 之间",trigger:["blur","change"]},{pattern:/^(?![A-Za-z]+$)(?![A-Z\d]+$)(?![A-Z\W]+$)(?![a-z\d]+$)(?![a-z\W]+$)(?![\d\W]+$)/,message:"密码包括数字、大小写字母和特殊字符三种及以上",trigger:["blur","change"]}],confirmPassword:[{required:!0,trigger:["blur","change"],message:"请再次输入您的密码"},{required:!0,validator:t,trigger:["blur","change"]}],name:[{required:!0,trigger:["blur","change"],message:"请输入企业名称"}],code:[{required:!0,trigger:["blur","change"],message:"请输入企业社会统一信用代码"}],compName:[{required:!0,trigger:["blur","change"],message:"请输入企业统一社会信用代码"}],link:[{required:!0,trigger:["blur","change"],message:"请输入法定代表人姓名"}],linkIdCard:[{required:!0,trigger:["blur","change"],message:"请输入法定代表人身份证号码"},{required:!0,validator:r,trigger:["blur","change"]}],linkMobile:[{required:!0,trigger:["blur","change"],message:"请输入法定代表人手机号码"},{required:!0,validator:a,trigger:["blur","change"]}]},loading:!1,captchaOnOff:!0}},created:function(){},methods:{getCode:function(){var e=this;Object(l["a"])().then((function(t){e.captchaOnOff=void 0===t.captchaOnOff||t.captchaOnOff,e.captchaOnOff&&(e.codeUrl="data:image/gif;base64,"+t.img,e.registerForm.uuid=t.uuid)}))},handleRegister:function(){var e=this;this.$refs.registerForm.validate((function(t){t&&(e.loading=!0,Object(l["e"])(e.registerForm).then((function(t){var a=e.registerForm.username;e.$alert("<font color='red'>恭喜你，您的账号 "+a+" 注册成功！</font>","系统提示",{dangerouslyUseHTMLString:!0}).then((function(){e.$router.push("/login")})).catch((function(){}))})).catch((function(){e.loading=!1})))}))}}},s=i,n=(a("ff4e"),a("cba8")),c=Object(n["a"])(s,r,o,!1,null,"3d5723b0",null);t["default"]=c.exports},7808:function(e,t,a){"use strict";a("edf0")},7855:function(e,t,a){"use strict";a("9f78")},"79b1":function(e,t,a){"use strict";a.d(t,"f",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return s})),a.d(t,"e",(function(){return n})),a.d(t,"d",(function(){return c}));var r=a("b775");function o(e){return Object(r["a"])({url:"/comp/c-company/list",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/cases/ca-case/get/".concat(e),method:"get"})}function i(e){return Object(r["a"])({url:"/cases/ca-case/submitToVerify",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/cases/ca-case/cancelVerify",method:"post",data:e})}function n(e){return Object(r["a"])({url:"/cases/ca-case-official/list",method:"get",params:e})}function c(e){return Object(r["a"])({url:"/cases/ca-case/listByCompanyID",method:"get",params:e})}},"7b23":function(e,t,a){"use strict";a("3adc")},"7b80":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.addCategory}},[e._v("添加商品分类 ")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.Modeler,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"分类名称",prop:"label"}}),a("el-table-column",{attrs:{label:"排序值",prop:"sortz"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("编辑 ")]),t.row.children?e._e():a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除 ")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e.open?a("el-dialog",{attrs:{visible:e.open,width:"800px",title:"添加商品分类","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t},close:e.modelCancel}},[a("el-form",{ref:"categoryForm",staticClass:"demo-ruleForm",attrs:{model:e.categoryForm,rules:e.rules,"label-width":"130px"}},[a("el-form-item",{attrs:{label:"上级分类",prop:"parentId"}},[a("treeselect",{attrs:{options:e.Modeler,normalizer:e.normalizer,"show-count":!0,placeholder:"请选择上级分类",noResultsText:"无匹配数据",noOptionsText:"暂无数据"},model:{value:e.categoryForm.parentId,callback:function(t){e.$set(e.categoryForm,"parentId",t)},expression:"categoryForm.parentId"}})],1),a("el-form-item",{attrs:{label:"分类名称：",prop:"cate"}},[a("el-input",{attrs:{placeholder:"请输入分类名称"},model:{value:e.categoryForm.cate,callback:function(t){e.$set(e.categoryForm,"cate",t)},expression:"categoryForm.cate"}})],1),a("el-form-item",{attrs:{label:"排序值：",prop:"sortz"}},[a("el-input-number",{attrs:{"controls-position":"right",min:1,max:10},on:{change:e.handleChange},model:{value:e.categoryForm.sortz,callback:function(t){e.$set(e.categoryForm,"sortz",t)},expression:"categoryForm.sortz"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("保存")]),a("el-button",{on:{click:e.modelCancel}},[e._v("取消")])],1)],1):e._e(),e.openEdit?a("el-dialog",{attrs:{visible:e.openEdit,width:"800px",title:"修改商品分类","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.openEdit=t},close:e.modelCancel}},[a("el-form",{ref:"categoryFormEdit",staticClass:"demo-ruleForm",attrs:{model:e.categoryFormEdit,rules:e.rulesEdit,"label-width":"130px",inline:!0}},[a("el-form-item",{attrs:{label:"上级分类"}},[a("div",[e._v(e._s(e.categoryFormEdit.pcate))])]),a("el-form-item",{attrs:{label:"分类名称：",prop:"label"}},[a("el-input",{attrs:{placeholder:"请输入分类名称"},model:{value:e.categoryFormEdit.cate,callback:function(t){e.$set(e.categoryFormEdit,"cate",t)},expression:"categoryFormEdit.cate"}})],1),a("el-form-item",{attrs:{label:"排序值：",prop:"sortz"}},[a("el-input-number",{attrs:{"controls-position":"right",min:1,max:10},on:{change:e.handleChange},model:{value:e.categoryFormEdit.sortz,callback:function(t){e.$set(e.categoryFormEdit,"sortz",t)},expression:"categoryFormEdit.sortz"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFormEdit}},[e._v("保存")]),a("el-button",{on:{click:e.modelCancel}},[e._v("取消")])],1)],1):e._e()],1)},o=[],l=a("17b3"),i=(a("5f87"),a("7d66")),s=a.n(i),n=(a("5166"),{components:{Treeselect:s.a},data:function(){return{loading:!1,loadingUserList:!1,showSearch:!0,total:0,totalUserList:0,Modeler:[],userList:[],title:"",titleUser:"",open:!1,openEdit:!1,userOpen:!1,openUserList:!1,queryParams:{pageNum:1,pageSize:10,isBlack:0,certCode:"",mobile:"",companyId:this.$store.state.user.companyInfo.companyId},queryParamsUserList:{pageNum:1,pageSize:6,staffId:""},categoryForm:{},categoryFormEdit:{},rules:{cate:[{required:!0,message:"请输入分类名称",trigger:"blur"}]},rulesEdit:{cate:[{required:!0,message:"请输入分类名称",trigger:"blur"}]}}},mounted:function(){this.getList()},methods:{normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.label,children:e.children}},getList:function(){var e=this;this.loading=!0,Object(l["e"])().then((function(t){e.Modeler=t.data,e.loading=!1}))},handleChange:function(e){console.log(e)},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleDelete:function(e){var t=this;this.$confirm("是否确认删除所选信息?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["b"])(e.id)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},modelCancel:function(){this.reset(),this.open=!1,this.openEdit=!1},addCategory:function(){this.reset(),this.open=!0},handleUpdate:function(e){var t=this;this.reset(),Object(l["d"])(e.id).then((function(e){t.categoryFormEdit=e.data,t.openEdit=!0}))},submitForm:function(){var e=this;this.$refs["categoryForm"].validate((function(t){t&&Object(l["a"])(e.categoryForm).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()}))}))},submitFormEdit:function(){var e=this;this.$refs["categoryFormEdit"].validate((function(t){t&&Object(l["c"])(e.categoryFormEdit).then((function(t){e.msgSuccess("新增成功"),e.openEdit=!1,e.getList()}))}))},reset:function(){this.categoryForm={cate:"",sortz:"",companyId:""},this.categoryFormEdit={cate:"",sortz:"",companyId:""},this.resetForm("categoryForm"),this.resetForm("categoryFormEdit")}}}),c=n,u=(a("687f"),a("cba8")),d=Object(u["a"])(c,r,o,!1,null,"7190a56f",null);t["default"]=d.exports},"7c4f":function(e,t,a){"use strict";a("dca2")},"7d61":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("router-view")],1)},o=[],l={data:function(){return{}},mounted:function(){}},i=l,s=a("cba8"),n=Object(s["a"])(i,r,o,!1,null,"bc4f3ca6",null);t["default"]=n.exports},"7d75":function(e,t,a){"use strict";a("5650")},"80de":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return makeUpJs}));var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("270f"),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("cca2"),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("445a"),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("fae2"),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_3__),util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("49a5"),util__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(util__WEBPACK_IMPORTED_MODULE_4__),_utils_index__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("ed08"),_config__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("2e2a"),units={KB:"1024",MB:"1024 / 1024",GB:"1024 / 1024 / 1024"},confGlobal,inheritAttrs={file:"",dialog:"inheritAttrs: false,"};function makeUpJs(e,t){confGlobal=e=JSON.parse(JSON.stringify(e));var a=[],r=[],o=[],l=[],i=mixinMethod(t),s=[];e.fields.forEach((function(e){buildAttributes(e,a,r,o,i,l,s)}));var n=buildexport(e,t,a.join("\n"),r.join("\n"),o.join("\n"),s.join("\n"),l.join("\n"),i.join("\n"));return confGlobal=null,n}function buildAttributes(e,t,a,r,o,l,i){if(buildData(e,t),buildRules(e,a),e.options&&e.options.length&&(buildOptions(e,r),"dynamic"===e.dataType)){var s="".concat(e.vModel,"Options"),n=Object(_utils_index__WEBPACK_IMPORTED_MODULE_5__["i"])(s);buildOptionMethod("get".concat(n),s,o)}e.props&&e.props.props&&buildProps(e,l),e.action&&"el-upload"===e.tag&&(i.push("".concat(e.vModel,"Action: '").concat(e.action,"',\n      ").concat(e.vModel,"fileList: [],")),o.push(buildBeforeUpload(e)),e["auto-upload"]||o.push(buildSubmitUpload(e))),e.children&&e.children.forEach((function(e){buildAttributes(e,t,a,r,o,l,i)}))}function mixinMethod(e){var t=[],a={file:confGlobal.formBtns?{submitForm:"submitForm() {\n        this.$refs['".concat(confGlobal.formRef,"'].validate(valid => {\n          if(!valid) return\n          // TODO 提交表单\n        })\n      },"),resetForm:"resetForm() {\n        this.$refs['".concat(confGlobal.formRef,"'].resetFields()\n      },")}:null,dialog:{onOpen:"onOpen() {},",onClose:"onClose() {\n        this.$refs['".concat(confGlobal.formRef,"'].resetFields()\n      },"),close:"close() {\n        this.$emit('update:visible', false)\n      },",handelConfirm:"handelConfirm() {\n        this.$refs['".concat(confGlobal.formRef,"'].validate(valid => {\n          if(!valid) return\n          this.close()\n        })\n      },")}},r=a[e];return r&&Object.keys(r).forEach((function(e){t.push(r[e])})),t}function buildData(e,t){var a;void 0!==e.vModel&&(a="string"!==typeof e.defaultValue||e.multiple?"".concat(JSON.stringify(e.defaultValue)):"'".concat(e.defaultValue,"'"),t.push("".concat(e.vModel,": ").concat(a,",")))}function buildRules(conf,ruleList){if(void 0!==conf.vModel){var rules=[];if(_config__WEBPACK_IMPORTED_MODULE_6__["e"][conf.tag]){if(conf.required){var type=Object(util__WEBPACK_IMPORTED_MODULE_4__["isArray"])(conf.defaultValue)?"type: 'array',":"",message=Object(util__WEBPACK_IMPORTED_MODULE_4__["isArray"])(conf.defaultValue)?"请至少选择一个".concat(conf.vModel):conf.placeholder;void 0===message&&(message="".concat(conf.label,"不能为空")),rules.push("{ required: true, ".concat(type," message: '").concat(message,"', trigger: '").concat(_config__WEBPACK_IMPORTED_MODULE_6__["e"][conf.tag],"' }"))}conf.regList&&Object(util__WEBPACK_IMPORTED_MODULE_4__["isArray"])(conf.regList)&&conf.regList.forEach((function(item){item.pattern&&rules.push("{ pattern: ".concat(eval(item.pattern),", message: '").concat(item.message,"', trigger: '").concat(_config__WEBPACK_IMPORTED_MODULE_6__["e"][conf.tag],"' }"))})),ruleList.push("".concat(conf.vModel,": [").concat(rules.join(","),"],"))}}}function buildOptions(e,t){if(void 0!==e.vModel){"dynamic"===e.dataType&&(e.options=[]);var a="".concat(e.vModel,"Options: ").concat(JSON.stringify(e.options),",");t.push(a)}}function buildProps(e,t){"dynamic"===e.dataType&&("value"!==e.valueKey&&(e.props.props.value=e.valueKey),"label"!==e.labelKey&&(e.props.props.label=e.labelKey),"children"!==e.childrenKey&&(e.props.props.children=e.childrenKey));var a="".concat(e.vModel,"Props: ").concat(JSON.stringify(e.props.props),",");t.push(a)}function buildBeforeUpload(e){var t=units[e.sizeUnit],a="",r="",o=[];e.fileSize&&(a="let isRightSize = file.size / ".concat(t," < ").concat(e.fileSize,"\n    if(!isRightSize){\n      this.$message.error('文件大小超过 ").concat(e.fileSize).concat(e.sizeUnit,"')\n    }"),o.push("isRightSize")),e.accept&&(r="let isAccept = new RegExp('".concat(e.accept,"').test(file.type)\n    if(!isAccept){\n      this.$message.error('应该选择").concat(e.accept,"类型的文件')\n    }"),o.push("isAccept"));var l="".concat(e.vModel,"BeforeUpload(file) {\n    ").concat(a,"\n    ").concat(r,"\n    return ").concat(o.join("&&"),"\n  },");return o.length?l:""}function buildSubmitUpload(e){var t="submitUpload() {\n    this.$refs['".concat(e.vModel,"'].submit()\n  },");return t}function buildOptionMethod(e,t,a){var r="".concat(e,"() {\n    // TODO 发起请求获取数据\n    this.").concat(t,"\n  },");a.push(r)}function buildexport(e,t,a,r,o,l,i,s){var n="".concat(_utils_index__WEBPACK_IMPORTED_MODULE_5__["d"],"{\n  ").concat(inheritAttrs[t],"\n  components: {},\n  props: [],\n  data () {\n    return {\n      ").concat(e.formModel,": {\n        ").concat(a,"\n      },\n      ").concat(e.formRules,": {\n        ").concat(r,"\n      },\n      ").concat(l,"\n      ").concat(o,"\n      ").concat(i,"\n    }\n  },\n  computed: {},\n  watch: {},\n  created () {},\n  mounted () {},\n  methods: {\n    ").concat(s,"\n  }\n}");return n}},"80ea":function(e,t,a){},"823a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3}},on:{input:e.input},model:{value:e.notes,callback:function(t){e.notes=t},expression:"notes"}})],1)},o=[],l={props:{value:{type:String,required:!0}},data:function(){return{notes:""}},methods:{input:function(e){this.$emit("notes",this.notes)}},watch:{value:function(){this.notes=this.value}}},i=l,s=a("cba8"),n=Object(s["a"])(i,r,o,!1,null,"2d7d0e7e",null);t["default"]=n.exports},"82c8":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"表名称",prop:"tableName"}},[a("el-input",{attrs:{placeholder:"请输入表名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableName,callback:function(t){e.$set(e.queryParams,"tableName",t)},expression:"queryParams.tableName"}})],1),a("el-form-item",{attrs:{label:"表描述",prop:"tableComment"}},[a("el-input",{attrs:{placeholder:"请输入表描述",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableComment,callback:function(t){e.$set(e.queryParams,"tableComment",t)},expression:"queryParams.tableComment"}})],1),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:code"],expression:"['tool:gen:code']"}],attrs:{type:"primary",plain:"",icon:"el-icon-download",size:"mini"},on:{click:e.handleGenTable}},[e._v("生成")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:import"],expression:"['tool:gen:import']"}],attrs:{type:"info",plain:"",icon:"el-icon-upload",size:"mini"},on:{click:e.openImportTable}},[e._v("导入")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:edit"],expression:"['tool:gen:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleEditTable}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:remove"],expression:"['tool:gen:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"center",width:"55"}}),a("el-table-column",{attrs:{label:"序号",type:"index",width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s((e.queryParams.pageNum-1)*e.queryParams.pageSize+t.$index+1))])]}}])}),a("el-table-column",{attrs:{label:"表名称",align:"center",prop:"tableName","show-overflow-tooltip":!0,width:"120"}}),a("el-table-column",{attrs:{label:"表描述",align:"center",prop:"tableComment","show-overflow-tooltip":!0,width:"120"}}),a("el-table-column",{attrs:{label:"实体",align:"center",prop:"className","show-overflow-tooltip":!0,width:"120"}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"160"}}),a("el-table-column",{attrs:{label:"更新时间",align:"center",prop:"updateTime",width:"160"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:preview"],expression:"['tool:gen:preview']"}],attrs:{type:"text",size:"small",icon:"el-icon-view"},on:{click:function(a){return e.handlePreview(t.row)}}},[e._v("预览")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:edit"],expression:"['tool:gen:edit']"}],attrs:{type:"text",size:"small",icon:"el-icon-edit"},on:{click:function(a){return e.handleEditTable(t.row)}}},[e._v("编辑")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:remove"],expression:"['tool:gen:remove']"}],attrs:{type:"text",size:"small",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:edit"],expression:"['tool:gen:edit']"}],attrs:{type:"text",size:"small",icon:"el-icon-refresh"},on:{click:function(a){return e.handleSynchDb(t.row)}}},[e._v("同步")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:code"],expression:"['tool:gen:code']"}],attrs:{type:"text",size:"small",icon:"el-icon-download"},on:{click:function(a){return e.handleGenTable(t.row)}}},[e._v("生成代码")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{staticClass:"scrollbar",attrs:{title:e.preview.title,visible:e.preview.open,width:"80%",top:"5vh","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){return e.$set(e.preview,"open",t)}}},[a("el-tabs",{model:{value:e.preview.activeName,callback:function(t){e.$set(e.preview,"activeName",t)},expression:"preview.activeName"}},e._l(e.preview.data,(function(t,r){return a("el-tab-pane",{key:r,attrs:{label:r.substring(r.lastIndexOf("/")+1,r.indexOf(".vm")),name:r.substring(r.lastIndexOf("/")+1,r.indexOf(".vm"))}},[a("pre",[a("code",{staticClass:"hljs",domProps:{innerHTML:e._s(e.highlightedCode(t,r))}})])])})),1)],1),a("import-table",{ref:"import",on:{ok:e.handleQuery}})],1)},o=[],l=(a("d0bf"),a("6540"),a("4b72")),i=a("6f72"),s=a("503f"),n=a.n(s);a("ca76");n.a.registerLanguage("java",a("f0a7")),n.a.registerLanguage("xml",a("fed8")),n.a.registerLanguage("html",a("fed8")),n.a.registerLanguage("vue",a("fed8")),n.a.registerLanguage("javascript",a("6115")),n.a.registerLanguage("sql",a("9df8"));var c={name:"Gen",components:{importTable:i["default"]},data:function(){return{loading:!0,uniqueId:"",ids:[],tableNames:[],single:!0,multiple:!0,showSearch:!0,total:0,tableList:[],dateRange:"",queryParams:{pageNum:1,pageSize:10,tableName:void 0,tableComment:void 0},preview:{open:!1,title:"代码预览",data:{},activeName:"domain.java"}}},created:function(){this.getList()},activated:function(){var e=this.$route.query.t;null!=e&&e!=this.uniqueId&&(this.uniqueId=e,this.queryParams.pageNum=Number(this.$route.query.pageNum),this.getList())},methods:{getList:function(){var e=this;this.loading=!0,Object(l["f"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.tableList=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},handleGenTable:function(e){var t=this,a=e.tableName||this.tableNames;""!=a?"1"===e.genType?Object(l["b"])(e.tableName).then((function(a){t.$modal.msgSuccess("成功生成到自定义路径："+e.genPath)})):this.$download.zip("/tool/gen/batchGenCode?tables="+a,"ruoyi"):this.$modal.msgError("请选择要生成的数据")},handleSynchDb:function(e){var t=this,a=e.tableName;this.$modal.confirm('确认要强制同步"'+a+'"表结构吗？').then((function(){return Object(l["h"])(a)})).then((function(){t.$modal.msgSuccess("同步成功")})).catch((function(){}))},openImportTable:function(){this.$refs.import.show()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handlePreview:function(e){var t=this;Object(l["g"])(e.tableId).then((function(e){t.preview.data=e.data,t.preview.open=!0,t.preview.activeName="domain.java"}))},highlightedCode:function(e,t){var a=t.substring(t.lastIndexOf("/")+1,t.indexOf(".vm")),r=a.substring(a.indexOf(".")+1,a.length),o=n.a.highlight(r,e||"",!0);return o.value||"&nbsp;"},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.tableId})),this.tableNames=e.map((function(e){return e.tableName})),this.single=1!=e.length,this.multiple=!e.length},handleEditTable:function(e){var t=e.tableId||this.ids[0];this.$router.push({path:"/tool/gen-edit/index",query:{tableId:t,pageNum:this.queryParams.pageNum}})},handleDelete:function(e){var t=this,a=e.tableId||this.ids;this.$modal.confirm('是否确认删除表编号为"'+a+'"的数据项？').then((function(){return Object(l["a"])(a)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))}}},u=c,d=a("cba8"),m=Object(d["a"])(u,r,o,!1,null,null,null);t["default"]=m.exports},"83f1":function(e,t,a){"use strict";a.d(t,"p",(function(){return o})),a.d(t,"r",(function(){return l})),a.d(t,"q",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"f",(function(){return n})),a.d(t,"e",(function(){return c})),a.d(t,"d",(function(){return u})),a.d(t,"m",(function(){return d})),a.d(t,"s",(function(){return m})),a.d(t,"t",(function(){return p})),a.d(t,"E",(function(){return f})),a.d(t,"A",(function(){return h})),a.d(t,"D",(function(){return b})),a.d(t,"C",(function(){return v})),a.d(t,"B",(function(){return g})),a.d(t,"l",(function(){return y})),a.d(t,"h",(function(){return k})),a.d(t,"k",(function(){return _})),a.d(t,"j",(function(){return w})),a.d(t,"i",(function(){return x})),a.d(t,"J",(function(){return C})),a.d(t,"F",(function(){return I})),a.d(t,"I",(function(){return S})),a.d(t,"H",(function(){return O})),a.d(t,"G",(function(){return j})),a.d(t,"O",(function(){return $})),a.d(t,"K",(function(){return q})),a.d(t,"N",(function(){return D})),a.d(t,"M",(function(){return N})),a.d(t,"L",(function(){return L})),a.d(t,"T",(function(){return P})),a.d(t,"P",(function(){return T})),a.d(t,"S",(function(){return F})),a.d(t,"R",(function(){return z})),a.d(t,"Q",(function(){return A})),a.d(t,"n",(function(){return E})),a.d(t,"a",(function(){return U})),a.d(t,"b",(function(){return M})),a.d(t,"o",(function(){return V})),a.d(t,"u",(function(){return Q})),a.d(t,"w",(function(){return R})),a.d(t,"g",(function(){return B})),a.d(t,"z",(function(){return G})),a.d(t,"y",(function(){return H})),a.d(t,"x",(function(){return K}));var r=a("b775");function o(e){return Object(r["a"])({url:"/base/b-comp-type/list",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/base/b-nature/list",method:"get",params:e})}function i(e){return Object(r["a"])({url:"/base/b-licence-type/list",method:"get",params:e})}function s(e){return Object(r["a"])({url:"/comp/c-company/add",method:"post",data:e})}function n(e){return Object(r["a"])({url:"/comp/c-company/list",method:"get",params:e})}function c(e){return Object(r["a"])({url:"/comp/c-company/get/"+e,method:"get"})}function u(e){return Object(r["a"])({url:"/comp/c-company/edit",method:"post",data:e})}function d(e){return Object(r["a"])({url:"/comp/c-leader/getByCompanyId",method:"get",params:e})}function m(e){return Object(r["a"])({url:"/comp/c-leader/add",method:"post",data:e})}function p(e){return Object(r["a"])({url:"/comp/c-leader/edit",method:"post",data:e})}function f(e){return Object(r["a"])({url:"/comp/c-safer/list",method:"get",params:e})}function h(e){return Object(r["a"])({url:"/comp/c-safer/add",method:"post",data:e})}function b(e){return Object(r["a"])({url:"/comp/c-safer/get/"+e,method:"get"})}function v(e){return Object(r["a"])({url:"/comp/c-safer/edit",method:"post",data:e})}function g(e){return Object(r["a"])({url:"/comp/c-safer/delete/"+e,method:"get"})}function y(e){return Object(r["a"])({url:"/comp/c-device/list",method:"get",params:e})}function k(e){return Object(r["a"])({url:"/comp/c-device/add",method:"post",data:e})}function _(e){return Object(r["a"])({url:"/comp/c-device/get/"+e,method:"get"})}function w(e){return Object(r["a"])({url:"/comp/c-device/edit",method:"post",data:e})}function x(e){return Object(r["a"])({url:"/comp/c-device/delete/"+e,method:"get"})}function C(e){return Object(r["a"])({url:"/comp/c-staff/list",method:"get",params:e})}function I(e){return Object(r["a"])({url:"/comp/c-staff/add",method:"post",data:e})}function S(e){return Object(r["a"])({url:"/comp/c-staff/get/"+e,method:"get"})}function O(e){return Object(r["a"])({url:"/comp/c-staff/edit",method:"post",data:e})}function j(e){return Object(r["a"])({url:"/comp/c-staff/delete/"+e,method:"get"})}function $(e){return Object(r["a"])({url:"/comp/c-store/list",method:"get",params:e})}function q(e){return Object(r["a"])({url:"/comp/c-store/add",method:"post",data:e})}function D(e){return Object(r["a"])({url:"/comp/c-store/get/"+e,method:"get"})}function N(e){return Object(r["a"])({url:"/comp/c-store/edit",method:"post",data:e})}function L(e){return Object(r["a"])({url:"/comp/c-store/delete/"+e,method:"get"})}function P(e){return Object(r["a"])({url:"/comp/c-truck/list",method:"get",params:e})}function T(e){return Object(r["a"])({url:"/comp/c-truck/add",method:"post",data:e})}function F(e){return Object(r["a"])({url:"/comp/c-truck/get/"+e,method:"get"})}function z(e){return Object(r["a"])({url:"/comp/c-truck/edit",method:"post",data:e})}function A(e){return Object(r["a"])({url:"/comp/c-truck/delete/"+e,method:"get"})}function E(e){return Object(r["a"])({url:"/comp/c-cert/getByCompanyId",method:"get",params:e})}function U(e){return Object(r["a"])({url:"/comp/c-cert/add",method:"post",data:e})}function M(e){return Object(r["a"])({url:"/comp/c-cert/edit",method:"post",data:e})}function V(e){return Object(r["a"])({url:"/comp/c-permit/getByCompanyId",method:"get",params:e})}function Q(e){return Object(r["a"])({url:"/comp/c-permit/add",method:"post",data:e})}function R(e){return Object(r["a"])({url:"/comp/c-staff-permit/edit",method:"post",data:e})}function B(e){return Object(r["a"])({url:"/comp/c-company-user/list",method:"get",params:e})}function G(e){return Object(r["a"])({url:"/base/b-permit-type/list",method:"get",params:e})}function H(e){return Object(r["a"])({url:"/comp/c-staff-permit/list",method:"get",params:e})}function K(e){return Object(r["a"])({url:"/comp/c-staff-permit/get/"+e,method:"get"})}},"83f9":function(e,t,a){},8586:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"genInfoForm",attrs:{model:e.info,rules:e.rules,"label-width":"150px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"tplCategory"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("生成模板")]),a("el-select",{on:{change:e.tplSelectChange},model:{value:e.info.tplCategory,callback:function(t){e.$set(e.info,"tplCategory",t)},expression:"info.tplCategory"}},[a("el-option",{attrs:{label:"单表（增删改查）",value:"crud"}}),a("el-option",{attrs:{label:"树表（增删改查）",value:"tree"}}),a("el-option",{attrs:{label:"主子表（增删改查）",value:"sub"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"packageName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 生成包路径 "),a("el-tooltip",{attrs:{content:"生成在哪个java包下，例如 com.ruoyi.system",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{model:{value:e.info.packageName,callback:function(t){e.$set(e.info,"packageName",t)},expression:"info.packageName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"moduleName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 生成模块名 "),a("el-tooltip",{attrs:{content:"可理解为子系统名，例如 system",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{model:{value:e.info.moduleName,callback:function(t){e.$set(e.info,"moduleName",t)},expression:"info.moduleName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"businessName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 生成业务名 "),a("el-tooltip",{attrs:{content:"可理解为功能英文名，例如 user",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{model:{value:e.info.businessName,callback:function(t){e.$set(e.info,"businessName",t)},expression:"info.businessName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"functionName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 生成功能名 "),a("el-tooltip",{attrs:{content:"用作类描述，例如 用户",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{model:{value:e.info.functionName,callback:function(t){e.$set(e.info,"functionName",t)},expression:"info.functionName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 上级菜单 "),a("el-tooltip",{attrs:{content:"分配到指定菜单下，例如 系统管理",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("treeselect",{attrs:{"append-to-body":!0,options:e.menus,normalizer:e.normalizer,"show-count":!0,placeholder:"请选择系统菜单"},model:{value:e.info.parentMenuId,callback:function(t){e.$set(e.info,"parentMenuId",t)},expression:"info.parentMenuId"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"genType"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 生成代码方式 "),a("el-tooltip",{attrs:{content:"默认为zip压缩包下载，也可以自定义生成路径",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-radio",{attrs:{label:"0"},model:{value:e.info.genType,callback:function(t){e.$set(e.info,"genType",t)},expression:"info.genType"}},[e._v("zip压缩包")]),a("el-radio",{attrs:{label:"1"},model:{value:e.info.genType,callback:function(t){e.$set(e.info,"genType",t)},expression:"info.genType"}},[e._v("自定义路径")])],1)],1),"1"==e.info.genType?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"genPath"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 自定义路径 "),a("el-tooltip",{attrs:{content:"填写磁盘绝对路径，若不填写，则生成到当前Web项目下",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{model:{value:e.info.genPath,callback:function(t){e.$set(e.info,"genPath",t)},expression:"info.genPath"}},[a("el-dropdown",{attrs:{slot:"append"},slot:"append"},[a("el-button",{attrs:{type:"primary"}},[e._v(" 最近路径快速选择 "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(t){e.info.genPath="/"}}},[e._v("恢复默认的生成基础路径")])],1)],1)],1)],1)],1):e._e()],1),a("el-row",{directives:[{name:"show",rawName:"v-show",value:"tree"==e.info.tplCategory,expression:"info.tplCategory == 'tree'"}]},[a("h4",{staticClass:"form-header"},[e._v("其他信息")]),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 树编码字段 "),a("el-tooltip",{attrs:{content:"树显示的编码字段名， 如：dept_id",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeCode,callback:function(t){e.$set(e.info,"treeCode",t)},expression:"info.treeCode"}},e._l(e.info.columns,(function(e,t){return a("el-option",{key:t,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 树父编码字段 "),a("el-tooltip",{attrs:{content:"树显示的父编码字段名， 如：parent_Id",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeParentCode,callback:function(t){e.$set(e.info,"treeParentCode",t)},expression:"info.treeParentCode"}},e._l(e.info.columns,(function(e,t){return a("el-option",{key:t,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 树名称字段 "),a("el-tooltip",{attrs:{content:"树节点的显示名称字段名， 如：dept_name",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeName,callback:function(t){e.$set(e.info,"treeName",t)},expression:"info.treeName"}},e._l(e.info.columns,(function(e,t){return a("el-option",{key:t,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})})),1)],1)],1)],1),a("el-row",{directives:[{name:"show",rawName:"v-show",value:"sub"==e.info.tplCategory,expression:"info.tplCategory == 'sub'"}]},[a("h4",{staticClass:"form-header"},[e._v("关联信息")]),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 关联子表的表名 "),a("el-tooltip",{attrs:{content:"关联子表的表名， 如：sys_user",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.subSelectChange},model:{value:e.info.subTableName,callback:function(t){e.$set(e.info,"subTableName",t)},expression:"info.subTableName"}},e._l(e.tables,(function(e,t){return a("el-option",{key:t,attrs:{label:e.tableName+"："+e.tableComment,value:e.tableName}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 子表关联的外键名 "),a("el-tooltip",{attrs:{content:"子表关联的外键名， 如：user_id",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.subTableFkName,callback:function(t){e.$set(e.info,"subTableFkName",t)},expression:"info.subTableFkName"}},e._l(e.subColumns,(function(e,t){return a("el-option",{key:t,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})})),1)],1)],1)],1)],1)},o=[],l=a("7d66"),i=a.n(l),s=(a("5166"),{name:"BasicInfoForm",components:{Treeselect:i.a},props:{info:{type:Object,default:null},tables:{type:Array,default:null},menus:{type:Array,default:[]}},data:function(){return{subColumns:[],rules:{tplCategory:[{required:!0,message:"请选择生成模板",trigger:"blur"}],packageName:[{required:!0,message:"请输入生成包路径",trigger:"blur"}],moduleName:[{required:!0,message:"请输入生成模块名",trigger:"blur"}],businessName:[{required:!0,message:"请输入生成业务名",trigger:"blur"}],functionName:[{required:!0,message:"请输入生成功能名",trigger:"blur"}]}}},created:function(){},watch:{"info.subTableName":function(e){this.setSubTableColumns(e)}},methods:{normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.menuId,label:e.menuName,children:e.children}},subSelectChange:function(e){this.info.subTableFkName=""},tplSelectChange:function(e){"sub"!==e&&(this.info.subTableName="",this.info.subTableFkName="")},setSubTableColumns:function(e){for(var t in this.tables){var a=this.tables[t].tableName;if(e===a){this.subColumns=this.tables[t].columns;break}}}}}),n=s,c=a("cba8"),u=Object(c["a"])(n,r,o,!1,null,null,null);t["default"]=u.exports},8841:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-input",{on:{input:e.input},model:{value:e.mcount,callback:function(t){e.mcount=t},expression:"mcount"}})],1)},o=[],l={props:{value:{type:String,required:!0}},data:function(){return{mcount:""}},methods:{input:function(e){this.$emit("mcount",this.mcount)}},watch:{value:function(){this.mcount=this.value}}},i=l,s=a("cba8"),n=Object(s["a"])(i,r,o,!1,null,"334f97b8",null);t["default"]=n.exports},"896d":function(e,t,a){"use strict";a("13f6")},"89e6":function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"h",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return n})),a.d(t,"g",(function(){return c})),a.d(t,"f",(function(){return u})),a.d(t,"d",(function(){return d}));var r=a("b775");function o(e){return Object(r["a"])({url:"/check/ck-check/companyList",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/check/ck-check/get/".concat(e),method:"get"})}function i(e){return Object(r["a"])({url:"/check/ck-check/edit",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/check/ck-check/delete/".concat(e),method:"get"})}function n(e){return Object(r["a"])({url:"/check/ck-check/add",method:"post",data:e})}function c(e){return Object(r["a"])({url:"/check/ck-template/getByTrade",method:"get",params:e})}function u(e){return Object(r["a"])({url:"/check/ck-template/getAll/".concat(e),method:"get"})}function d(e){return Object(r["a"])({url:"/check/ck-check-file/list",method:"get",params:e})}},"8a1a":function(e,t,a){},"8c00":function(e,t,a){},"8f11":function(e,t,a){"use strict";a("7411")},"90e5":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("table",{staticClass:"tableStyle tCenter"},[e._m(0),a("tbody",[a("tr",[a("td",{staticClass:"tableTitle"},[a("el-radio",{attrs:{label:"卿头镇监管站"},model:{value:e.radio1,callback:function(t){e.radio1=t},expression:"radio1"}})],1),a("td",{staticClass:"tableContent"},[e._v("卿头镇监管站")])]),a("tr",[a("td",{staticClass:"tableTitle"},[a("el-radio",{attrs:{label:"虞乡镇监管站所"},model:{value:e.radio1,callback:function(t){e.radio1=t},expression:"radio1"}})],1),a("td",{staticClass:"tableContent"},[e._v("虞乡镇监管站所")])]),a("tr",[a("td",{staticClass:"tableTitle"},[a("el-radio",{attrs:{label:"南城监管所(万荣)"},model:{value:e.radio1,callback:function(t){e.radio1=t},expression:"radio1"}})],1),a("td",{staticClass:"tableContent"},[e._v("南城监管所(万荣)")])]),a("tr",[a("td",{staticClass:"tableTitle"},[a("el-radio",{attrs:{label:"北城监管所(万荣)"},model:{value:e.radio1,callback:function(t){e.radio1=t},expression:"radio1"}})],1),a("td",{staticClass:"tableContent"},[e._v("北城监管所(万荣)")])]),a("tr",[a("td",{staticClass:"tableTitle"},[a("el-radio",{attrs:{label:"西城监管所(万荣)"},model:{value:e.radio1,callback:function(t){e.radio1=t},expression:"radio1"}})],1),a("td",{staticClass:"tableContent"},[e._v("西城监管所(万荣)")])]),a("tr",[a("td",{staticClass:"tableTitle"},[a("el-radio",{attrs:{label:"东城监管所(万荣)"},model:{value:e.radio1,callback:function(t){e.radio1=t},expression:"radio1"}})],1),a("td",{staticClass:"tableContent"},[e._v("东城监管所(万荣)")])]),a("tr",[a("td",{staticClass:"tableTitle"},[a("el-radio",{attrs:{label:"城北监管站"},model:{value:e.radio1,callback:function(t){e.radio1=t},expression:"radio1"}})],1),a("td",{staticClass:"tableContent"},[e._v("城北监管站")])]),a("tr",[a("td",{staticClass:"tableTitle"},[a("el-radio",{attrs:{label:"城东监管站"},model:{value:e.radio1,callback:function(t){e.radio1=t},expression:"radio1"}})],1),a("td",{staticClass:"tableContent"},[e._v("城东监管站")])]),a("tr",[a("td",{staticClass:"tableTitle"},[a("el-radio",{attrs:{label:"城西监管站"},model:{value:e.radio1,callback:function(t){e.radio1=t},expression:"radio1"}})],1),a("td",{staticClass:"tableContent"},[e._v("城西监管站")])])])]),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.comfign}},[e._v("确定")])],1)])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",{staticClass:"tableTitle"},[e._v("选择")]),a("th",{staticClass:"tableContent"},[e._v("站所名称")])])])}],l=a("83f1"),i={props:{objectId:{type:String,required:!0}},data:function(){return{radio1:""}},mounted:function(){},methods:{comfign:function(){this.$emit("comfign",this.radio1)}},watch:{objectId:function(){var e=this;this.objectId&&Object(l["e"])(this.objectId).then((function(t){e.radio1=t.data.superviseId}))}}},s=i,n=(a("536e"),a("cba8")),c=Object(n["a"])(s,r,o,!1,null,"bd80b2d6",null);t["default"]=c.exports},9100:function(e,t,a){},"92c8":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.addDocument}},[e._v("增加安全人员 ")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.Modeler}},[a("el-table-column",{attrs:{label:"姓名",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{color:"#409EFF",cursor:"pointer"},on:{click:function(a){return e.seeDetail(t.row)}}},[e._v(e._s(t.row.name))])]}}])}),a("el-table-column",{attrs:{label:"证件号码",prop:"certCode"}}),a("el-table-column",{attrs:{label:"户籍登录地址",prop:"areaDesc"}}),a("el-table-column",{attrs:{label:"人员类型",prop:"type"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("编辑 ")]),a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除 ")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{visible:e.open,width:"85%",title:e.title,"append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t},close:e.modelCancel}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"130px",inline:!0}},[a("el-form-item",{attrs:{label:"姓名：",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"性别：",prop:"sex"}},[a("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.ruleForm.sex,callback:function(t){e.$set(e.ruleForm,"sex",t)},expression:"ruleForm.sex"}},[a("el-option",{attrs:{label:"男",value:"0"}}),a("el-option",{attrs:{label:"女",value:"1"}})],1)],1),a("el-form-item",{attrs:{label:"身份证：",prop:"certCode"}},[a("el-input",{attrs:{placeholder:"请输入身份证"},model:{value:e.ruleForm.certCode,callback:function(t){e.$set(e.ruleForm,"certCode",t)},expression:"ruleForm.certCode"}})],1),a("el-form-item",{attrs:{label:"人员类型：",prop:"type"}},[a("el-input",{attrs:{placeholder:"请输入人员类型"},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}})],1),a("el-form-item",{attrs:{label:"联系电话：",prop:"mobile"}},[a("el-input",{attrs:{placeholder:"请输入联系电话"},model:{value:e.ruleForm.mobile,callback:function(t){e.$set(e.ruleForm,"mobile",t)},expression:"ruleForm.mobile"}})],1),a("el-form-item",{attrs:{label:"户籍登录地址：",prop:"areaDesc"}},[a("el-input",{attrs:{placeholder:"请输入户籍登录地址"},model:{value:e.ruleForm.areaDesc,callback:function(t){e.$set(e.ruleForm,"areaDesc",t)},expression:"ruleForm.areaDesc"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存")]),a("el-button",{on:{click:e.modelCancel}},[e._v("取消")])],1)],1),a("el-dialog",{attrs:{visible:e.open1,width:"85%",title:e.title,"append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open1=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-width":"130px",inline:!0}},[a("el-form-item",{attrs:{label:"姓名：",prop:"name"}},[a("span",[e._v(e._s(e.ruleForm.name))])]),a("el-form-item",{attrs:{label:"性别：",prop:"sex"}},[a("span",[e._v(e._s(0==e.ruleForm.sex?"男":"女"))])]),a("el-form-item",{attrs:{label:"身份证：",prop:"certCode"}},[a("span",[e._v(e._s(e.ruleForm.certCode))])]),a("el-form-item",{attrs:{label:"人员类型：",prop:"type"}},[a("span",[e._v(e._s(e.ruleForm.type))])]),a("el-form-item",{attrs:{label:"联系电话：",prop:"mobile"}},[a("span",[e._v(e._s(e.ruleForm.mobile))])]),a("el-form-item",{attrs:{label:"户籍登录地址：",prop:"areaDesc"}},[a("span",[e._v(e._s(e.ruleForm.areaDesc))])])],1)],1)],1)},o=[],l=a("8955"),i=a("83f1"),s={props:{objectId:{type:String,required:!0}},data:function(){var e;return e={loading:!1,showSearch:!0,total:0,Modeler:[],title:"",open:!1,open1:!1,queryParams:{pageNum:1,pageSize:10},ruleForm:{companyId:"",name:"",sex:"",certCode:"",certType:"身份证",type:"",areaDesc:"",mobile:""},rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}],certCode:[{pattern:/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,message:"请输入正确的身份证",trigger:"blur"}],mobile:[,{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的联系电话",trigger:"blur"}]}},Object(l["a"])(e,"title",""),Object(l["a"])(e,"imageUrl",""),e},watch:{objectId:function(){this.objectId&&this.getList()}},methods:{getList:function(){var e=this;this.loading=!0,this.ruleForm.companyId=this.objectId,Object(i["E"])({companyId:this.objectId}).then((function(t){e.Modeler=t.data,e.loading=!1}))},handleDelete:function(e){var t=this;this.$confirm("是否确认删除所选信息?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["B"])(e.objectId)})).then((function(){t.getList(),t.msgSuccess("删除成功"),t.$emit("comfign1",t.objectId)})).catch((function(){}))},modelCancel:function(){this.reset(),this.open=!1},addDocument:function(){this.reset(),this.title="新增安全人员",this.open=!0},seeDetail:function(e){var t=this;this.reset(),Object(i["D"])(e.objectId).then((function(e){t.ruleForm=e.data,t.title="安全人员详情",t.open1=!0}))},handleUpdate:function(e){var t=this;this.reset(),Object(i["D"])(e.objectId).then((function(e){t.ruleForm=e.data,t.title="修改安全人员",t.open=!0}))},submitForm:function(){var e=this;this.$refs["ruleForm"].validate((function(t){t&&(null!=e.ruleForm.objectId?Object(i["C"])(e.ruleForm).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList(),e.$emit("comfign1",e.objectId)})):Object(i["A"])(e.ruleForm).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList(),e.$emit("comfign1",e.objectId)})))}))},reset:function(){this.ruleForm={companyId:this.objectId,name:"",sex:"",certCode:"",certType:"身份证",type:"",areaDesc:"",mobile:""},this.resetForm("ruleForm")}}},n=s,c=(a("11a0"),a("cba8")),u=Object(c["a"])(n,r,o,!1,null,"8bfdadde",null);t["default"]=u.exports},"932c":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"商品名称",prop:"productName"}},[a("el-input",{attrs:{placeholder:"请输入商品名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.productName,callback:function(t){e.$set(e.queryParams,"productName",t)},expression:"queryParams.productName"}})],1),a("el-form-item",{attrs:{label:"订单编号",prop:"productCode"}},[a("el-input",{attrs:{placeholder:"请输入订单编号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.productCode,callback:function(t){e.$set(e.queryParams,"productCode",t)},expression:"queryParams.productCode"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList}},[a("el-table-column",{attrs:{label:"订单编号",align:"center",prop:"orderCode"}}),a("el-table-column",{attrs:{label:"商品编号",align:"center",prop:"productCode"}}),a("el-table-column",{attrs:{label:"商品名称",align:"center",prop:"productName"}}),a("el-table-column",{attrs:{label:" 客户名称",align:"center",prop:"productName"}}),a("el-table-column",{attrs:{label:"入库数量",align:"center",prop:"cnt"}}),a("el-table-column",{attrs:{label:"金额(元)",align:"center",prop:"money"}}),a("el-table-column",{attrs:{label:"规格",align:"center",prop:"specs"}}),a("el-table-column",{attrs:{label:"订单日期",align:"center",prop:"createDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createDate)))])]}}])}),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"note"}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)},o=[],l=a("9378"),i={name:"Post",data:function(){return{loading:!1,showSearch:!0,total:0,postList:[],queryParams:{pageNum:1,pageSize:10,productName:void 0,productCode:void 0}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(l["a"])(this.queryParams).then((function(t){e.postList=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()}}},s=i,n=(a("c36d"),a("cba8")),c=Object(n["a"])(s,r,o,!1,null,"306208f4",null);t["default"]=c.exports},9378:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return i}));var r=a("b775");function o(e){return Object(r["a"])({url:"/store/st-out-orderItem-item/list",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/store/st-in-orderItem-item/list2",method:"get",params:e})}function i(e){return Object(r["a"])({url:"/store/st-in-orderItem-item/listInAndOut",method:"get",params:e})}},9429:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"user-info-head",on:{click:function(t){return e.editCropper()}}},[a("img",{staticClass:"img-circle img-lg",attrs:{src:e.options.img,title:"点击上传头像"}})]),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.title,visible:e.open,width:"800px","append-to-body":""},on:{"update:visible":function(t){e.open=t},opened:e.modalOpened,close:function(t){return e.closeDialog()}}},[a("el-row",[a("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[e.visible?a("vue-cropper",{ref:"cropper",attrs:{img:e.options.img,info:!0,autoCrop:e.options.autoCrop,autoCropWidth:e.options.autoCropWidth,autoCropHeight:e.options.autoCropHeight,fixedBox:e.options.fixedBox},on:{realTime:e.realTime}}):e._e()],1),a("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[a("div",{staticClass:"avatar-upload-preview"},[a("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])],1),a("br"),a("el-row",[a("el-col",{attrs:{lg:2,md:2}},[a("el-upload",{attrs:{action:"#","http-request":e.requestUpload,"show-file-list":!1,"before-upload":e.beforeUpload}},[a("el-button",{attrs:{size:"small"}},[e._v(" 选择 "),a("i",{staticClass:"el-icon-upload el-icon--right"})])],1)],1),a("el-col",{attrs:{lg:{span:1,offset:2},md:2}},[a("el-button",{attrs:{icon:"el-icon-plus",size:"small"},on:{click:function(t){return e.changeScale(1)}}})],1),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-minus",size:"small"},on:{click:function(t){return e.changeScale(-1)}}})],1),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-refresh-left",size:"small"},on:{click:function(t){return e.rotateLeft()}}})],1),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-refresh-right",size:"small"},on:{click:function(t){return e.rotateRight()}}})],1),a("el-col",{attrs:{lg:{span:2,offset:6},md:2}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.uploadImg()}}},[e._v("提 交")])],1)],1)],1)],1)},o=[],l=a("4360"),i=a("9743"),s=a("c0c7"),n={components:{VueCropper:i["VueCropper"]},props:{user:{type:Object}},data:function(){return{open:!1,visible:!1,title:"修改头像",options:{img:l["a"].getters.avatar,autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixedBox:!0},previews:{}}},methods:{editCropper:function(){this.open=!0},modalOpened:function(){this.visible=!0},requestUpload:function(){},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},changeScale:function(e){e=e||1,this.$refs.cropper.changeScale(e)},beforeUpload:function(e){var t=this;if(-1==e.type.indexOf("image/"))this.$modal.msgError("文件格式错误，请上传图片类型,如：JPG，PNG后缀的文件。");else{var a=new FileReader;a.readAsDataURL(e),a.onload=function(){t.options.img=a.result}}},uploadImg:function(){var e=this;this.$refs.cropper.getCropBlob((function(t){var a=new FormData;a.append("avatarfile",t),Object(s["o"])(a).then((function(t){e.open=!1,e.options.img="/prod-api"+t.imgUrl,l["a"].commit("SET_AVATAR",e.options.img),e.$modal.msgSuccess("修改成功"),e.visible=!1}))}))},realTime:function(e){this.previews=e},closeDialog:function(){this.options.img=l["a"].getters.avatar,this.visible=!1}}},c=n,u=(a("b571"),a("cba8")),d=Object(u["a"])(c,r,o,!1,null,"0e135d42",null);t["default"]=d.exports},9448:function(e,t,a){},9488:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},o=[],l=a("4d28"),i=a.n(l),s=a("feb2");a("d8ac");var n=6e3,c={mixins:[s["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:10,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisTick:{show:!1}}],series:[{name:"pageA",type:"bar",stack:"vistors",barWidth:"60%",data:[79,52,200,334,390,330,220],animationDuration:n},{name:"pageB",type:"bar",stack:"vistors",barWidth:"60%",data:[80,52,200,334,390,330,220],animationDuration:n},{name:"pageC",type:"bar",stack:"vistors",barWidth:"60%",data:[30,52,200,334,390,330,220],animationDuration:n}]})}}},u=c,d=a("cba8"),m=Object(d["a"])(u,r,o,!1,null,null,null);t["default"]=m.exports},9643:function(e,t,a){"use strict";a("da51")},"9a5b":function(e,t,a){},"9b8f":function(e,t,a){"use strict";a.r(t);a("0bd5"),a("9b42");var r,o,l={created:function(){var e=this.$route,t=e.params,a=e.query,r=t.path;this.$router.replace({path:"/"+r,query:a})},render:function(e){return e()}},i=l,s=a("cba8"),n=Object(s["a"])(i,r,o,!1,null,null,null);t["default"]=n.exports},"9be9":function(e,t,a){"use strict";a("d31b")},"9d64":function(e,t,a){e.exports=a.p+"static/img/logo.7a0b7c95.png"},"9f78":function(e,t,a){},"9ff9":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("table",{staticClass:"tableStyle tCenter"},[a("tbody",[a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("姓名：")]),a("td",{staticClass:"tableContent"},[a("div",{staticClass:"input-suffix"},[a("el-form-item",{attrs:{prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("span",{staticClass:"required"},[e._v("*")])],1)]),a("td",{staticClass:"tableTitle tableTitle1"},[e._v("职务：")]),a("td",{staticClass:"tableContent"},[a("el-form-item",{attrs:{prop:"job"}},[a("el-select",{attrs:{placeholder:"请选择职务"},model:{value:e.form.job,callback:function(t){e.$set(e.form,"job",t)},expression:"form.job"}},[a("el-option",{attrs:{label:"董事长兼总经理",value:"董事长兼总经理"}}),a("el-option",{attrs:{label:"董事兼总经理",value:"董事兼总经理"}}),a("el-option",{attrs:{label:"执行董事兼总经理",value:"执行董事兼总经理"}}),a("el-option",{attrs:{label:"董事长",value:"董事长"}}),a("el-option",{attrs:{label:"副董事长",value:"副董事长"}}),a("el-option",{attrs:{label:"董事",value:"董事"}}),a("el-option",{attrs:{label:"执行董事",value:"执行董事"}}),a("el-option",{attrs:{label:"总经理",value:"总经理"}}),a("el-option",{attrs:{label:"副总经理",value:"副总经理"}}),a("el-option",{attrs:{label:"经理",value:"经理"}}),a("el-option",{attrs:{label:"负责人",value:"负责人"}}),a("el-option",{attrs:{label:"总务主任",value:"总务主任"}}),a("el-option",{attrs:{label:"专职管理员",value:"专职管理员"}}),a("el-option",{attrs:{label:"其他人员",value:"其他人员"}})],1)],1)],1)]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("证件类型：")]),a("td",{staticClass:"tableContent"},[a("el-form-item",{attrs:{prop:"certType"}},[a("el-select",{attrs:{placeholder:"请选择证件类型"},model:{value:e.form.certType,callback:function(t){e.$set(e.form,"certType",t)},expression:"form.certType"}},[a("el-option",{attrs:{label:"中华人民共和国居民身份证",value:"中华人民共和国居民身份证"}}),a("el-option",{attrs:{label:"港澳台有效身份证件",value:"港澳台有效身份证件"}}),a("el-option",{attrs:{label:"外国（地区）护照",value:"外国（地区）护照"}}),a("el-option",{attrs:{label:"其他有效身份证件",value:"其他有效身份证件"}})],1)],1)],1),a("td",{staticClass:"tableTitle tableTitle1"},[e._v("证件号码：")]),a("td",{staticClass:"tableContent"},[a("el-form-item",{attrs:{prop:"certCode"}},[a("el-input",{attrs:{placeholder:"请输入证件号码"},model:{value:e.form.certCode,callback:function(t){e.$set(e.form,"certCode",t)},expression:"form.certCode"}})],1)],1)]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("民族：")]),a("td",{staticClass:"tableContent"},[a("el-form-item",{attrs:{prop:"nation"}},[a("el-input",{attrs:{placeholder:"请输入民族"},model:{value:e.form.nation,callback:function(t){e.$set(e.form,"nation",t)},expression:"form.nation"}})],1)],1),a("td",{staticClass:"tableTitle tableTitle1"},[e._v("性别：")]),a("td",{staticClass:"tableContent"},[a("el-form-item",{attrs:{prop:"sex"}},[a("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("el-option",{attrs:{label:"男",value:"男"}}),a("el-option",{attrs:{label:"女",value:"女"}})],1)],1)],1)]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("户籍登记地址：")]),a("td",{staticClass:"tableContent"},[a("el-form-item",{attrs:{prop:"areaDesc"}},[a("el-input",{attrs:{placeholder:"请输入户籍登记地址"},model:{value:e.form.areaDesc,callback:function(t){e.$set(e.form,"areaDesc",t)},expression:"form.areaDesc"}})],1)],1),a("td",{staticClass:"tableTitle tableTitle1"},[e._v("移动电话：")]),a("td",{staticClass:"tableContent"},[a("el-form-item",{attrs:{prop:"mobile"}},[a("el-input",{attrs:{placeholder:"请输入移动电话"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1)],1)]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("固定电话：")]),a("td",{staticClass:"tableContent"},[a("div",{staticClass:"input-suffix"},[a("el-form-item",{attrs:{prop:"telephone"}},[a("el-input",{attrs:{placeholder:"请输入固定电话"},model:{value:e.form.telephone,callback:function(t){e.$set(e.form,"telephone",t)},expression:"form.telephone"}})],1)],1)]),a("td",{staticClass:"tableTitle tableTitle1"},[e._v("法定代表人（负责人）是否是：")]),a("td",{staticClass:"tableContent",attrs:{colspan:"3"}},[a("el-form-item",{attrs:{prop:"mcount"}},[a("el-checkbox-group",{model:{value:e.form.mcount,callback:function(t){e.$set(e.form,"mcount",t)},expression:"form.mcount"}},[a("el-checkbox",{attrs:{label:"安全管理人员",name:"mcount"}}),a("el-checkbox",{attrs:{label:"从业人员",name:"mcount"}})],1)],1)],1)]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("身份证正面照：")]),a("td",{staticClass:"tableContent"},[a("el-form-item",{attrs:{prop:"cardFront"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.fileUrl,headers:e.headers,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[a("div",{staticClass:"upload"},[e.form.fileId1?a("img",{staticClass:"avatar",attrs:{src:e.url+e.form.fileId1},on:{click:function(t){return t.stopPropagation(),e.see(e.url+e.form.fileId1)}}}):e._e(),a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选择文件")])],1)])],1)],1),a("td",{staticClass:"tableTitle tableTitle1"},[e._v("身份证背面照：")]),a("td",{staticClass:"tableContent",attrs:{colspan:"3"}},[a("el-form-item",{attrs:{prop:"cardBehind"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.fileUrl,headers:e.headers,"show-file-list":!1,"on-success":e.handleAvatarSuccess2,"before-upload":e.beforeAvatarUpload2}},[a("div",{staticClass:"upload"},[e.form.fileId2?a("img",{staticClass:"avatar",attrs:{src:e.url+e.form.fileId2},on:{click:function(t){return t.stopPropagation(),e.see(e.url+e.form.fileId2)}}}):e._e(),a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选择文件")])],1)])],1)],1)])])])]),e.dialogVisible?a("el-dialog",{attrs:{visible:e.dialogVisible,"append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]):e._e(),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.comfign}},[e._v("确定")])],1)],1)},o=[],l=(a("402f"),a("836b"),a("0bd5"),a("79a8"),a("83f1")),i=a("5f87"),s={props:{objectId:{type:String,required:!0}},data:function(){return{form:{name:"",job:"",certType:"",certCode:"",nation:"",areaDesc:"",mobile:"",telephone:"",mcount:[],fileId1:"",fileId2:"",fileName1:"",fileName2:"",companyId:""},rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}],mobile:[{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]},fileUrl:"/prod-api/common/upload",url:"/prod-api",headers:{Authorization:"Bearer "+Object(i["a"])()},dialogImageUrl:"",dialogVisible:!1}},mounted:function(){},methods:{see:function(e){this.dialogImageUrl=e,this.dialogVisible=!0},handleAvatarSuccess:function(e,t){this.form.fileId1=e.fileName},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/jpg"===e.type||"image/png"===e.type||"image/gif"===e.type;e.size;return t||this.$message.error("请上传jpeg/jpg/png/gif类型的图片!"),t},handleAvatarSuccess2:function(e,t){this.form.fileId2=e.fileName},beforeAvatarUpload2:function(e){var t="image/jpeg"===e.type||"image/jpg"===e.type||"image/png"===e.type||"image/gif"===e.type;e.size;return t||this.$message.error("请上传jpeg/jpg/png/gif类型的图片!"),t},comfign:function(){var e=this;this.$refs["form"].validate((function(t){if(t){var a=e.form;if(a.mcount=a.mcount.toString(),void 0!=a.objectId)Object(l["t"])(a).then((function(t){e.msgSuccess("修改成功"),e.$emit("comfign1",e.objectId)}));else{var r=e.form;r.mcount=r.mcount.toString(),Object(l["s"])(r).then((function(t){e.msgSuccess("保存成功"),e.$emit("comfign1",e.objectId)}))}}}))}},watch:{objectId:function(){var e=this;this.objectId&&(this.form.companyId=this.objectId,Object(l["m"])({companyId:this.objectId}).then((function(t){t.data&&(e.form=t.data,e.form.mcount=t.data.mcount?t.data.mcount.split(","):[])})))}}},n=s,c=(a("bb90"),a("cba8")),u=Object(c["a"])(n,r,o,!1,null,"9d8d1ca2",null);t["default"]=u.exports},a034:function(e,t,a){"use strict";a.d(t,"f",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"g",(function(){return n})),a.d(t,"h",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return d}));var r=a("b775");function o(e){return Object(r["a"])({url:"/drug/dg-person/list",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/drug/dg-person/add",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/drug/dg-person/edit",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/drug/dg-person/delete/"+e,method:"get"})}function n(e){return Object(r["a"])({url:"/drug/dg-person/ckWorkSet",method:"post",data:e})}function c(e){return Object(r["a"])({url:"/drug/dg-person/edit",method:"post",data:e})}function u(e){return Object(r["a"])({url:"/drug/dg-person/get/".concat(e),method:"get"})}function d(e){return Object(r["a"])({url:"/drug/dg-record/drugWorkSet",method:"get",params:e})}},a139:function(e,t,a){},a152:function(e,t,a){},a159:function(e,t,a){"use strict";a.d(t,"f",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"a",(function(){return i})),a.d(t,"h",(function(){return s})),a.d(t,"c",(function(){return n})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"g",(function(){return d}));var r=a("b775");function o(e){return Object(r["a"])({url:"/monitor/job/list",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/monitor/job/"+e,method:"get"})}function i(e){return Object(r["a"])({url:"/monitor/job",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/monitor/job",method:"put",data:e})}function n(e){return Object(r["a"])({url:"/monitor/job/"+e,method:"delete"})}function c(e){return Object(r["a"])({url:"/monitor/job/export",method:"get",params:e})}function u(e,t){var a={jobId:e,status:t};return Object(r["a"])({url:"/monitor/job/changeStatus",method:"put",data:a})}function d(e,t){var a={jobId:e,jobGroup:t};return Object(r["a"])({url:"/monitor/job/run",method:"put",data:a})}},a17e:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"选择用户",visible:e.visible,width:"800px",top:"5vh","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),a("el-form-item",{attrs:{label:"手机号码",prop:"phonenumber"}},[a("el-input",{attrs:{placeholder:"请输入手机号码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.phonenumber,callback:function(t){e.$set(e.queryParams,"phonenumber",t)},expression:"queryParams.phonenumber"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",[a("el-table",{ref:"table",attrs:{data:e.userList,height:"260px"},on:{"row-click":e.clickRow,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"用户名称",prop:"userName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"用户昵称",prop:"nickName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"邮箱",prop:"email","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"手机",prop:"phonenumber","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("dict-tag",{attrs:{options:e.dict.type.sys_normal_disable,value:t.row.status}})]}}])}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSelectUser}},[e._v("确 定")]),a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")])],1)],1)},o=[],l=(a("d0bf"),a("6540"),a("cca2"),a("3528")),i={dicts:["sys_normal_disable"],props:{roleId:{type:[Number,String]}},data:function(){return{visible:!1,userIds:[],total:0,userList:[],queryParams:{pageNum:1,pageSize:10,roleId:void 0,userName:void 0,phonenumber:void 0}}},methods:{show:function(){this.queryParams.roleId=this.roleId,this.getList(),this.visible=!0},clickRow:function(e){this.$refs.table.toggleRowSelection(e)},handleSelectionChange:function(e){this.userIds=e.map((function(e){return e.userId}))},getList:function(){var e=this;Object(l["l"])(this.queryParams).then((function(t){e.userList=t.rows,e.total=t.total}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectUser:function(){var e=this,t=this.queryParams.roleId,a=this.userIds.join(",");Object(l["e"])({roleId:t,userIds:a}).then((function(t){e.$modal.msgSuccess(t.msg),200===t.code&&(e.visible=!1,e.$emit("ok"))}))}}},s=i,n=a("cba8"),c=Object(n["a"])(s,r,o,!1,null,null,null);t["default"]=c.exports},a2c5:function(e,t,a){},a2f7:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"客户名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入客户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList}},[a("el-table-column",{attrs:{label:"客户名称",align:"center",prop:"name"}}),a("el-table-column",{attrs:{label:"法人名称",align:"center",prop:"personName"}}),a("el-table-column",{attrs:{label:"企业电话",align:"center",prop:"mobile"}}),a("el-table-column",{attrs:{label:"联系人",align:"center",prop:"linkMan"}}),a("el-table-column",{attrs:{label:"联系方式",align:"center",prop:"linkMobile"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.title,visible:e.open,width:"60%","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{prop:"name",label:"客户名称"}},[a("el-input",{attrs:{placeholder:"请输入客户名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{prop:"personName",label:"法人名称"}},[a("el-input",{attrs:{placeholder:"请输入法人名称"},model:{value:e.form.personName,callback:function(t){e.$set(e.form,"personName",t)},expression:"form.personName"}})],1),a("el-form-item",{attrs:{prop:"linkMan",label:"联系人"}},[a("el-input",{attrs:{placeholder:"请输入联系人"},model:{value:e.form.linkMan,callback:function(t){e.$set(e.form,"linkMan",t)},expression:"form.linkMan"}})],1),a("el-form-item",{attrs:{prop:"linkMobile",label:"手机号"}},[a("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.form.linkMobile,callback:function(t){e.$set(e.form,"linkMobile",t)},expression:"form.linkMobile"}})],1),a("el-form-item",{attrs:{prop:"mobile",label:"企业电话"}},[a("el-input",{attrs:{placeholder:"请输入企业电话"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),a("el-form-item",{attrs:{prop:"email",label:"企业邮箱"}},[a("el-input",{attrs:{placeholder:"请输入企业邮箱"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),a("el-form-item",{attrs:{prop:"tradeId",label:"行业类型"}},[a("el-select",{attrs:{placeholder:"请选择行业类型"},model:{value:e.form.tradeId,callback:function(t){e.$set(e.form,"tradeId",t)},expression:"form.tradeId"}},e._l(e.tradeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1),a("el-form-item",{attrs:{prop:"compTypeId",label:"企业类型"}},[a("el-select",{attrs:{placeholder:"请选择企业类型"},model:{value:e.form.compTypeId,callback:function(t){e.$set(e.form,"compTypeId",t)},expression:"form.compTypeId"}},e._l(e.compTypeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1),a("el-form-item",{attrs:{prop:"address",label:"注册地址"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入注册地址"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),a("el-form-item",{attrs:{prop:"sendAddress",label:"发货地址"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入收货地址"},model:{value:e.form.sendAddress,callback:function(t){e.$set(e.form,"sendAddress",t)},expression:"form.sendAddress"}})],1),a("el-form-item",{attrs:{prop:"website",label:"企业网站"}},[a("el-input",{attrs:{placeholder:"请输入企业网站"},model:{value:e.form.website,callback:function(t){e.$set(e.form,"website",t)},expression:"form.website"}})],1),a("el-form-item",{attrs:{prop:"totalMoney",label:"消费总额(元)"}},[a("el-input",{attrs:{type:"number",min:0,placeholder:"请输入消费总额(元)"},model:{value:e.form.totalMoney,callback:function(t){e.$set(e.form,"totalMoney",t)},expression:"form.totalMoney"}})],1),a("el-form-item",{attrs:{prop:"product",label:"首营产品"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入首营产品"},model:{value:e.form.product,callback:function(t){e.$set(e.form,"product",t)},expression:"form.product"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},o=[],l=a("8955"),i=(a("1d7a"),a("39db")),s=a("5e1a"),n={name:"Post",dicts:["sys_normal_disable"],data:function(){return{loading:!1,showSearch:!0,total:0,postList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,name:void 0},form:{name:"",personName:"",address:"",compTypeId:"",linkMan:"",mobile:"",linkMobile:"",tradeId:"",product:"",email:"",totalMoney:"",website:""},rules:{name:[{required:!0,message:"客户名称不能为空",trigger:"blur"}],personName:[{required:!0,message:"法人不能为空",trigger:"blur"}],tradeId:[{required:!0,message:"行业类型不能为空",trigger:"blur"}],compTypeId:[{required:!0,message:"企业类型不能为空",trigger:"blur"}],address:[{required:!0,message:"注册地址不能为空",trigger:"blur"}],mobile:[{required:!0,message:"企业电话不能为空",trigger:"blur"}],email:[{required:!0,message:"企业邮箱不能为空",trigger:"blur"},{type:"email",message:"请输入正确的邮箱",trigger:["blur","change"]}],linkMan:[{required:!0,message:"联系人能为空",trigger:"blur"}],linkMobile:[{required:!0,message:"手机号不能为空",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号",trigger:"blur"}],sendAddress:[{required:!0,message:"发货地址不能为空",trigger:"blur"}]},compTypeList:[],tradeList:[]}},created:function(){this.getList(),this.getIndustryTypeList()},methods:{getEnterpriseTypeList:function(){var e=this;Object(s["a"])({tradeId:this.form.tradeId}).then((function(t){e.compTypeList=t.data?t.data:[]}))},getIndustryTypeList:function(){var e=this;Object(s["b"])().then((function(t){e.tradeList=t.data?t.data:[]}))},getList:function(){var e=this;this.loading=!0,Object(i["c"])(this.queryParams).then((function(t){e.postList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){var e;this.form=(e={name:"",personName:"",address:"",compTypeId:"",tradeId:"",linkMan:"",mobile:"",linkMobile:""},Object(l["a"])(e,"tradeId",""),Object(l["a"])(e,"product",""),Object(l["a"])(e,"email",""),Object(l["a"])(e,"totalMoney",""),Object(l["a"])(e,"website",""),e),this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加客户"},handleUpdate:function(e){var t=this;this.reset(),Object(i["b"])(e.objectId).then((function(e){t.form=e.data,t.open=!0,t.title="修改客户信息"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.objectId?Object(i["e"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(i["a"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this;this.$modal.confirm('是否确认删除客户"'+e.name+'"的数据项？').then((function(){return Object(i["d"])(e.objectId)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))}},watch:{"form.tradeId":{handler:function(e,t){this.getEnterpriseTypeList()}}}},c=n,u=(a("f327"),a("cba8")),d=Object(u["a"])(c,r,o,!1,null,"8bad353c",null);t["default"]=d.exports},a36b:function(e,t,a){e.exports=a.p+"static/img/404.a57b6f31.png"},a3b5:function(e,t,a){"use strict";a("2e11")},a492:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"任务标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入任务标题",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.title,callback:function(t){e.$set(e.queryParams,"title",t)},expression:"queryParams.title"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"cyan",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList}},[a("el-table-column",{attrs:{label:"调查标题",prop:"TITLE"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"link",on:{click:function(a){return e.lookDetail(t.row)}}},[e._v(e._s(t.row.TITLE))])]}}])}),a("el-table-column",{attrs:{label:"发布时间",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(new Date(t.row.CREATE_TIME))))])]}}])}),a("el-table-column",{attrs:{label:"提交状态",prop:"IS_SUBMIT"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{class:"未提交"==t.row.IS_SUBMIT?"err":"succ"},[e._v(" "+e._s(t.row.IS_SUBMIT)+" ")])]}}])}),a("el-table-column",{attrs:{label:"读取状态",prop:"IS_READ"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{class:"未读"==t.row.IS_READ?"err":"succ"},[e._v(" "+e._s(t.row.IS_READ)+" ")])]}}])}),a("el-table-column",{attrs:{label:"操作","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return["未提交"==t.row.IS_SUBMIT?a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("填写自查")]):e._e(),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1),a("el-dialog",{staticClass:"form",attrs:{title:e.title,visible:e.open,width:"800px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loadForm,expression:"loadForm"}],ref:"form",attrs:{model:e.form,"label-width":"90px","label-position":"top"}},e._l(e.form.list,(function(t,r){return a("el-form-item",{key:t.key,attrs:{label:r+1+". "+t.name,prop:"list."+r+".value",rules:{required:!0,message:"内容不能为空",trigger:["blur","change"]}}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"domain.value"}})],1)})),1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提 交")]),a("el-button",{on:{click:function(t){e.open=!1}}},[e._v("取 消")])],1)],1),e.show?a("el-dialog",{staticClass:"form",attrs:{title:e.titleDetail,visible:e.show,width:"800px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.show=t}}},[a("el-form",{ref:"formDetail",attrs:{model:e.formDetail,"label-width":"90px","label-position":"top"}},e._l(e.formDetail.list,(function(t,r){return a("el-form-item",{key:t.key,attrs:{label:r+1+". "+t.name,prop:"list."+r+".value"}},[a("el-input",{attrs:{type:"textarea",readonly:""},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"domain.value"}})],1)})),1)],1):e._e()],1)},o=[],l=(a("6540"),a("1d7a"),a("b775"));function i(e){return Object(l["a"])({url:"/check/ck-comp-check-item/listComp",method:"get",params:e})}function s(e){return Object(l["a"])({url:"/check/ck-comp-check-item/get/".concat(e),method:"get"})}function n(e){return Object(l["a"])({url:"/check/ck-comp-check-item-content/list",method:"get",params:e})}function c(e){return Object(l["a"])({url:"/check/ck-comp-check-item-content/upValue",method:"post",data:e})}function u(e){return Object(l["a"])({url:"/check/ck-comp-check-item-content/getValue",method:"get",params:e})}function d(e){return Object(l["a"])({url:"/check/ck-comp-check-item/delete/".concat(e),method:"get"})}var m={name:"CompCheck",data:function(){return{loadForm:!1,show:!1,loading:!1,showSearch:!0,total:0,postList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,title:void 0,typeId:void 0},form:{list:[{objectId:"",name:"",value:""}]},formDetail:{},titleDetail:""}},created:function(){this.getList()},methods:{lookDetail:function(e){var t=this;this.titleDetail=e.TITLE,u({itemId:e.OBJECT_ID}).then((function(e){var a=[];e.data.map((function(e){a.push({objectId:e.objectId,name:e.name,value:e.value})})),t.formDetail.list=a,t.show=!0}))},submit:function(){var e=this;this.$refs["form"].validate((function(t){t&&e.$modal.confirm("是否确认提交,提交后将无法修改").then((function(){return c(e.form).then((function(t){console.log(t),e.open=!1}))})).then((function(){e.$modal.msgSuccess("提交成功"),e.getList()}))}))},getList:function(){var e=this;this.loading=!0,i(this.queryParams).then((function(t){e.postList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={list:[]},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(e){var t=this;this.reset(),this.open=!0,this.title=e.TITLE,this.loadForm=!0,s(e.OBJECT_ID).then((function(e){n({itemId:e.data.objectId}).then((function(e){console.log(e);var a=[];e.data.map((function(e){a.push({objectId:e.objectId,name:e.name,value:""})})),t.form.list=a,t.loadForm=!1,t.getList()}))}))},handleDelete:function(e){var t=this;this.$modal.confirm('是否确认删除 "'+e.TITLE+'"').then((function(){return d(e.OBJECT_ID)})).then((function(){t.$modal.msgSuccess("删除成功"),t.getList()}))}}},p=m,f=(a("7855"),a("cba8")),h=Object(f["a"])(p,r,o,!1,null,"effcd2c6",null);t["default"]=h.exports},a61f:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"客户名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入客户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList}},[a("el-table-column",{attrs:{label:"客户名称",align:"center",prop:"name"}}),a("el-table-column",{attrs:{label:"性别",align:"center",prop:"sex"}}),a("el-table-column",{attrs:{label:"联系方式",align:"center",prop:"mobile"}}),a("el-table-column",{attrs:{label:"职务",align:"center",prop:"job"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.title,visible:e.open,width:"60%","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px","label-position":"right"}},[a("el-form-item",{attrs:{prop:"name",label:"客户名称"}},[a("el-input",{attrs:{placeholder:"请输入客户名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{prop:"mobile",label:"手机号"}},[a("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),a("el-form-item",{attrs:{prop:"sex",label:"性别"}},[a("el-radio-group",{model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("el-radio",{attrs:{label:"男"}}),a("el-radio",{attrs:{label:"女"}})],1)],1),a("el-form-item",{attrs:{prop:"age",label:"年龄"}},[a("el-input",{attrs:{placeholder:"请输入年龄",type:"number"},model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}},[a("span",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"},[e._v("岁")])])],1),a("el-form-item",{attrs:{prop:"job",label:"职务"}},[a("el-input",{attrs:{placeholder:"请输入职务"},model:{value:e.form.job,callback:function(t){e.$set(e.form,"job",t)},expression:"form.job"}})],1),a("el-form-item",{attrs:{prop:"nation",label:"民族"}},[a("el-input",{attrs:{placeholder:"请输入民族"},model:{value:e.form.nation,callback:function(t){e.$set(e.form,"nation",t)},expression:"form.nation"}})],1),a("el-form-item",{attrs:{prop:"tradeId",label:"籍贯"}},[a("el-input",{attrs:{placeholder:"请输入籍贯"},model:{value:e.form.tradeId,callback:function(t){e.$set(e.form,"tradeId",t)},expression:"form.tradeId"}})],1),a("el-form-item",{attrs:{prop:"email",label:"邮箱"}},[a("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),a("el-form-item",{attrs:{prop:"note",label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:e.form.note,callback:function(t){e.$set(e.form,"note",t)},expression:"form.note"}})],1),a("el-form-item",{attrs:{prop:"address",label:"收货地址"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入收货地址"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},o=[],l=(a("1d7a"),a("b373")),i={data:function(){return{loading:!1,showSearch:!0,total:0,postList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,name:void 0},form:{name:"",age:"",address:"",job:"",sex:"",mobile:"",tradeId:"",nation:"",email:"",note:""},rules:{name:[{required:!0,message:"客户名称不能为空",trigger:"blur"}],age:[{required:!0,message:"年龄不能为空",trigger:"blur"}],sex:[{required:!0,message:"性别不能为空",trigger:"change"}],address:[{required:!0,message:"收货地址不能为空",trigger:"blur"}],mobile:[{required:!0,message:"手机号不能为空",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号",trigger:"blur"}],email:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"请输入正确的邮箱",trigger:["blur","change"]}],job:[{required:!0,message:"职务不能为空",trigger:"blur"}],nation:[{required:!0,message:"民族不能为空",trigger:"blur"}],tradeId:[{required:!0,message:"籍贯不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(l["e"])(this.queryParams).then((function(t){e.postList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={name:"",age:"",address:"",job:"",sex:"",mobile:"",tradeId:"",nation:"",email:"",note:""},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加客户"},handleUpdate:function(e){var t=this;this.reset(),Object(l["d"])(e.objectId).then((function(e){t.form=e.data,t.open=!0,t.title="修改客户信息"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.objectId?Object(l["c"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(l["a"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this;this.$modal.confirm('是否确认删除客户"'+e.name+'"的数据项？').then((function(){return Object(l["b"])(e.objectId)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))}}},s=i,n=(a("625c"),a("cba8")),c=Object(n["a"])(s,r,o,!1,null,"69ff2ffc",null);t["default"]=c.exports},a6db:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,visible:e.show,width:"50%","close-on-click-modal":!1,"append-to-body":"","before-close":e.close},on:{"update:visible":function(t){e.show=t}}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"cyan",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{data:e.Modeler,"highlight-current-row":""},on:{select:e.cellClickHandle,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"名称",prop:"name"}}),a("el-table-column",{attrs:{label:"单位",prop:"unit"}}),a("el-table-column",{attrs:{label:"品牌",prop:"brand"}}),a("el-table-column",{attrs:{label:"产品编号",prop:"code"}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getGoodsList}}),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("下一步")])],1)],1)},o=[],l=(a("6540"),a("fae2"),a("70e78")),i={name:"SelectGoods",components:{},props:{title:{type:String,default:""},show:{type:Boolean,default:!1},objectId:{type:String,default:""}},data:function(){return{loading:!0,total:0,Modeler:[],queryParams:{pageNum:1,pageSize:10,name:""},selection:{},form:{}}},created:function(){this.getGoodsList()},methods:{handleSelectionChange:function(e){var t=this;e.map((function(e){t.selection[e.objectId]=e}))},toggleSelection:function(e){this.$refs.multipleTable.toggleRowSelection(e)},getGoodsList:function(){var e=this;Object(l["h"])(this.queryParams).then((function(t){e.Modeler=t.rows,e.total=t.total,Object.keys(e.selection).length&&e.$nextTick((function(){for(var t in e.selection)for(var a=0;a<e.Modeler.length;a++)if(e.selection[t].objectId==e.Modeler[a].objectId){e.toggleSelection(e.Modeler[a]);break}})),e.loading=!1}))},cellClickHandle:function(e,t){t.objectId in this.selection&&delete this.selection[t.objectId]},handleUpdate:function(e){this.form=e,this.$emit("confirm",this.form)},handleQuery:function(){this.queryParams.pageNum=1,this.getGoodsList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},submitForm:function(){var e=[];for(var t in this.selection)e.push(this.selection[t]);this.$emit("confirm",e)},close:function(){this.$emit("close")}}},s=i,n=a("cba8"),c=Object(n["a"])(s,r,o,!1,null,null,null);t["a"]=c.exports},a6dc:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"f",(function(){return i})),a.d(t,"e",(function(){return s})),a.d(t,"a",(function(){return n})),a.d(t,"g",(function(){return c})),a.d(t,"b",(function(){return u}));var r=a("b775");function o(e){return Object(r["a"])({url:"/system/menu/company/list",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/system/menu/company/"+e,method:"get"})}function i(){return Object(r["a"])({url:"/system/menu/treeselect",method:"get"})}function s(e){return Object(r["a"])({url:"/system/menu/roleMenuTreeselect/"+e,method:"get"})}function n(e){return Object(r["a"])({url:"/system/menu/company",method:"post",data:e})}function c(e){return Object(r["a"])({url:"/system/menu/company",method:"put",data:e})}function u(e){return Object(r["a"])({url:"/system/menu/company/"+e,method:"delete"})}},a85b:function(e,t,a){"use strict";a("270f"),a("fae2");var r=a("ed08"),o=Object(r["g"])("accept,accept-charset,accesskey,action,align,alt,async,autocomplete,autofocus,autoplay,autosave,bgcolor,border,buffered,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,http-equiv,name,contenteditable,contextmenu,controls,coords,data,datetime,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,method,for,form,formaction,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,ismap,itemprop,keytype,kind,label,lang,language,list,loop,low,manifest,max,maxlength,media,method,GET,POST,min,multiple,email,file,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,seamless,selected,shape,size,type,text,password,sizes,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,type,usemap,value,width,wrap");function l(e,t,a){t.props.value=a,t.on.input=function(t){e.$emit("input",t)}}var i={"el-button":{default:function(e,t,a){return t[a]}},"el-input":{prepend:function(e,t,a){return e("template",{slot:"prepend"},[t[a]])},append:function(e,t,a){return e("template",{slot:"append"},[t[a]])}},"el-select":{options:function(e,t,a){var r=[];return t.options.forEach((function(t){r.push(e("el-option",{attrs:{label:t.label,value:t.value,disabled:t.disabled}}))})),r}},"el-radio-group":{options:function(e,t,a){var r=[];return t.options.forEach((function(a){"button"===t.optionType?r.push(e("el-radio-button",{attrs:{label:a.value}},[a.label])):r.push(e("el-radio",{attrs:{label:a.value,border:t.border}},[a.label]))})),r}},"el-checkbox-group":{options:function(e,t,a){var r=[];return t.options.forEach((function(a){"button"===t.optionType?r.push(e("el-checkbox-button",{attrs:{label:a.value}},[a.label])):r.push(e("el-checkbox",{attrs:{label:a.value,border:t.border}},[a.label]))})),r}},"el-upload":{"list-type":function(e,t,a){var r=[];return"picture-card"===t["list-type"]?r.push(e("i",{class:"el-icon-plus"})):r.push(e("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-upload"}},[t.buttonText])),t.showTip&&r.push(e("div",{slot:"tip",class:"el-upload__tip"},["只能上传不超过 ",t.fileSize,t.sizeUnit," 的",t.accept,"文件"])),r}}};t["a"]={render:function(e){var t=this,a={attrs:{},props:{},on:{},style:{}},r=JSON.parse(JSON.stringify(this.conf)),s=[],n=i[r.tag];return n&&Object.keys(n).forEach((function(t){var a=n[t];r[t]&&s.push(a(e,r,t))})),Object.keys(r).forEach((function(e){var i=r[e];"vModel"===e?l(t,a,r.defaultValue):a[e]?a[e]=i:o(e)?a.attrs[e]=i:a.props[e]=i})),e(this.conf.tag,a,s)},props:["conf"]}},a88a:function(e,t,a){},a8b4:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"报损单号",prop:"orderCode"}},[a("el-input",{attrs:{placeholder:"请输入报损单号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.orderCode,callback:function(t){e.$set(e.queryParams,"orderCode",t)},expression:"queryParams.orderCode"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList}},[a("el-table-column",{attrs:{label:"报损编号",align:"center",prop:"orderCode"}}),a("el-table-column",{attrs:{label:"报损时间",align:"center",prop:"takeDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e.parseTimeShort(t.row.createTime))+" ")])]}}])}),a("el-table-column",{attrs:{label:"报损金额(元)",align:"center",prop:"costMoney"}}),a("el-table-column",{attrs:{label:"总金额(元)",align:"center",prop:"money"}}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"statuz"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(t.row.statuz)+" ")])]}}])}),a("el-table-column",{attrs:{label:"经办人员",align:"center",prop:"purchasor"}}),a("el-table-column",{attrs:{label:"操作人",align:"center",prop:"userId"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-tickets"},on:{click:function(a){return e.lookDetail(t.row)}}},[e._v("报损明细")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]),"草稿"==t.row.statuz?a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-top"},on:{click:function(a){return e.submitLoss(t.row)}}},[e._v("提交报损")]):e._e()]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.title,visible:e.open,width:"50%","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"label-width":"130px"}},[a("el-form-item",{attrs:{prop:"purchasor",label:"经办人员",required:""}},[a("el-input",{model:{value:e.form.purchasor,callback:function(t){e.$set(e.form,"purchasor",t)},expression:"form.purchasor"}})],1),a("el-form-item",{attrs:{prop:"note",label:"报损原因",required:""}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.note,callback:function(t){e.$set(e.form,"note",t)},expression:"form.note"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"添加报损商品",visible:e.detailBool,width:"85%","append-to-body":""},on:{"update:visible":function(t){e.detailBool=t}}},[a("el-form",{ref:"detailform",staticClass:"formDetail",attrs:{model:e.detailform,"label-width":"0"}},[a("div",{staticClass:"descriptions"},e._l(e.currentDetail,(function(t){return a("el-descriptions",{key:t.objectId,staticClass:"descriptions-td",attrs:{column:9,border:"",direction:"vertical"}},[a("el-descriptions-item",{attrs:{label:"产品名称",labelStyle:"width:160px"}},[a("div",[e._v(e._s(t.name))])]),a("el-descriptions-item",{attrs:{label:"单价(元)",labelStyle:"width:80px"}},[a("div",[e._v(e._s(t.price))])]),a("el-descriptions-item",{attrs:{label:"单位",labelStyle:"width:60px"}},[a("div",[e._v(e._s(t.unit))])]),a("el-descriptions-item",{attrs:{label:"报损数量",labelStyle:"width:160px"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{type:"number",placeholder:"报损数量"},model:{value:t.cnt,callback:function(a){e.$set(t,"cnt",a)},expression:"item.cnt"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"报损金额(元)",labelStyle:"width:160px"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{type:"number",min:"0",placeholder:"报损金额"},model:{value:t.money,callback:function(a){e.$set(t,"money",a)},expression:"item.money"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"仓库",labelStyle:"width:160px"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.storeId,callback:function(a){e.$set(t,"storeId",a)},expression:"item.storeId"}},e._l(e.storeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1)],1)]),a("el-descriptions-item",{attrs:{label:"批号"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"请输入批号"},model:{value:t.batchCode,callback:function(a){e.$set(t,"batchCode",a)},expression:"item.batchCode"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"生产日期"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择生产日期"},model:{value:t.createDate,callback:function(a){e.$set(t,"createDate",a)},expression:"item.createDate"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"有效期"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择有效期"},model:{value:t.validDate,callback:function(a){e.$set(t,"validDate",a)},expression:"item.validDate"}})],1)],1)])],1)})),1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFormDetail}},[e._v("保存")])],1)],1),a("el-dialog",{attrs:{title:"报损明细",visible:e.showDetail,width:"50%","close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.showDetail=t}}},[a("el-form",{ref:"queryParamsOrder",attrs:{model:e.queryParamsOrder,inline:!0}},[a("el-form-item",{attrs:{label:"名称",prop:"productName"}},[a("el-input",{attrs:{placeholder:"请输入名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQueryOrder(t)}},model:{value:e.queryParamsOrder.productName,callback:function(t){e.$set(e.queryParamsOrder,"productName",t)},expression:"queryParamsOrder.productName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"cyan",icon:"el-icon-search",size:"mini"},on:{click:e.handleQueryOrder}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQueryOrder}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.addDetail}},[e._v("新增报损商品")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingGood,expression:"loadingGood"}],attrs:{data:e.goodList,"highlight-current-row":""}},[a("el-table-column",{attrs:{label:"名称",prop:"productName"}}),a("el-table-column",{attrs:{label:"单位",prop:"unit"}}),a("el-table-column",{attrs:{label:"数量",prop:"cnt"}}),a("el-table-column",{attrs:{label:"仓库",prop:"store"}}),a("el-table-column",{attrs:{label:"批号",prop:"batchCode"}}),a("el-table-column",{attrs:{label:"报损金额(元)",prop:"money"}}),a("el-table-column",{attrs:{label:"生产日期",prop:"createDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e.parseTimeShort(t.row.createDate))+" ")])]}}])}),a("el-table-column",{attrs:{label:"有效期",prop:"validDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e.parseTimeShort(t.row.validDate))+" ")])]}}])}),a("el-table-column",{attrs:{label:"操作",prop:"validDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdateDetail(t.row)}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDeleteDetail(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.detailTotal>0,expression:"detailTotal>0"}],attrs:{total:e.detailTotal,page:e.queryParamsOrder.pageNum,limit:e.queryParamsOrder.pageSize},on:{"update:page":function(t){return e.$set(e.queryParamsOrder,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParamsOrder,"pageSize",t)},pagination:e.getDetailList}}),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showDetail=!1}}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"修改",visible:e.updateBool,width:"80%","append-to-body":""},on:{"update:visible":function(t){e.updateBool=t}}},[a("el-form",{ref:"updateform",staticClass:"form",attrs:{model:e.updateform,"label-width":"0"}},[a("div",[a("el-descriptions",{staticClass:"descriptions",attrs:{column:9,border:"",direction:"vertical"}},[a("el-descriptions-item",{attrs:{label:"产品名称",labelStyle:"width:160px"}},[a("span",[e._v(e._s(e.updateform.productName))])]),a("el-descriptions-item",{attrs:{label:"单价(元)",labelStyle:"width:80px"}},[a("span",[e._v(e._s(e.updateform.price))])]),a("el-descriptions-item",{attrs:{label:"单位",labelStyle:"width:60px"}},[a("span",[e._v(e._s(e.updateform.unit))])]),a("el-descriptions-item",{attrs:{label:"数量",labelStyle:"width:160px"}},[a("span",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"产品数量"},model:{value:e.updateform.cnt,callback:function(t){e.$set(e.updateform,"cnt",t)},expression:"updateform.cnt"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"报损金额(元)",labelStyle:"width:160px"}},[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{type:"number",min:"0",placeholder:"报损金额"},model:{value:e.updateform.money,callback:function(t){e.$set(e.updateform,"money",t)},expression:"updateform.money"}})],1)],1),a("el-descriptions-item",{attrs:{label:"仓库",labelStyle:"width:160px"}},[a("el-form-item",{attrs:{required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.updateform.storeId,callback:function(t){e.$set(e.updateform,"storeId",t)},expression:"updateform.storeId"}},e._l(e.storeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1)],1),a("el-descriptions-item",{attrs:{label:"批号"}},[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"请输入批号"},model:{value:e.updateform.batchCode,callback:function(t){e.$set(e.updateform,"batchCode",t)},expression:"updateform.batchCode"}})],1)],1),a("el-descriptions-item",{attrs:{label:"生产日期"}},[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择生产日期"},model:{value:e.updateform.createDate,callback:function(t){e.$set(e.updateform,"createDate",t)},expression:"updateform.createDate"}})],1)],1),a("el-descriptions-item",{attrs:{label:"有效期"}},[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择有效期"},model:{value:e.updateform.validDate,callback:function(t){e.$set(e.updateform,"validDate",t)},expression:"updateform.validDate"}})],1)],1)],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFormUpdate}},[e._v("确 定")]),a("el-button",{on:{click:function(t){e.updateBool=!1}}},[e._v("取 消")])],1)],1),e.show?a("SelectGoods",{attrs:{title:"选择商品",show:e.show},on:{confirm:e.confirmSelectGood,close:function(t){e.show=!1}}}):e._e()],1)},o=[],l=a("0344"),i=(a("6540"),a("1d7a"),a("151f")),s=a("535d"),n=a("83f1"),c=a("a6db"),u={components:{SelectGoods:c["a"]},data:function(){return{updateBool:!1,queryParamsOrder:{pageNum:1,pageSize:10,productName:void 0,orderId:""},updateform:{},goodList:[],detailTotal:0,loadingGood:!1,showDetail:!1,currentOrder:{},show:!1,detailform:{},detailBool:!1,userList:[],options:[],loading:!1,showSearch:!0,total:0,postList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,orderCode:"",status:"草稿"},form:{note:"",purchasor:""},rules:{note:[{required:!0,message:"报损原因不能为空",trigger:"change"},{required:!0,message:"报损原因不能为空",trigger:"blur"}],purchasor:[{required:!0,message:"经办人员不能为空",trigger:"blur"},{required:!0,message:"经办人员不能为空",trigger:"change"}]},currentDetail:[{cnt:"",money:"",storeId:"",batchCode:"",createDate:"",validDate:"",productId:""}],storeList:[]}},created:function(){this.getList(),this.supplierList(),this.companyUserList(),this.getstoreList()},methods:{submitFormUpdate:function(){var e=this;Object(i["f"])(this.updateform).then((function(t){e.$modal.msgSuccess("修改成功"),e.updateBool=!1,e.getDetailList()}))},submitLoss:function(e){var t=this;Object(i["l"])({objectId:e.objectId}).then((function(e){t.msgSuccess("提交成功"),t.getList()}))},handleUpdateDetail:function(e){var t=this;Object(i["g"])(e.objectId).then((function(e){t.updateform=e.data,t.updateBool=!0}))},handleDeleteDetail:function(e){var t=this;this.$modal.confirm("是否确认删除该数据项？").then((function(){return Object(i["d"])(e.objectId)})).then((function(){t.getDetailList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},getstoreList:function(){var e=this;Object(n["O"])({companyId:this.$store.state.user.companyInfo.companyId}).then((function(t){e.storeList=t.data}))},submitFormDetail:function(){var e=this;console.log(this.currentDetail);var t={},a=[];this.currentDetail.map((function(e){a.push({cnt:e.cnt,money:e.money,storeId:e.storeId,batchCode:e.batchCode,createDate:e.createDate,validDate:e.validDate,productId:e.objectId})})),t.objectId=this.currentOrder.objectId,t.itemList=a,Object(i["b"])(t).then((function(t){console.log(t),e.$modal.msgSuccess("新增成功"),e.detailBool=!1,e.getDetailList()}))},handleQueryOrder:function(){this.queryParams.pageNum=1,this.getDetailList()},getDetailList:function(){var e=this;this.loadingGood=!0,Object(i["h"])(this.queryParamsOrder).then((function(t){e.goodList=t.rows,e.detailTotal=t.total,e.loadingGood=!1}))},resetDetail:function(){this.queryParamsOrder={pageNum:1,pageSize:10,productName:"",orderId:""}},confirmSelectGood:function(e){this.$set(this,"currentDetail",Object(l["a"])(e)),this.$forceUpdate(),this.show=!1,this.detailBool=!0},lookDetail:function(e){this.currentOrder=e,this.resetDetail(),this.queryParamsOrder.orderId=e.objectId,this.showDetail=!0,this.getDetailList()},addDetail:function(){this.show=!0},selectSupplier:function(e){this.form.supplier=e.name,this.form.supplierId=e.objectId},getList:function(){var e=this;this.loading=!0,Object(i["j"])(this.queryParams).then((function(t){e.postList=t.rows,e.total=t.total,e.loading=!1}))},supplierList:function(){var e=this;Object(s["e"])().then((function(t){e.options=t.data}))},companyUserList:function(){var e=this;console.log(this.$store.state),Object(n["g"])({companyId:this.$store.state.user.companyInfo.companyId}).then((function(t){e.userList=t.data}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={note:"",purchasor:""},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQueryOrder:function(){this.queryParamsOrder.pageNum=1,this.queryParamsOrder.productName="",this.getDetailList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加报损"},handleUpdate:function(e){var t=this;this.reset(),Object(i["i"])(e.objectId).then((function(e){t.form=e.data,t.open=!0,t.title="修改报损信息"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.objectId?Object(i["e"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(i["a"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this;this.$modal.confirm("是否确认删除该数据项？").then((function(){return Object(i["c"])(e.objectId)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))}}},d=u,m=(a("bfed"),a("cba8")),p=Object(m["a"])(d,r,o,!1,null,"60e2caf6",null);t["default"]=p.exports},a8ed:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"事件名称",prop:"caseName"}},[a("el-input",{attrs:{placeholder:"请输入事件名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.caseName,callback:function(t){e.$set(e.queryParams,"caseName",t)},expression:"queryParams.caseName"}})],1),a("el-form-item",{attrs:{label:"涉及单位",prop:"companyName"}},[a("el-input",{attrs:{placeholder:"请输入涉及单位",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.companyName,callback:function(t){e.$set(e.queryParams,"companyName",t)},expression:"queryParams.companyName"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.options,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList}},[a("el-table-column",{attrs:{label:"序号",type:"index"}}),a("el-table-column",{attrs:{label:"事件名称",align:"center",prop:"caseName"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{color:"#1989fa",cursor:"pointer"},on:{click:function(a){return e.seeDetail(t.row)}}},[e._v(e._s(t.row.caseName))])]}}])}),a("el-table-column",{attrs:{label:"涉及单位",align:"center",prop:"companyName"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.companyId?t.row.companyName:t.row.compName))])]}}])}),a("el-table-column",{attrs:{label:"报告时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.reportTime)))])]}}])}),a("el-table-column",{attrs:{label:"报告人",align:"center",prop:"reportName"}}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.status))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return["已处理"==t.row.status?a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("处理结果")]):e._e(),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:"处理结果",visible:e.open,"close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("div",[e._v(e._s(e.note))]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.open=!1,e.note=""}}},[e._v("确定")])],1)])],1)},o=[],l=a("c77f"),i={name:"Post",dicts:["sys_normal_disable"],data:function(){return{loading:!1,showSearch:!0,total:0,postList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,caseName:void 0,companyName:void 0,status:void 0},options:["待处理","已处理"],form:{},note:""}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(l["f"])(this.queryParams).then((function(t){e.postList=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.$router.push({path:"/report/addReposrt"})},handleUpdate:function(e){this.note=e.note,this.open=!0},seeDetail:function(e){this.$router.push({path:"/report/reportDetail",query:{id:e.objectId,compTypeName:e.compTypeName,tradeName:e.tradeName}})},handleDelete:function(e){var t=this;this.$modal.confirm('是否确认删除"'+e.caseName+'"的数据项？').then((function(){return Object(l["c"])(e.objectId)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))}}},s=i,n=a("cba8"),c=Object(n["a"])(s,r,o,!1,null,null,null);t["default"]=c.exports},a92a:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",e._g(e._b({attrs:{width:"500px","close-on-click-modal":!1,"modal-append-to-body":!1},on:{open:e.onOpen,close:e.onClose}},"el-dialog",e.$attrs,!1),e.$listeners),[a("el-row",{attrs:{gutter:15}},[a("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.rules,size:"medium","label-width":"100px"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"生成类型",prop:"type"}},[a("el-radio-group",{model:{value:e.formData.type,callback:function(t){e.$set(e.formData,"type",t)},expression:"formData.type"}},e._l(e.typeOptions,(function(t,r){return a("el-radio-button",{key:r,attrs:{label:t.value,disabled:t.disabled}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),e.showFileName?a("el-form-item",{attrs:{label:"文件名",prop:"fileName"}},[a("el-input",{attrs:{placeholder:"请输入文件名",clearable:""},model:{value:e.formData.fileName,callback:function(t){e.$set(e.formData,"fileName",t)},expression:"formData.fileName"}})],1):e._e()],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v(" 取消 ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handelConfirm}},[e._v(" 确定 ")])],1)],1)],1)},o=[],l=a("06c4"),i={inheritAttrs:!1,props:["showFileName"],data:function(){return{formData:{fileName:void 0,type:"file"},rules:{fileName:[{required:!0,message:"请输入文件名",trigger:"blur"}],type:[{required:!0,message:"生成类型不能为空",trigger:"change"}]},typeOptions:[{label:"页面",value:"file"},{label:"弹窗",value:"dialog"}]}},computed:{},watch:{},mounted:function(){},methods:{onOpen:function(){this.showFileName&&(this.formData.fileName="".concat(+new Date,".vue"))},onClose:function(){},close:function(e){this.$emit("update:visible",!1)},handelConfirm:function(){var e=this;this.$refs.elForm.validate((function(t){t&&(e.$emit("confirm",Object(l["a"])({},e.formData)),e.close())}))}}},s=i,n=a("cba8"),c=Object(n["a"])(s,r,o,!1,null,null,null);t["default"]=c.exports},ab61:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[e.mainBool?a("div",[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",staticClass:"search",attrs:{model:e.queryParams,inline:!0,"label-width":"88px"}},[a("el-form-item",{attrs:{label:"案件名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入案件名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),a("el-form-item",{attrs:{label:"立案日期",prop:"cadate"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",type:"date",placeholder:"选择立案日期"},model:{value:e.queryParams.cadate,callback:function(t){e.$set(e.queryParams,"cadate",t)},expression:"queryParams.cadate"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"cyan",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.noticeList}},[a("el-table-column",{attrs:{label:"案件名称",prop:"NAME"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"link",on:{click:function(a){return e.lookCase(t.row)}}},[e._v(" "+e._s(t.row.NAME?t.row.NAME:"")+" ")])]}}],null,!1,2478149324)}),a("el-table-column",{attrs:{label:"立卷人",prop:"USER_NAME_UP","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"主体业态",prop:"TRADE_NAME"}}),a("el-table-column",{attrs:{label:"立案日期",prop:"CADATE"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(new Date(t.row.CADATE),"{y}-{m}-{d}")))])]}}],null,!1,2587242690)}),a("el-table-column",{attrs:{label:"处理单位",prop:"dept_name"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(e){}}],null,!1,4154174436)})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1):e._e(),e.caseProcessBool?a("CaseProcess",{attrs:{id:e.currentDocumentId},on:{back:function(t){return e.backMain(1)}}}):e._e()],1)},o=[],l=(a("6540"),a("cca2"),a("2102")),i=a("5e1a"),s=a("1a59"),n=a("79b1"),c={name:"Notice",components:{CaseProcess:l["default"]},data:function(){return{currentDocumentId:"",treedata:[],enterpriseType:[],industryTypeList:[],mainBool:!0,caseProcessBool:!1,openUnit:!1,openPersonal:!1,data:[],defaultProps:{children:"children",label:"label"},radio:0,loading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,noticeList:[],title:"",open:!1,typeOptions:[],queryParams:{pageNum:1,pageSize:10,noticeTitle:void 0,time:void 0},form:{},rules:{noticeTitle:[{required:!0,message:"公告标题不能为空",trigger:"blur"}],noticeType:[{required:!0,message:"公告类型不能为空",trigger:"blur"}]}}},created:function(){this.getList(),this.getAreaTree(),this.getIndustryTypeList()},methods:{cancelVerify:function(e){var t=this;this.$confirm('是否确认撤销为"'+e.NAME+'"案件的归档审核?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["a"])({objectId:e.OBJECT_ID})})).then((function(){t.msgSuccess("撤销成功"),t.getList()}))},caseSubmitToVerify:function(e){var t=this;this.$confirm('是否确认提交为"'+e.NAME+'"案件的归档审核?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])({objectId:e.OBJECT_ID})})).then((function(){t.msgSuccess("撤销成功"),t.getList()}))},handleChange:function(e){this.queryParams.areaId=e[e.length-1]},getAreaTree:function(){var e=this;Object(s["a"])().then((function(t){e.treedata=t.data}))},getIndustryTypeList:function(){var e=this;Object(i["b"])().then((function(t){e.industryTypeList=t.data?t.data:[]}))},getEnterpriseTypeList:function(){var e=this;Object(i["a"])({tradeId:this.queryParams.tradeId}).then((function(t){e.enterpriseType=t.data?t.data:[]}))},selectNode:function(){},confirmSelectUnit:function(){var e=[];this.$refs.tree.getCheckedNodes().map((function(t){e.push(t.label)})),this.form.unit=e.join(","),this.openUnit=!1},getList:function(){var e=this;this.loading=!0,this.queryParams.companyId=this.$store.state.user.companyInfo.companyId,Object(n["d"])(this.queryParams).then((function(t){e.noticeList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={noticeId:void 0,noticeTitle:void 0,noticeType:void 0,noticeContent:void 0,status:"0"},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加公告"},handleUpdate:function(e){var t=this;this.reset();var a=e.noticeId||this.ids;getNotice(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改公告"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.noticeId?updateNotice(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):addNotice(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.noticeId||this.ids;this.$confirm('是否确认删除公告编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return delNotice(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")}))},backMain:function(e){0==e?(this.editBool=!1,this.mainBool=!0):1==e&&(this.caseProcessBool=!1,this.mainBool=!0)},lookCase:function(e){this.currentDocumentId=e.OBJECT_ID,this.mainBool=!1,this.caseProcessBool=!0}}},u=c,d=(a("64bd"),a("cba8")),m=Object(d["a"])(u,r,o,!1,null,"04840d6c",null);t["default"]=m.exports},abc5:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-input",{on:{input:e.input},model:{value:e.eatArea,callback:function(t){e.eatArea=t},expression:"eatArea"}})],1)},o=[],l={props:{value:{type:String,required:!0}},data:function(){return{eatArea:""}},methods:{input:function(e){this.$emit("eatArea",this.eatArea)}},watch:{value:function(){this.eatArea=this.value}}},i=l,s=a("cba8"),n=Object(s["a"])(i,r,o,!1,null,"c16ee42c",null);t["default"]=n.exports},ac20:function(e,t,a){},ac63:function(e,t,a){},b07d:function(e,t,a){},b180:function(e,t,a){"use strict";a("e599")},b373:function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"d",(function(){return n}));var r=a("b775");function o(e){return Object(r["a"])({url:"/store/st-custom-person/list",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/store/st-custom-person/add",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/store/st-custom-person/edit",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/store/st-custom-person/delete/".concat(e),method:"get"})}function n(e){return Object(r["a"])({url:"/store/st-custom-person/get/".concat(e),method:"get"})}},b485:function(e,t,a){"use strict";a("f0b5")},b550:function(e,t,a){"use strict";a("8c00")},b571:function(e,t,a){"use strict";a("ac63")},b64d:function(e,t,a){"use strict";a("3758")},b744:function(e,t,a){"use strict";a("d9bc")},b8d5:function(e,t,a){"use strict";a("164b")},ba97:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAABw0lEQVQ4ja3Vz4tNcRjH8dfc/ChspISFLBiyIAslNI0VW2ImGxlJk8jGv2HDwoZREkLKyq8VISZbKYpxJ4qSBRkXoa+eq+P4nuPey6e+Peee5zzv83zP832e2zd76y0VmolD2IllaOApLuAIPuXCplXAFuMqVpbur4q1C1vwvBPgdFzHigg4hgf4jrWRdT+uYXU500YGeDBgE9iD22jhM+5iN54F9HA5OAccDnsc7zP+j5F18dla4NKwDzM+JV9/J8BvYasKVoz72gnwcdj1NcANYR91Ajwddj8WZPzzcCCuz5WduYPdhzuR4VucxP3CsdmL+RjHRnz5GzBpLi5jML/jn8dnG96UHVUf/h02xbFIXbE87qfWO4szkfEfquvlnpQryn8HrsNY9HErtlZcrfCNxbO/qbjlWTiF7V1knprgEkaiJX8VZU4MgTXhuBgTZyKGQlEzsASbsQNDMS8H8KENPBGwlzFtmjVZpRc8iXUFRyM2fYKhRrRRestUdEAdrKxmJDAV2Q4m4L7ojvOY7ALW1mTEJo00Ct1wswdYWzfiYiABF8WPVIBe9SICF6aivIo/pXv/AGzrdcpwtMtCVKmJ0R/3uGWnvkcAVAAAAABJRU5ErkJggg=="},bb0a:function(e,t,a){},bb49:function(e,t,a){"use strict";a.r(t);var r=["platform-eleme","eleme","delete-solid","delete","s-tools","setting","user-solid","user","phone","phone-outline","more","more-outline","star-on","star-off","s-goods","goods","warning","warning-outline","question","info","remove","circle-plus","success","error","zoom-in","zoom-out","remove-outline","circle-plus-outline","circle-check","circle-close","s-help","help","minus","plus","check","close","picture","picture-outline","picture-outline-round","upload","upload2","download","camera-solid","camera","video-camera-solid","video-camera","message-solid","bell","s-cooperation","s-order","s-platform","s-fold","s-unfold","s-operation","s-promotion","s-home","s-release","s-ticket","s-management","s-open","s-shop","s-marketing","s-flag","s-comment","s-finance","s-claim","s-custom","s-opportunity","s-data","s-check","s-grid","menu","share","d-caret","caret-left","caret-right","caret-bottom","caret-top","bottom-left","bottom-right","back","right","bottom","top","top-left","top-right","arrow-left","arrow-right","arrow-down","arrow-up","d-arrow-left","d-arrow-right","video-pause","video-play","refresh","refresh-right","refresh-left","finished","sort","sort-up","sort-down","rank","loading","view","c-scale-to-original","date","edit","edit-outline","folder","folder-opened","folder-add","folder-remove","folder-delete","folder-checked","tickets","document-remove","document-delete","document-copy","document-checked","document","document-add","printer","paperclip","takeaway-box","search","monitor","attract","mobile","scissors","umbrella","headset","brush","mouse","coordinate","magic-stick","reading","data-line","data-board","pie-chart","data-analysis","collection-tag","film","suitcase","suitcase-1","receiving","collection","files","notebook-1","notebook-2","toilet-paper","office-building","school","table-lamp","house","no-smoking","smoking","shopping-cart-full","shopping-cart-1","shopping-cart-2","shopping-bag-1","shopping-bag-2","sold-out","sell","present","box","bank-card","money","coin","wallet","discount","price-tag","news","guide","male","female","thumb","cpu","link","connection","open","turn-off","set-up","chat-round","chat-line-round","chat-square","chat-dot-round","chat-dot-square","chat-line-square","message","postcard","position","turn-off-microphone","microphone","close-notification","bangzhu","time","odometer","crop","aim","switch-button","full-screen","copy-document","mic","stopwatch","medal-1","medal","trophy","trophy-1","first-aid-kit","discover","place","location","location-outline","location-information","add-location","delete-location","map-location","alarm-clock","timer","watch-1","watch","lock","unlock","key","service","mobile-phone","bicycle","truck","ship","basketball","football","soccer","baseball","wind-power","light-rain","lightning","heavy-rain","sunrise","sunrise-1","sunset","sunny","cloudy","partly-cloudy","cloudy-and-sunny","moon","moon-night","dish","dish-1","food","chicken","fork-spoon","knife-fork","burger","tableware","sugar","dessert","ice-cream","hot-water","water-cup","coffee-cup","cold-drink","goblet","goblet-full","goblet-square","goblet-square-full","refrigerator","grape","watermelon","cherry","apple","pear","orange","coffee","ice-tea","ice-drink","milk-tea","potato-strips","lollipop","ice-cream-square","ice-cream-round"];t["default"]=r},bb90:function(e,t,a){"use strict";a("d70a")},bce5:function(e,t,a){"use strict";a("a2c5")},bda2:function(e,t,a){"use strict";a("0309")},bfc4:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"字典名称",prop:"dictType"}},[a("el-select",{attrs:{size:"small"},model:{value:e.queryParams.dictType,callback:function(t){e.$set(e.queryParams,"dictType",t)},expression:"queryParams.dictType"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictName,value:e.dictType}})})),1)],1),a("el-form-item",{attrs:{label:"字典标签",prop:"dictLabel"}},[a("el-input",{attrs:{placeholder:"请输入字典标签",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictLabel,callback:function(t){e.$set(e.queryParams,"dictLabel",t)},expression:"queryParams.dictLabel"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"数据状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.dict.type.sys_normal_disable,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:add"],expression:"['system:dict:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:edit"],expression:"['system:dict:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:remove"],expression:"['system:dict:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:export"],expression:"['system:dict:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.dataList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"字典编码",align:"center",prop:"dictCode"}}),a("el-table-column",{attrs:{label:"字典标签",align:"center",prop:"dictLabel"},scopedSlots:e._u([{key:"default",fn:function(t){return[""==t.row.listClass||"default"==t.row.listClass?a("span",[e._v(e._s(t.row.dictLabel))]):a("el-tag",{attrs:{type:"primary"==t.row.listClass?"":t.row.listClass}},[e._v(e._s(t.row.dictLabel))])]}}])}),a("el-table-column",{attrs:{label:"字典键值",align:"center",prop:"dictValue"}}),a("el-table-column",{attrs:{label:"字典排序",align:"center",prop:"dictSort"}}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("dict-tag",{attrs:{options:e.dict.type.sys_normal_disable,value:t.row.status}})]}}])}),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:edit"],expression:"['system:dict:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:remove"],expression:"['system:dict:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"字典类型"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.dictType,callback:function(t){e.$set(e.form,"dictType",t)},expression:"form.dictType"}})],1),a("el-form-item",{attrs:{label:"数据标签",prop:"dictLabel"}},[a("el-input",{attrs:{placeholder:"请输入数据标签"},model:{value:e.form.dictLabel,callback:function(t){e.$set(e.form,"dictLabel",t)},expression:"form.dictLabel"}})],1),a("el-form-item",{attrs:{label:"数据键值",prop:"dictValue"}},[a("el-input",{attrs:{placeholder:"请输入数据键值"},model:{value:e.form.dictValue,callback:function(t){e.$set(e.form,"dictValue",t)},expression:"form.dictValue"}})],1),a("el-form-item",{attrs:{label:"样式属性",prop:"cssClass"}},[a("el-input",{attrs:{placeholder:"请输入样式属性"},model:{value:e.form.cssClass,callback:function(t){e.$set(e.form,"cssClass",t)},expression:"form.cssClass"}})],1),a("el-form-item",{attrs:{label:"显示排序",prop:"dictSort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.dictSort,callback:function(t){e.$set(e.form,"dictSort",t)},expression:"form.dictSort"}})],1),a("el-form-item",{attrs:{label:"回显样式",prop:"listClass"}},[a("el-select",{model:{value:e.form.listClass,callback:function(t){e.$set(e.form,"listClass",t)},expression:"form.listClass"}},e._l(e.listClassOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.dict.type.sys_normal_disable,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},o=[],l=(a("6540"),a("1d7a"),a("aa3a")),i=a("ed45"),s={name:"Data",dicts:["sys_normal_disable"],data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,dataList:[],defaultDictType:"",title:"",open:!1,listClassOptions:[{value:"default",label:"默认"},{value:"primary",label:"主要"},{value:"success",label:"成功"},{value:"info",label:"信息"},{value:"warning",label:"警告"},{value:"danger",label:"危险"}],typeOptions:[],queryParams:{pageNum:1,pageSize:10,dictName:void 0,dictType:void 0,status:void 0},form:{},rules:{dictLabel:[{required:!0,message:"数据标签不能为空",trigger:"blur"}],dictValue:[{required:!0,message:"数据键值不能为空",trigger:"blur"}],dictSort:[{required:!0,message:"数据顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this.$route.params&&this.$route.params.dictId;this.getType(e),this.getTypeList()},methods:{getType:function(e){var t=this;Object(i["d"])(e).then((function(e){t.queryParams.dictType=e.data.dictType,t.defaultDictType=e.data.dictType,t.getList()}))},getTypeList:function(){var e=this;Object(i["e"])().then((function(t){e.typeOptions=t.rows}))},getList:function(){var e=this;this.loading=!0,Object(l["f"])(this.queryParams).then((function(t){e.dataList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={dictCode:void 0,dictLabel:void 0,dictValue:void 0,cssClass:void 0,listClass:"default",dictSort:0,status:"0",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.queryParams.dictType=this.defaultDictType,this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加字典数据",this.form.dictType=this.queryParams.dictType},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.dictCode})),this.single=1!=e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.dictCode||this.ids;Object(l["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改字典数据"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.dictCode?Object(l["g"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(l["a"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.dictCode||this.ids;this.$modal.confirm('是否确认删除字典编码为"'+a+'"的数据项？').then((function(){return Object(l["b"])(a)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$modal.confirm("是否确认导出所有数据项？").then((function(){return e.exportLoading=!0,Object(l["c"])(t)})).then((function(t){e.$download.name(t.msg),e.exportLoading=!1})).catch((function(){}))}}},n=s,c=a("cba8"),u=Object(c["a"])(n,r,o,!1,null,null,null);t["default"]=u.exports},bfed:function(e,t,a){"use strict";a("1c15")},c0c7:function(e,t,a){"use strict";a.d(t,"i",(function(){return l})),a.d(t,"f",(function(){return i})),a.d(t,"a",(function(){return s})),a.d(t,"l",(function(){return n})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return u})),a.d(t,"j",(function(){return d})),a.d(t,"b",(function(){return m})),a.d(t,"g",(function(){return p})),a.d(t,"m",(function(){return f})),a.d(t,"n",(function(){return h})),a.d(t,"o",(function(){return b})),a.d(t,"h",(function(){return v})),a.d(t,"e",(function(){return g})),a.d(t,"k",(function(){return y}));var r=a("b775"),o=a("c38a");function l(e){return Object(r["a"])({url:"/system/user/list",method:"get",params:e})}function i(e){return Object(r["a"])({url:"/system/user/"+Object(o["f"])(e),method:"get"})}function s(e){return Object(r["a"])({url:"/system/user",method:"post",data:e})}function n(e){return Object(r["a"])({url:"/system/user",method:"put",data:e})}function c(e){return Object(r["a"])({url:"/system/user/"+e,method:"delete"})}function u(e){return Object(r["a"])({url:"/system/user/export",method:"get",params:e})}function d(e,t){var a={userId:e,password:t};return Object(r["a"])({url:"/system/user/resetPwd",method:"put",data:a})}function m(e,t){var a={userId:e,status:t};return Object(r["a"])({url:"/system/user/changeStatus",method:"put",data:a})}function p(){return Object(r["a"])({url:"/system/user/profile",method:"get"})}function f(e){return Object(r["a"])({url:"/system/user/profile",method:"put",data:e})}function h(e,t){var a={oldPassword:e,password:t};return Object(r["a"])({url:"/comp/c-company-user/editPassword",method:"post",data:a})}function b(e){return Object(r["a"])({url:"/system/user/profile/avatar",method:"post",data:e})}function v(){return Object(r["a"])({url:"/system/user/importTemplate",method:"get"})}function g(e){return Object(r["a"])({url:"/system/user/authRole/"+e,method:"get"})}function y(e){return Object(r["a"])({url:"/system/user/authRole",method:"put",params:e})}},c230:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"盘点仓库",prop:"store"}},[a("el-input",{attrs:{placeholder:"请输入盘点仓库",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.store,callback:function(t){e.$set(e.queryParams,"store",t)},expression:"queryParams.store"}})],1),a("el-form-item",{attrs:{label:"盘点人",prop:"purchasor"}},[a("el-input",{attrs:{placeholder:"请输入盘点人",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.purchasor,callback:function(t){e.$set(e.queryParams,"purchasor",t)},expression:"queryParams.purchasor"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList}},[a("el-table-column",{attrs:{label:"盘点单据号",align:"center",prop:"ORDER_CODE"}}),a("el-table-column",{attrs:{label:"盘点人",align:"center",prop:"PURCHASOR"}}),a("el-table-column",{attrs:{label:"盘点仓库",align:"center",prop:"NAME"}}),a("el-table-column",{attrs:{label:"盘点日期",align:"center",prop:"TAKE_DATE",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTimeShort(t.row.TAKE_DATE)))])]}}])}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"STATUZ"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-tickets"},on:{click:function(a){return e.lookTakeDetail(t.row)}}},[e._v("盘点明细")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-tickets"},on:{click:function(a){return e.sunmitAudit(t.row)}}},[e._v("提交审核")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"45%","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"盘点人",prop:"purchasor"}},[a("el-input",{attrs:{placeholder:"请输入盘点人名称"},model:{value:e.form.purchasor,callback:function(t){e.$set(e.form,"purchasor",t)},expression:"form.purchasor"}})],1),a("el-form-item",{attrs:{label:"盘点日期",prop:"takeDate"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择盘点日期"},model:{value:e.form.takeDate,callback:function(t){e.$set(e.form,"takeDate",t)},expression:"form.takeDate"}})],1),a("el-form-item",{attrs:{label:"总金额(元)",prop:"money"}},[a("el-input",{attrs:{placeholder:"请输入总金额",type:"number",min:"0"},model:{value:e.form.money,callback:function(t){e.$set(e.form,"money",t)},expression:"form.money"}})],1),a("el-form-item",{attrs:{label:"盘点仓库",prop:"storeId"}},[a("el-select",{attrs:{placeholder:"请选择盘点仓库"},model:{value:e.form.storeId,callback:function(t){e.$set(e.form,"storeId",t)},expression:"form.storeId"}},e._l(e.storeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"note"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:e.form.note,callback:function(t){e.$set(e.form,"note",t)},expression:"form.note"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"盘库商品",visible:e.show,width:"50%","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.show=t}}},[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini",disabled:e.single},on:{click:e.handleUpdateStatuz}},[e._v("清点")])],1)],1),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.tableRowClassName,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",selectable:e.handleSelectable}}),a("el-table-column",{attrs:{label:"商品名称",prop:"productName"}}),a("el-table-column",{attrs:{prop:"cnt",label:"库存数量"}}),a("el-table-column",{attrs:{prop:"cntCheck",label:"盘点数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"盘点数量",readonly:"已清点"==t.row.statuz},on:{input:function(a){return e.changeCntNumber(t.row)}},model:{value:t.row.cntCheck,callback:function(a){e.$set(t.row,"cntCheck",a)},expression:"scope.row.cntCheck"}})]}}])}),a("el-table-column",{attrs:{prop:"statuz",label:"状态"}}),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return["未清点"==t.row.statuz?a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.checkProduct(t.row)}}},[e._v("清点")]):e._e()]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.takeTotal>0,expression:"takeTotal>0"}],attrs:{total:e.takeTotal,page:e.params.pageNum,limit:e.params.pageSize},on:{"update:page":function(t){return e.$set(e.params,"pageNum",t)},"update:limit":function(t){return e.$set(e.params,"pageSize",t)},pagination:e.getTakeList}})],1)],1)},o=[],l=a("8955"),i=(a("d0bf"),a("6540"),a("644b")),s=a("83f1"),n={data:function(){var e;return e={show:!1,tableData:[],loadingDetail:!1,single:!0,loading:!0,exportLoading:!1,ids:[]},Object(l["a"])(e,"single",!0),Object(l["a"])(e,"multiple",!0),Object(l["a"])(e,"showSearch",!0),Object(l["a"])(e,"total",0),Object(l["a"])(e,"postList",[]),Object(l["a"])(e,"title",""),Object(l["a"])(e,"open",!1),Object(l["a"])(e,"queryParams",{pageNum:1,pageSize:10,store:void 0,purchasor:void 0,status:"草稿"}),Object(l["a"])(e,"params",{pageNum:1,pageSize:10}),Object(l["a"])(e,"form",{purchasor:"",takeDate:"",money:"",storeId:"",note:""}),Object(l["a"])(e,"rules",{purchasor:[{required:!0,message:"盘点人不能为空",trigger:"blur"},{required:!0,message:"盘点人不能为空",trigger:"change"}],takeDate:[{required:!0,message:"盘点日期不能为空",trigger:"blur"},{required:!0,message:"盘点日期不能为空",trigger:"change"}],money:[{required:!0,message:"总金额不能为空",trigger:"blur"},{required:!0,message:"总金额不能为空",trigger:"change"}],storeId:[{required:!0,message:"仓库不能为空",trigger:"blur"},{required:!0,message:"仓库不能为空",trigger:"change"}]}),Object(l["a"])(e,"storeList",[]),Object(l["a"])(e,"takeTotal",0),Object(l["a"])(e,"ids",[]),e},created:function(){this.getList(),this.getstoreList()},methods:{sunmitAudit:function(e){var t=this;Object(i["d"])({objectId:e.OBJECT_ID}).then((function(e){t.msgSuccess("提交成功"),t.getList()}))},tableRowClassName:function(e){var t=e.row;e.rowIndex;return"已清点"===t.statuz?"success-row":""},handleSelectable:function(e){return"已清点"!==e.statuz},changeCntNumber:function(e){e.cntCheck&&Object(i["i"])({objectId:e.objectId,cntCheck:Number(e.cntCheck)}).then((function(e){console.log(e)}))},checkProduct:function(e){var t=this;Object(i["j"])({list:[e.objectId]}).then((function(e){t.takeDetailList()}))},handleUpdateStatuz:function(){var e=this;Object(i["j"])({list:this.ids}).then((function(t){e.takeDetailList()}))},lookTakeDetail:function(e){this.show=!0,this.currentOrderId=e.OBJECT_ID,this.takeDetailList()},takeDetailList:function(){var e=this;this.loadingDetail=!0,Object(i["f"])({orderId:this.currentOrderId}).then((function(t){e.tableData=t.rows,e.takeTotal=t.total,e.loadingDetail=!1}))},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.objectId})),this.single=1!=e.length},getTakeList:function(){},getstoreList:function(){var e=this;Object(s["O"])({companyId:this.$store.state.user.companyInfo.companyId}).then((function(t){e.storeList=t.data}))},getList:function(){var e=this;this.loading=!0,Object(i["h"])(this.queryParams).then((function(t){e.postList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={purchasor:"",takeDate:"",money:"",storeId:"",note:""},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加盘点"},handleUpdate:function(e){var t=this;this.reset(),Object(i["g"])(e.OBJECT_ID).then((function(e){t.form=e.data,t.open=!0,t.title="修改盘点"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.objectId?Object(i["c"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(i["a"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this;this.$modal.confirm("是否确认删除该数据项？").then((function(){return Object(i["b"])(e.OBJECT_ID)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))}}},c=n,u=(a("e790"),a("cba8")),d=Object(u["a"])(c,r,o,!1,null,"4c5cdd0c",null);t["default"]=d.exports},c2c7:function(e,t,a){"use strict";a("0c1d")},c36d:function(e,t,a){"use strict";a("b07d")},c3ae:function(e,t,a){},c712:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("table",{staticClass:"tableStyle tCenter"},[a("thead",[a("tr",[a("th",{staticClass:"tableContent",attrs:{colspan:"4"}},[e._v("药师基本信息")])])]),a("tbody",[a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("头像：")]),a("td",{staticClass:"tableContent",attrs:{colspan:"3"}},[a("el-form-item",{attrs:{prop:"headImg"}},[a("el-upload",{ref:"photo",attrs:{action:e.action,limit:1,"file-list":e.fileList,headers:e.headers,"list-type":"picture-card","on-success":e.handleAvatarSuccess},scopedSlots:e._u([{key:"file",fn:function(t){var r=t.file;return a("div",{},[a("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:r.url,alt:""}}),a("span",{staticClass:"el-upload-list__item-actions"},[a("span",{staticClass:"el-upload-list__item-preview",on:{click:function(t){return e.handlePictureCardPreview(r)}}},[a("i",{staticClass:"el-icon-zoom-in"})]),e.disabled?e._e():a("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemove(r)}}},[a("i",{staticClass:"el-icon-delete"})])])])}}])},[a("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})])],1)],1)]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("姓名：")]),a("td",{staticClass:"tableContent"},[a("div",{staticClass:"input-suffix"},[a("el-form-item",{attrs:{prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("span",{staticClass:"required"},[e._v("*")])],1)]),a("td",{staticClass:"tableTitle tableTitle1"},[e._v("联系电话：")]),a("td",{staticClass:"tableContent input-suffix"},[a("el-form-item",{attrs:{prop:"mobile"}},[a("el-input",{attrs:{placeholder:"请输入联系电话"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),a("span",{staticClass:"required"},[e._v("*")])],1)]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("性别：")]),a("td",{staticClass:"tableContent input-suffix"},[a("el-form-item",{attrs:{prop:"sex"}},[a("el-radio-group",{model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("el-radio",{attrs:{label:"男"}},[e._v("男")]),a("el-radio",{attrs:{label:"女"}},[e._v("女")])],1)],1),a("span",{staticClass:"required"},[e._v("*")])],1),a("td",{staticClass:"tableTitle tableTitle1"},[e._v("出生日期：")]),a("td",{staticClass:"tableContent input-suffix"},[a("el-form-item",{attrs:{prop:"birthday"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"请选择出生日期"},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}})],1),a("span",{staticClass:"required"},[e._v("*")])],1)]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("身份证编号：")]),a("td",{staticClass:"tableContent input-suffix",attrs:{colspan:"3"}},[a("el-form-item",{attrs:{prop:"idcard"}},[a("el-input",{attrs:{placeholder:"请输入身份证编号"},model:{value:e.form.idcard,callback:function(t){e.$set(e.form,"idcard",t)},expression:"form.idcard"}})],1),a("span",{staticClass:"required"},[e._v("*")])],1)]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("药师注册证编号")]),a("td",{staticClass:"tableContent",attrs:{colspan:"3"}},[a("div",{staticClass:"input-suffix"},[a("el-form-item",{attrs:{prop:"dgno"}},[a("el-input",{attrs:{placeholder:"请输入药师注册证编号"},model:{value:e.form.dgno,callback:function(t){e.$set(e.form,"dgno",t)},expression:"form.dgno"}})],1),a("span",{staticClass:"required"},[e._v("*")])],1)])]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("注册时间：")]),a("td",{staticClass:"tableContent"},[a("div",{staticClass:"input-suffix"},[a("el-form-item",{attrs:{prop:"startDate"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"请选择注册时间"},model:{value:e.form.startDate,callback:function(t){e.$set(e.form,"startDate",t)},expression:"form.startDate"}})],1),a("span",{staticClass:"required"},[e._v("*")])],1)]),a("td",{staticClass:"tableTitle tableTitle1"},[e._v("有效期至：")]),a("td",{staticClass:"tableContent"},[a("div",{staticClass:"input-suffix"},[a("el-form-item",{attrs:{prop:"endDate"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"请选择有效期"},model:{value:e.form.endDate,callback:function(t){e.$set(e.form,"endDate",t)},expression:"form.endDate"}})],1),a("span",{staticClass:"required"},[e._v("*")])],1)])]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("发证机构：")]),a("td",{staticClass:"tableContent",attrs:{colspan:"3"}},[a("div",{staticClass:"input-suffix"},[a("el-form-item",{attrs:{prop:"dgorg"}},[a("el-input",{attrs:{placeholder:"请输入发证机构"},model:{value:e.form.dgorg,callback:function(t){e.$set(e.form,"dgorg",t)},expression:"form.dgorg"}})],1),a("span",{staticClass:"required"},[e._v("*")])],1)])]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("上传药师证：")]),a("td",{staticClass:"tableContent",attrs:{colspan:"3"}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"dgUrl"}},[a("el-upload",{ref:"certificate",attrs:{action:e.action,limit:1,headers:e.headers,"file-list":e.fileListB,"list-type":"picture-card","on-success":e.handleAvatarSuccessB},scopedSlots:e._u([{key:"file",fn:function(t){var r=t.file;return a("div",{staticClass:"file-box"},[a("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:r.url,alt:""}}),a("span",{staticClass:"el-upload-list__item-actions"},[a("span",{staticClass:"el-upload-list__item-preview",on:{click:function(t){return e.handlePictureCardPreview(r)}}},[a("i",{staticClass:"el-icon-zoom-in"})]),e.disabled?e._e():a("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemoveB(r)}}},[a("i",{staticClass:"el-icon-delete"})])])])}}])},[a("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})])],1)],1)])])])]),e.dialogVisible?a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]):e._e(),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.comfign}},[e._v("确定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)},o=[],l=a("8955"),i=(a("1d7a"),a("5f87")),s=a("a034"),n={data:function(){var e=function(e,t,a){""==t?a(new Error("请输入身份证编号")):/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(t)?a():a(new Error("身份证编号不正确"))};return Object(l["a"])({disabled:!1,imageUrl:"",certificateUrl:"",headers:{Authorization:"Bearer "+Object(i["a"])()},action:"/prod-api/common/upload",base:"/prod-api",form:{name:"",mobile:"",sex:"",birthday:"",idcard:"",dgno:"",startDate:"",endDate:"",dgUrl:"",dgorg:""},rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}],mobile:[{required:!0,message:"请输入联系电话",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的联系电话",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],birthday:[{required:!0,message:"请选择出生日期",trigger:"change"}],idcard:[{validator:e,trigger:"blur"}],dgno:[{required:!0,message:"请输入药师注册证号",trigger:"blur"}],endDate:[{required:!0,message:"请选择有效期",trigger:"change"}],dgorg:[{required:!0,message:"请输入发证机构",trigger:"blur"}],startDate:[{required:!0,message:"请选择注册时间",trigger:"change"}],username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},fileList:[],fileListB:[],certificateId:"",headId:"",dialogImageUrl:"",dialogVisible:!1},"disabled",!1)},created:function(){this.$route.query.id&&this.getDetail(this.$route.query.id)},mounted:function(){},methods:{handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},getDetail:function(e){var t=this;Object(s["b"])(e).then((function(e){console.log(e),t.form=e.data,e.data.dgUrl&&t.fileListB.push({url:t.base+e.data.dgUrl}),e.data.headImg&&t.fileList.push({url:t.base+e.data.headImg})}))},handleAvatarSuccess:function(e,t,a){this.form.head=a[0].response.url,this.form.headImg=a[0].response.fileName,this.fileList=a},handleAvatarSuccessB:function(e,t,a){this.form.imageUrl=a[0].response.url,this.form.dgUrl=a[0].response.fileName,this.fileListB=a},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/jpg"===e.type||"image/png"===e.type||"image/gif"===e.type;e.size;return t||this.$message.error("请上传jpeg/jpg/png/gif类型的图片!"),t},beforeRemove:function(e,t){return this.$confirm('是否确认删除文件"'+e.name+'"?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){}))},handleRemove:function(e,t){this.fileList=[],this.$refs.photo.clearFiles(),this.form.headImg=""},handleRemoveB:function(){this.fileListB=[],this.$refs.certificate.clearFiles(),this.form.dgUrl=""},beforeRemoveB:function(e,t){return this.$confirm('是否确认删除文件"'+e.name+'"?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){}))},comfign:function(){var e=this;this.$refs["form"].validate((function(t){if(t){var a=e.form;void 0!=a.objectId?Object(s["h"])(a).then((function(t){e.msgSuccess("修改成功"),e.$store.dispatch("tagsView/delView",e.$route),e.$router.push({path:"/pharmacistManage/pharmacist"})})):(a.companyId=e.$store.state.user.companyInfo.companyId,Object(s["e"])(a).then((function(t){e.msgSuccess("添加成功"),e.$store.dispatch("tagsView/delView",e.$route),e.$router.push({path:"/pharmacistManage/pharmacist"})})))}}))},reset:function(){this.form={name:"",mobile:"",sex:"",birthday:"",idcard:"",dgno:"",startDate:"",endDate:"",dgUrl:"",dgorg:""},this.$refs.photo.clearFiles(),this.$refs.certificate.clearFiles()},cancel:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/pharmacistManage/pharmacist"})}}},c=n,u=(a("6250"),a("cba8")),d=Object(u["a"])(c,r,o,!1,null,"22127a26",null);t["default"]=d.exports},c77f:function(e,t,a){"use strict";a.d(t,"f",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return s})),a.d(t,"d",(function(){return n})),a.d(t,"c",(function(){return c}));var r=a("b775");function o(e){return Object(r["a"])({url:"/other/o-complaint/list",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/other/o-complaint/compName",method:"get",params:e})}function i(e){return Object(r["a"])({url:"/other/o-complaint/add",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/other/o-complaint/get/"+e,method:"get"})}function n(e){return Object(r["a"])({url:"/other/o-complaint/edit",method:"post",data:e})}function c(e){return Object(r["a"])({url:"/other/o-complaint/delete/"+e,method:"get"})}},c7e9:function(e,t,a){"use strict";a.r(t);a("402f"),a("6ab7"),a("6540"),a("0bd5"),a("5a4c");var r=a("23f1"),o=function(e){return e.keys()},l=/\.\/(.*)\.svg/,i=o(r).map((function(e){return e.match(l)[1]}));t["default"]=i},c81a:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",e._g(e._b({attrs:{"close-on-click-modal":!1,"modal-append-to-body":!1},on:{open:e.onOpen,close:e.onClose}},"el-dialog",e.$attrs,!1),e.$listeners),[a("el-row",{attrs:{gutter:0}},[a("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.rules,size:"small","label-width":"100px"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"选项名",prop:"label"}},[a("el-input",{attrs:{placeholder:"请输入选项名",clearable:""},model:{value:e.formData.label,callback:function(t){e.$set(e.formData,"label",t)},expression:"formData.label"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"选项值",prop:"value"}},[a("el-input",{attrs:{placeholder:"请输入选项值",clearable:""},model:{value:e.formData.value,callback:function(t){e.$set(e.formData,"value",t)},expression:"formData.value"}},[a("el-select",{style:{width:"100px"},attrs:{slot:"append"},slot:"append",model:{value:e.dataType,callback:function(t){e.dataType=t},expression:"dataType"}},e._l(e.dataTypeOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)],1)],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handelConfirm}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.close}},[e._v(" 取消 ")])],1)],1)],1)},o=[],l=a("ed08"),i={components:{},inheritAttrs:!1,props:[],data:function(){return{id:100,formData:{label:void 0,value:void 0},rules:{label:[{required:!0,message:"请输入选项名",trigger:"blur"}],value:[{required:!0,message:"请输入选项值",trigger:"blur"}]},dataType:"string",dataTypeOptions:[{label:"字符串",value:"string"},{label:"数字",value:"number"}]}},computed:{},watch:{"formData.value":function(e){this.dataType=Object(l["f"])(e)?"number":"string"}},created:function(){},mounted:function(){},methods:{onOpen:function(){this.formData={label:void 0,value:void 0}},onClose:function(){},close:function(){this.$emit("update:visible",!1)},handelConfirm:function(){var e=this;this.$refs.elForm.validate((function(t){t&&("number"===e.dataType&&(e.formData.value=parseFloat(e.formData.value)),e.formData.id=e.id++,e.$emit("commit",e.formData),e.close())}))}}},s=i,n=a("cba8"),c=Object(n["a"])(s,r,o,!1,null,null,null);t["default"]=c.exports},c823:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"盘点仓库",prop:"store"}},[a("el-input",{attrs:{placeholder:"请输入盘点仓库",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.store,callback:function(t){e.$set(e.queryParams,"store",t)},expression:"queryParams.store"}})],1),a("el-form-item",{attrs:{label:"盘点人",prop:"purchasor"}},[a("el-input",{attrs:{placeholder:"请输入盘点人",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.purchasor,callback:function(t){e.$set(e.queryParams,"purchasor",t)},expression:"queryParams.purchasor"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList}},[a("el-table-column",{attrs:{label:"盘点单据号",align:"center",prop:"ORDER_CODE"}}),a("el-table-column",{attrs:{label:"盘点人",align:"center",prop:"PURCHASOR"}}),a("el-table-column",{attrs:{label:"盘点仓库",align:"center",prop:"NAME"}}),a("el-table-column",{attrs:{label:"盘点日期",align:"center",prop:"TAKE_DATE",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTimeShort(t.row.TAKE_DATE)))])]}}])}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"STATUZ"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-tickets"},on:{click:function(a){return e.lookTakeDetail(t.row)}}},[e._v("盘点明细")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"45%","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"盘点人",prop:"purchasor"}},[a("el-input",{attrs:{placeholder:"请输入盘点人名称"},model:{value:e.form.purchasor,callback:function(t){e.$set(e.form,"purchasor",t)},expression:"form.purchasor"}})],1),a("el-form-item",{attrs:{label:"盘点日期",prop:"takeDate"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择盘点日期"},model:{value:e.form.takeDate,callback:function(t){e.$set(e.form,"takeDate",t)},expression:"form.takeDate"}})],1),a("el-form-item",{attrs:{label:"总金额(元)",prop:"money"}},[a("el-input",{attrs:{placeholder:"请输入总金额"},model:{value:e.form.money,callback:function(t){e.$set(e.form,"money",t)},expression:"form.money"}})],1),a("el-form-item",{attrs:{label:"盘点仓库",prop:"storeId"}},[a("el-select",{attrs:{placeholder:"请选择盘点仓库"},model:{value:e.form.storeId,callback:function(t){e.$set(e.form,"storeId",t)},expression:"form.storeId"}},e._l(e.storeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"note"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:e.form.note,callback:function(t){e.$set(e.form,"note",t)},expression:"form.note"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"盘库商品",visible:e.show,width:"50%","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.show=t}}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.tableRowClassName,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",selectable:e.handleSelectable}}),a("el-table-column",{attrs:{label:"商品名称",prop:"productName"}}),a("el-table-column",{attrs:{prop:"cnt",label:"库存数量"}}),a("el-table-column",{attrs:{prop:"cntCheck",label:"盘点数量"}}),a("el-table-column",{attrs:{prop:"statuz",label:"状态"}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.takeTotal>0,expression:"takeTotal>0"}],attrs:{total:e.takeTotal,page:e.params.pageNum,limit:e.params.pageSize},on:{"update:page":function(t){return e.$set(e.params,"pageNum",t)},"update:limit":function(t){return e.$set(e.params,"pageSize",t)},pagination:e.getTakeList}})],1)],1)},o=[],l=a("8955"),i=(a("d0bf"),a("6540"),a("644b")),s=a("83f1"),n={data:function(){var e;return e={show:!1,tableData:[],loadingDetail:!1,single:!0,loading:!0,exportLoading:!1,ids:[]},Object(l["a"])(e,"single",!0),Object(l["a"])(e,"multiple",!0),Object(l["a"])(e,"showSearch",!0),Object(l["a"])(e,"total",0),Object(l["a"])(e,"postList",[]),Object(l["a"])(e,"title",""),Object(l["a"])(e,"open",!1),Object(l["a"])(e,"queryParams",{pageNum:1,pageSize:10,purchasor:void 0,store:void 0,status:"已审核,审核拒绝"}),Object(l["a"])(e,"params",{pageNum:1,pageSize:10}),Object(l["a"])(e,"form",{purchasor:"",takeDate:"",money:"",storeId:"",note:""}),Object(l["a"])(e,"rules",{purchasor:[{required:!0,message:"盘点人不能为空",trigger:"blur"},{required:!0,message:"盘点人不能为空",trigger:"change"}],takeDate:[{required:!0,message:"盘点日期不能为空",trigger:"blur"},{required:!0,message:"盘点日期不能为空",trigger:"change"}],money:[{required:!0,message:"总金额不能为空",trigger:"blur"},{required:!0,message:"总金额不能为空",trigger:"change"}],storeId:[{required:!0,message:"仓库不能为空",trigger:"blur"},{required:!0,message:"仓库不能为空",trigger:"change"}]}),Object(l["a"])(e,"storeList",[]),Object(l["a"])(e,"takeTotal",0),Object(l["a"])(e,"ids",[]),e},created:function(){this.getList(),this.getstoreList()},methods:{sunmitAudit:function(e){var t=this;Object(i["d"])({objectId:e.OBJECT_ID}).then((function(e){t.msgSuccess("提交成功")}))},tableRowClassName:function(e){var t=e.row;e.rowIndex;return"已清点"===t.statuz?"success-row":""},handleSelectable:function(e){return"已清点"!==e.statuz},changeCntNumber:function(e){e.cntCheck&&Object(i["i"])({objectId:e.objectId,cntCheck:Number(e.cntCheck)}).then((function(e){console.log(e)}))},checkProduct:function(e){var t=this;Object(i["j"])({list:[e.objectId]}).then((function(e){t.takeDetailList()}))},handleUpdateStatuz:function(){var e=this;Object(i["j"])({list:this.ids}).then((function(t){e.takeDetailList()}))},lookTakeDetail:function(e){this.show=!0,this.currentOrderId=e.OBJECT_ID,this.takeDetailList()},takeDetailList:function(){var e=this;this.loadingDetail=!0,Object(i["f"])({orderId:this.currentOrderId}).then((function(t){e.tableData=t.rows,e.takeTotal=t.total,e.loadingDetail=!1}))},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.objectId})),this.single=1!=e.length},getTakeList:function(){},getstoreList:function(){var e=this;Object(s["O"])({companyId:this.$store.state.user.companyInfo.companyId}).then((function(t){e.storeList=t.data}))},getList:function(){var e=this;this.loading=!0,Object(i["h"])(this.queryParams).then((function(t){e.postList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={purchasor:"",takeDate:"",money:"",storeId:"",note:""},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加盘点"},handleUpdate:function(e){var t=this;this.reset(),Object(i["g"])(e.objectId).then((function(e){t.form=e.data,t.open=!0,t.title="修改盘点"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.objectId?Object(i["c"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(i["a"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this;this.$modal.confirm("是否确认删除该数据项？").then((function(){return Object(i["b"])(postIds)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))}}},c=n,u=(a("75d9"),a("cba8")),d=Object(u["a"])(c,r,o,!1,null,"63647a34",null);t["default"]=d.exports},c941:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("table",{staticClass:"tableStyle tCenter"},[a("tbody",[a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("证书编号：")]),a("td",{staticClass:"tableContent",attrs:{colspan:"3"}},[a("div",{staticClass:"input-suffix"},[a("el-form-item",{attrs:{prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入证书编号"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),a("span",{staticClass:"required"},[e._v("*")])],1)])]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("经营范围：")]),a("td",{staticClass:"tableContent",attrs:{colspan:"3"}},[a("div",{staticClass:"input-suffix"},[a("el-form-item",{attrs:{prop:"scope"}},[a("el-input",{attrs:{placeholder:"请输入经营范围"},model:{value:e.form.scope,callback:function(t){e.$set(e.form,"scope",t)},expression:"form.scope"}})],1)],1)])]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("发证机关：")]),a("td",{staticClass:"tableContent",attrs:{colspan:"3"}},[a("div",{staticClass:"input-suffix"},[a("el-form-item",{attrs:{prop:"office"}},[a("el-input",{attrs:{placeholder:"请输入发证机关"},model:{value:e.form.office,callback:function(t){e.$set(e.form,"office",t)},expression:"form.office"}})],1),a("span",{staticClass:"required"},[e._v("*")])],1)])]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("成立日期：")]),a("td",{staticClass:"tableContent"},[a("el-form-item",{attrs:{prop:"startDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择成立日期"},model:{value:e.form.startDate,callback:function(t){e.$set(e.form,"startDate",t)},expression:"form.startDate"}})],1)],1),a("td",{staticClass:"tableTitle tableTitle1"},[e._v("有效期至：")]),a("td",{staticClass:"tableContent"},[a("el-form-item",{attrs:{prop:"endDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择有效期"},model:{value:e.form.endDate,callback:function(t){e.$set(e.form,"endDate",t)},expression:"form.endDate"}})],1)],1)]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("发证日期：")]),a("td",{staticClass:"tableContent",attrs:{colspan:"3"}},[a("div",{staticClass:"input-suffix"},[a("el-form-item",{attrs:{prop:"cdate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择发证日期"},model:{value:e.form.cdate,callback:function(t){e.$set(e.form,"cdate",t)},expression:"form.cdate"}})],1)],1)])]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("营业执照：")]),a("td",{staticClass:"tableContent",attrs:{colspan:"3"}},[a("div",{staticClass:"input-suffix"},[a("el-form-item",{attrs:{prop:"fileId"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.fileUrl,headers:e.headers,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.form.fileId?a("img",{staticClass:"avatar",attrs:{src:e.url+e.form.fileId},on:{click:function(t){return t.stopPropagation(),e.see(e.url+e.form.fileId)}}}):e._e(),a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选择文件")])],1)],1)],1)])])])])]),e.dialogVisible?a("el-dialog",{attrs:{visible:e.dialogVisible,"append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]):e._e(),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.comfign}},[e._v("确定")])],1)],1)},o=[],l=a("83f1"),i=a("5f87"),s={props:{objectId:{type:String,required:!0}},data:function(){return{form:{code:"",scope:"",office:"",startDate:"",endDate:"",cdate:"",fileId:"",companyId:""},rules:{code:[{required:!0,message:"请输入证书编号",trigger:"blur"}],office:[{required:!0,message:"请输入发证机关",trigger:"blur"}]},fileUrl:"/prod-api/common/upload",url:"/prod-api",headers:{Authorization:"Bearer "+Object(i["a"])()},dialogImageUrl:"",dialogVisible:!1}},watch:{objectId:function(){var e=this;this.objectId&&(this.form.companyId=this.objectId,Object(l["n"])({companyId:this.objectId}).then((function(t){t.data&&(e.form=t.data)})))}},methods:{see:function(e){this.dialogImageUrl=e,this.dialogVisible=!0},comfign:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.objectId?Object(l["b"])(e.form).then((function(t){e.msgSuccess("修改成功"),e.$emit("comfign1",e.objectId)})):Object(l["a"])(e.form).then((function(t){e.msgSuccess("保存成功"),e.$emit("comfign1",e.objectId)})))}))},handleAvatarSuccess:function(e,t){this.form.fileId=e.fileName},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/jpg"===e.type||"image/png"===e.type||"image/gif"===e.type;e.size;return t||this.$message.error("请上传jpeg/jpg/png/gif类型的图片!"),t}}},n=s,c=(a("4838"),a("cba8")),u=Object(c["a"])(n,r,o,!1,null,"15b1004e",null);t["default"]=u.exports},cc6c:function(e,t,a){e.exports=a.p+"static/img/401.089007e7.gif"},cdb7:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"参数名称",prop:"configName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入参数名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.configName,callback:function(t){e.$set(e.queryParams,"configName",t)},expression:"queryParams.configName"}})],1),a("el-form-item",{attrs:{label:"参数键名",prop:"configKey"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入参数键名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.configKey,callback:function(t){e.$set(e.queryParams,"configKey",t)},expression:"queryParams.configKey"}})],1),a("el-form-item",{attrs:{label:"系统内置",prop:"configType"}},[a("el-select",{attrs:{placeholder:"系统内置",clearable:"",size:"small"},model:{value:e.queryParams.configType,callback:function(t){e.$set(e.queryParams,"configType",t)},expression:"queryParams.configType"}},e._l(e.dict.type.sys_yes_no,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:add"],expression:"['system:config:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:edit"],expression:"['system:config:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:remove"],expression:"['system:config:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:export"],expression:"['system:config:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:remove"],expression:"['system:config:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-refresh",size:"mini"},on:{click:e.handleRefreshCache}},[e._v("刷新缓存")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.configList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"参数主键",align:"center",prop:"configId"}}),a("el-table-column",{attrs:{label:"参数名称",align:"center",prop:"configName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"参数键名",align:"center",prop:"configKey","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"参数键值",align:"center",prop:"configValue"}}),a("el-table-column",{attrs:{label:"系统内置",align:"center",prop:"configType"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("dict-tag",{attrs:{options:e.dict.type.sys_yes_no,value:t.row.configType}})]}}])}),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:edit"],expression:"['system:config:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:remove"],expression:"['system:config:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"参数名称",prop:"configName"}},[a("el-input",{attrs:{placeholder:"请输入参数名称"},model:{value:e.form.configName,callback:function(t){e.$set(e.form,"configName",t)},expression:"form.configName"}})],1),a("el-form-item",{attrs:{label:"参数键名",prop:"configKey"}},[a("el-input",{attrs:{placeholder:"请输入参数键名"},model:{value:e.form.configKey,callback:function(t){e.$set(e.form,"configKey",t)},expression:"form.configKey"}})],1),a("el-form-item",{attrs:{label:"参数键值",prop:"configValue"}},[a("el-input",{attrs:{placeholder:"请输入参数键值"},model:{value:e.form.configValue,callback:function(t){e.$set(e.form,"configValue",t)},expression:"form.configValue"}})],1),a("el-form-item",{attrs:{label:"系统内置",prop:"configType"}},[a("el-radio-group",{model:{value:e.form.configType,callback:function(t){e.$set(e.form,"configType",t)},expression:"form.configType"}},e._l(e.dict.type.sys_yes_no,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},o=[],l=(a("6540"),a("1d7a"),a("c0c3")),i={name:"Config",dicts:["sys_yes_no"],data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,configList:[],title:"",open:!1,dateRange:[],queryParams:{pageNum:1,pageSize:10,configName:void 0,configKey:void 0,configType:void 0},form:{},rules:{configName:[{required:!0,message:"参数名称不能为空",trigger:"blur"}],configKey:[{required:!0,message:"参数键名不能为空",trigger:"blur"}],configValue:[{required:!0,message:"参数键值不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(l["f"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.configList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={configId:void 0,configName:void 0,configKey:void 0,configValue:void 0,configType:"Y",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加参数"},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.configId})),this.single=1!=e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.configId||this.ids;Object(l["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改参数"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.configId?Object(l["h"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(l["a"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.configId||this.ids;this.$modal.confirm('是否确认删除参数编号为"'+a+'"的数据项？').then((function(){return Object(l["b"])(a)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$modal.confirm("是否确认导出所有参数数据项？").then((function(){return e.exportLoading=!0,Object(l["c"])(t)})).then((function(t){e.$download.name(t.msg),e.exportLoading=!1})).catch((function(){}))},handleRefreshCache:function(){var e=this;Object(l["g"])().then((function(){e.$modal.msgSuccess("刷新成功")}))}}},s=i,n=a("cba8"),c=Object(n["a"])(s,r,o,!1,null,null,null);t["default"]=c.exports},ceab:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"订单号",prop:"orderCode"}},[a("el-input",{attrs:{placeholder:"请输入订单号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.orderCode,callback:function(t){e.$set(e.queryParams,"orderCode",t)},expression:"queryParams.orderCode"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList}},[a("el-table-column",{attrs:{label:"订单编号",align:"center",prop:"orderCode"}}),a("el-table-column",{attrs:{label:"采购时间",align:"center",prop:"takeDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e.parseTimeShort(t.row.takeDate))+" ")])]}}])}),a("el-table-column",{attrs:{label:"供应商",align:"center",prop:"supplier"}}),a("el-table-column",{attrs:{label:"总金额(元)",align:"center",prop:"money"}}),a("el-table-column",{attrs:{label:"入库状态",align:"center",prop:"statuz"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(t.row.statuz)+" ")])]}}])}),a("el-table-column",{attrs:{label:"采购人员",align:"center",prop:"purchasor"}}),a("el-table-column",{attrs:{label:"操作人",align:"center",prop:"userId"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-tickets"},on:{click:function(a){return e.lookDetail(t.row)}}},[e._v("订单明细")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]),"草稿"==t.row.statuz?a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-top"},on:{click:function(a){return e.submitInStore(t.row)}}},[e._v("提交入库")]):e._e()]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.title,visible:e.open,width:"50%","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{prop:"supplier",label:"供应商",required:""}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择","value-key":"objectId"},on:{change:e.selectSupplier},model:{value:e.form.supplier,callback:function(t){e.$set(e.form,"supplier",t)},expression:"form.supplier"}},e._l(e.options,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e}})})),1)],1),a("el-form-item",{attrs:{prop:"takeDate",label:"采购时间",required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择采购时间"},model:{value:e.form.takeDate,callback:function(t){e.$set(e.form,"takeDate",t)},expression:"form.takeDate"}})],1),a("el-form-item",{attrs:{prop:"purchasor",label:"采购人员",required:""}},[a("el-input",{model:{value:e.form.purchasor,callback:function(t){e.$set(e.form,"purchasor",t)},expression:"form.purchasor"}})],1),a("el-form-item",{attrs:{prop:"money",label:"总金额(元)",required:""}},[a("el-input",{attrs:{type:"number",min:"0"},model:{value:e.form.money,callback:function(t){e.$set(e.form,"money",t)},expression:"form.money"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"添加入库商品",visible:e.detailBool,width:"85%","append-to-body":""},on:{"update:visible":function(t){e.detailBool=t}}},[a("el-form",{ref:"detailform",staticClass:"formDetail",attrs:{model:e.detailform,"label-width":"0"}},[a("div",{staticClass:"descriptions"},e._l(e.currentDetail,(function(t){return a("el-descriptions",{key:t.objectId,staticClass:"descriptions-td",attrs:{column:9,border:"",direction:"vertical"}},[a("el-descriptions-item",{attrs:{label:"产品名称",labelStyle:"width:160px"}},[a("div",[e._v(e._s(t.name))])]),a("el-descriptions-item",{attrs:{label:"单价(元)",type:"number",min:0,labelStyle:"width:80px"}},[a("div",[e._v(e._s(t.price))])]),a("el-descriptions-item",{attrs:{label:"单位",labelStyle:"width:60px"}},[a("div",[e._v(e._s(t.unit))])]),a("el-descriptions-item",{attrs:{label:"数量",labelStyle:"width:160px"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"产品数量",min:0,type:"number"},model:{value:t.cnt,callback:function(a){e.$set(t,"cnt",a)},expression:"item.cnt"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"入库金额(元)",labelStyle:"width:160px"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{type:"number",min:0,placeholder:"入库金额"},model:{value:t.money,callback:function(a){e.$set(t,"money",a)},expression:"item.money"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"仓库",labelStyle:"width:160px"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.storeId,callback:function(a){e.$set(t,"storeId",a)},expression:"item.storeId"}},e._l(e.storeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1)],1)]),a("el-descriptions-item",{attrs:{label:"批号"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"请输入批号"},model:{value:t.batchCode,callback:function(a){e.$set(t,"batchCode",a)},expression:"item.batchCode"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"生产日期"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择生产日期"},model:{value:t.createDate,callback:function(a){e.$set(t,"createDate",a)},expression:"item.createDate"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"有效期"}},[a("div",[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择有效期"},model:{value:t.validDate,callback:function(a){e.$set(t,"validDate",a)},expression:"item.validDate"}})],1)],1)])],1)})),1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFormDetail}},[e._v("保存")])],1)],1),a("el-dialog",{attrs:{title:"订单明细",visible:e.showDetail,width:"50%","close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.showDetail=t}}},[a("el-form",{ref:"queryParamsOrder",attrs:{model:e.queryParamsOrder,inline:!0}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQueryOrder(t)}},model:{value:e.queryParamsOrder.productName,callback:function(t){e.$set(e.queryParamsOrder,"productName",t)},expression:"queryParamsOrder.productName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"cyan",icon:"el-icon-search",size:"mini"},on:{click:e.handleQueryOrder}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQueryOrder}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.addDetail}},[e._v("新增商品")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingGood,expression:"loadingGood"}],attrs:{data:e.goodList,"highlight-current-row":""}},[a("el-table-column",{attrs:{label:"名称",prop:"productName"}}),a("el-table-column",{attrs:{label:"单位",prop:"unit"}}),a("el-table-column",{attrs:{label:"数量",prop:"cnt"}}),a("el-table-column",{attrs:{label:"仓库",prop:"store"}}),a("el-table-column",{attrs:{label:"入库金额(元)",prop:"money"}}),a("el-table-column",{attrs:{label:"生产日期",prop:"createDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e.parseTimeShort(t.row.createDate))+" ")])]}}])}),a("el-table-column",{attrs:{label:"有效期",prop:"validDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e.parseTimeShort(t.row.validDate))+" ")])]}}])}),a("el-table-column",{attrs:{label:"操作",prop:"validDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdateDetail(t.row)}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDeleteDetail(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.detailTotal>0,expression:"detailTotal>0"}],attrs:{total:e.detailTotal,page:e.queryParamsOrder.pageNum,limit:e.queryParamsOrder.pageSize},on:{"update:page":function(t){return e.$set(e.queryParamsOrder,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParamsOrder,"pageSize",t)},pagination:e.getDetailList}}),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showDetail=!1}}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"修改",visible:e.updateBool,width:"80%","append-to-body":""},on:{"update:visible":function(t){e.updateBool=t}}},[a("el-form",{ref:"updateform",staticClass:"form",attrs:{model:e.updateform,"label-width":"0"}},[a("div",[a("el-descriptions",{staticClass:"descriptions",attrs:{column:9,border:"",direction:"vertical"}},[a("el-descriptions-item",{attrs:{label:"产品名称",labelStyle:"width:160px"}},[a("span",[e._v(e._s(e.updateform.productName))])]),a("el-descriptions-item",{attrs:{label:"单价(元)",labelStyle:"width:80px"}},[a("span",[e._v(e._s(e.updateform.price))])]),a("el-descriptions-item",{attrs:{label:"单位",labelStyle:"width:60px"}},[a("span",[e._v(e._s(e.updateform.unit))])]),a("el-descriptions-item",{attrs:{label:"数量",labelStyle:"width:160px"}},[a("span",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"产品数量",min:0,type:"number"},model:{value:e.updateform.cnt,callback:function(t){e.$set(e.updateform,"cnt",t)},expression:"updateform.cnt"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"入库金额(元)",labelStyle:"width:160px"}},[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{type:"number",min:0,placeholder:"入库金额"},model:{value:e.updateform.money,callback:function(t){e.$set(e.updateform,"money",t)},expression:"updateform.money"}})],1)],1),a("el-descriptions-item",{attrs:{label:"仓库",labelStyle:"width:160px"}},[a("el-form-item",{attrs:{required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.updateform.storeId,callback:function(t){e.$set(e.updateform,"storeId",t)},expression:"updateform.storeId"}},e._l(e.storeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1)],1),a("el-descriptions-item",{attrs:{label:"批号"}},[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"请输入批号"},model:{value:e.updateform.batchCode,callback:function(t){e.$set(e.updateform,"batchCode",t)},expression:"updateform.batchCode"}})],1)],1),a("el-descriptions-item",{attrs:{label:"生产日期"}},[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择生产日期"},model:{value:e.updateform.createDate,callback:function(t){e.$set(e.updateform,"createDate",t)},expression:"updateform.createDate"}})],1)],1),a("el-descriptions-item",{attrs:{label:"有效期"}},[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择有效期"},model:{value:e.updateform.validDate,callback:function(t){e.$set(e.updateform,"validDate",t)},expression:"updateform.validDate"}})],1)],1)],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFormUpdate}},[e._v("确 定")]),a("el-button",{on:{click:function(t){e.updateBool=!1}}},[e._v("取 消")])],1)],1),e.show?a("SelectGoods",{attrs:{title:"选择商品",show:e.show},on:{confirm:e.confirmSelectGood,close:function(t){e.show=!1}}}):e._e()],1)},o=[],l=a("0344"),i=a("8955"),s=(a("6540"),a("1d7a"),a("70e78")),n=a("535d"),c=a("83f1"),u=a("a6db"),d={components:{SelectGoods:u["a"]},data:function(){var e;return{updateBool:!1,queryParamsOrder:{pageNum:1,pageSize:10,productName:"",orderId:""},updateform:{},goodList:[],detailTotal:0,loadingGood:!1,showDetail:!1,currentOrder:{},show:!1,detailform:{},detailBool:!1,userList:[],options:[],loading:!1,showSearch:!0,total:0,postList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,orderCode:"",status:"草稿"},form:{supplierId:"",supplier:"",takeDate:"",purchasor:"",money:""},rules:(e={purchasor:[{required:!0,message:"供应商不能为空",trigger:"change"},{required:!0,message:"供应商不能为空",trigger:"blur"}],takeDate:[{required:!0,message:"采购时间不能为空",trigger:"change"},{required:!0,message:"采购时间不能为空",trigger:"blur"}]},Object(i["a"])(e,"purchasor",[{required:!0,message:"采购人员不能为空",trigger:"blur"},{required:!0,message:"采购人员不能为空",trigger:"change"}]),Object(i["a"])(e,"money",[{required:!0,message:"总金额不能为空",trigger:"blur"},{required:!0,message:"总金额不能为空",trigger:"change"}]),e),currentDetail:[{cnt:"",money:"",storeId:"",batchCode:"",createDate:"",validDate:"",productId:""}],storeList:[]}},created:function(){this.getList(),this.supplierList(),this.getstoreList()},methods:{submitFormUpdate:function(){var e=this;Object(s["e"])(this.updateform).then((function(t){e.$modal.msgSuccess("修改成功"),e.updateBool=!1,e.getDetailList()}))},submitInStore:function(e){var t=this;Object(s["l"])({objectId:e.objectId}).then((function(e){t.msgSuccess("提交成功"),t.getList()}))},handleUpdateDetail:function(e){var t=this;Object(s["g"])(e.objectId).then((function(e){t.updateform=e.data,t.updateBool=!0}))},handleDeleteDetail:function(e){var t=this;this.$modal.confirm("是否确认删除该数据项？").then((function(){return Object(s["c"])(e.objectId)})).then((function(){t.getDetailList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},getstoreList:function(){var e=this;Object(c["O"])({companyId:this.$store.state.user.companyInfo.companyId}).then((function(t){e.storeList=t.data}))},submitFormDetail:function(){var e=this;console.log(this.currentDetail);var t={},a=[];this.currentDetail.map((function(e){a.push({cnt:e.cnt,money:e.money,storeId:e.storeId,batchCode:e.batchCode,createDate:e.createDate,validDate:e.validDate,productId:e.objectId})})),t.objectId=this.currentOrder.objectId,t.itemList=a,Object(s["a"])(t).then((function(t){console.log(t),e.$modal.msgSuccess("新增成功"),e.detailBool=!1,e.getDetailList()}))},handleQueryOrder:function(){this.queryParams.pageNum=1,this.getDetailList()},getDetailList:function(){var e=this;Object(s["i"])(this.queryParamsOrder).then((function(t){e.goodList=t.rows,e.detailTotal=t.total,e.loadingGood=!1}))},confirmSelectGood:function(e){console.log(e),this.$set(this,"currentDetail",Object(l["a"])(e)),this.$forceUpdate(),this.show=!1,this.detailBool=!0},lookDetail:function(e){this.currentOrder=e,this.resetDetail(),this.queryParamsOrder.orderId=e.objectId,this.showDetail=!0,this.loadingGood=!0,this.getDetailList()},resetDetail:function(){this.queryParamsOrder={pageNum:1,pageSize:10,productName:"",orderId:""}},addDetail:function(){this.show=!0},selectSupplier:function(e){this.form.supplier=e.name,this.form.supplierId=e.objectId},getList:function(){var e=this;this.loading=!0,Object(s["k"])(this.queryParams).then((function(t){e.postList=t.rows,e.total=t.total,e.loading=!1}))},supplierList:function(){var e=this;Object(n["e"])().then((function(t){e.options=t.data}))},companyUserList:function(){var e=this;console.log(this.$store.state),Object(c["g"])({companyId:this.$store.state.user.companyInfo.companyId}).then((function(t){e.userList=t.data}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={supplierId:"",supplier:"",takeDate:"",purchasor:"",money:""},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQueryOrder:function(){this.resetForm("queryParamsOrder"),this.queryParamsOrder.productName="",this.queryParamsOrder.pageNum=1,this.getDetailList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加入库订单"},handleUpdate:function(e){var t=this;this.reset(),Object(s["j"])(e.objectId).then((function(e){t.form=e.data,t.open=!0,t.title="修改订单信息"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.objectId?Object(s["f"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(s["b"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this;this.$modal.confirm("是否确认删除该数据项？").then((function(){return Object(s["d"])(e.objectId)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))}}},m=d,p=(a("b180"),a("cba8")),f=Object(p["a"])(m,r,o,!1,null,"18086b00",null);t["default"]=f.exports},d0b2:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon-dialog"},[a("el-dialog",e._g(e._b({attrs:{width:"980px","modal-append-to-body":!1},on:{open:e.onOpen,close:e.onClose}},"el-dialog",e.$attrs,!1),e.$listeners),[a("div",{attrs:{slot:"title"},slot:"title"},[e._v(" 选择图标 "),a("el-input",{style:{width:"260px"},attrs:{size:"mini",placeholder:"请输入图标名称","prefix-icon":"el-icon-search",clearable:""},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}})],1),a("ul",{staticClass:"icon-ul"},e._l(e.iconList,(function(t){return a("li",{key:t,class:e.active===t?"active-item":"",on:{click:function(a){return e.onSelect(t)}}},[a("i",{class:t}),a("div",[e._v(e._s(t))])])})),0)])],1)},o=[],l=(a("6540"),a("cb3c"),a("de0a")),i=l.map((function(e){return"el-icon-".concat(e)})),s={inheritAttrs:!1,props:["current"],data:function(){return{iconList:i,active:null,key:""}},watch:{key:function(e){this.iconList=e?i.filter((function(t){return t.indexOf(e)>-1})):i}},methods:{onOpen:function(){this.active=this.current,this.key=""},onClose:function(){},onSelect:function(e){this.active=e,this.$emit("select",e),this.$emit("update:visible",!1)}}},n=s,c=(a("9643"),a("cba8")),u=Object(c["a"])(n,r,o,!1,null,"2fa68d6e",null);t["default"]=u.exports},d105:function(e,t,a){"use strict";a("0a42")},d153:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},o=[],l=a("4d28"),i=a.n(l),s=a("feb2");a("d8ac");var n={mixins:[s["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",bottom:"10",data:["Industries","Technology","Forex","Gold","Forecasts"]},series:[{name:"WEEKLY WRITE ARTICLES",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:[{value:320,name:"Industries"},{value:240,name:"Technology"},{value:149,name:"Forex"},{value:100,name:"Gold"},{value:59,name:"Forecasts"}],animationEasing:"cubicInOut",animationDuration:2600}]})}}},c=n,u=a("cba8"),d=Object(u["a"])(c,r,o,!1,null,null,null);t["default"]=d.exports},d1ad:function(e,t,a){},d31b:function(e,t,a){},d31f:function(e,t,a){"use strict";a("9a5b")},d3d9:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"订单号",prop:"orderCode"}},[a("el-input",{attrs:{placeholder:"请输入订单号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.orderCode,callback:function(t){e.$set(e.queryParams,"orderCode",t)},expression:"queryParams.orderCode"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList}},[a("el-table-column",{attrs:{label:"订单编号",align:"center",prop:"orderCode"}}),a("el-table-column",{attrs:{label:"采购时间",align:"center",prop:"takeDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e.parseTimeShort(t.row.takeDate))+" ")])]}}])}),a("el-table-column",{attrs:{label:"供应商",align:"center",prop:"supplier"}}),a("el-table-column",{attrs:{label:"总金额(元)",align:"center",prop:"money"}}),a("el-table-column",{attrs:{label:"入库状态",align:"center",prop:"statuz"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(t.row.statuz)+" ")])]}}])}),a("el-table-column",{attrs:{label:"采购人员",align:"center",prop:"purchasor"}}),a("el-table-column",{attrs:{label:"操作人",align:"center",prop:"userId"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-tickets"},on:{click:function(a){return e.lookDetail(t.row)}}},[e._v("订单明细")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-finished"},on:{click:function(a){return e.verify(t.row)}}},[e._v("通过")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-close"},on:{click:function(a){return e.Noverify(t.row)}}},[e._v("不通过")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.title,visible:e.open,width:"50%","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{prop:"supplier",label:"供应商",required:""}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:e.selectSupplier},model:{value:e.form.supplier,callback:function(t){e.$set(e.form,"supplier",t)},expression:"form.supplier"}},e._l(e.options,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e,"value-key":"item.objectId"}})})),1)],1),a("el-form-item",{attrs:{prop:"takeDate",label:"采购时间",required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择采购时间"},model:{value:e.form.takeDate,callback:function(t){e.$set(e.form,"takeDate",t)},expression:"form.takeDate"}})],1),a("el-form-item",{attrs:{prop:"purchasor",label:"采购人员",required:""}},[a("el-input",{model:{value:e.form.purchasor,callback:function(t){e.$set(e.form,"purchasor",t)},expression:"form.purchasor"}})],1),a("el-form-item",{attrs:{prop:"money",label:"总金额(元)",required:""}},[a("el-input",{model:{value:e.form.money,callback:function(t){e.$set(e.form,"money",t)},expression:"form.money"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"添加明细",visible:e.detailBool,width:"80%","append-to-body":""},on:{"update:visible":function(t){e.detailBool=t}}},[a("el-form",{ref:"detailform",staticClass:"form",attrs:{model:e.detailform,"label-width":"0"}},e._l(e.currentDetail,(function(t){return a("div",{key:t.objectId},[a("el-descriptions",{staticClass:"descriptions",attrs:{column:9,border:"",direction:"vertical"}},[a("el-descriptions-item",{attrs:{label:"产品名称",labelStyle:"width:160px"}},[a("span",[e._v(e._s(t.name))])]),a("el-descriptions-item",{attrs:{label:"单价",labelStyle:"width:60px"}},[a("span",[e._v(e._s(t.price))])]),a("el-descriptions-item",{attrs:{label:"单位",labelStyle:"width:60px"}},[a("span",[e._v(e._s(t.unit))])]),a("el-descriptions-item",{attrs:{label:"数量",labelStyle:"width:160px"}},[a("span",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"产品数量"},model:{value:t.cnt,callback:function(a){e.$set(t,"cnt",a)},expression:"item.cnt"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"入库金额(元)",labelStyle:"width:160px"}},[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"入库金额"},model:{value:t.money,callback:function(a){e.$set(t,"money",a)},expression:"item.money"}})],1)],1),a("el-descriptions-item",{attrs:{label:"仓库",labelStyle:"width:160px"}},[a("el-form-item",{attrs:{required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.storeId,callback:function(a){e.$set(t,"storeId",a)},expression:"item.storeId"}},e._l(e.storeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1)],1),a("el-descriptions-item",{attrs:{label:"批号"}},[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"请输入批号"},model:{value:t.batchCode,callback:function(a){e.$set(t,"batchCode",a)},expression:"item.batchCode"}})],1)],1),a("el-descriptions-item",{attrs:{label:"生产日期"}},[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择生产日期"},model:{value:t.createDate,callback:function(a){e.$set(t,"createDate",a)},expression:"item.createDate"}})],1)],1),a("el-descriptions-item",{attrs:{label:"有效期"}},[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择有效期"},model:{value:t.validDate,callback:function(a){e.$set(t,"validDate",a)},expression:"item.validDate"}})],1)],1)],1)],1)})),0),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFormDetail}},[e._v("保存")])],1)],1),a("el-dialog",{attrs:{title:"订单明细",visible:e.showDetail,width:"50%","close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.showDetail=t}}},[a("el-form",{ref:"queryParamsOrder",attrs:{model:e.queryParamsOrder,inline:!0}},[a("el-form-item",{attrs:{label:"名称",prop:"productName"}},[a("el-input",{attrs:{placeholder:"请输入名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQueryOrder(t)}},model:{value:e.queryParamsOrder.productName,callback:function(t){e.$set(e.queryParamsOrder,"productName",t)},expression:"queryParamsOrder.productName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"cyan",icon:"el-icon-search",size:"mini"},on:{click:e.handleQueryOrder}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQueryOrder}},[e._v("重置")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingGood,expression:"loadingGood"}],attrs:{data:e.goodList,"highlight-current-row":""}},[a("el-table-column",{attrs:{label:"名称",prop:"productName"}}),a("el-table-column",{attrs:{label:"单位",prop:"unit"}}),a("el-table-column",{attrs:{label:"数量",prop:"cnt"}}),a("el-table-column",{attrs:{label:"仓库",prop:"store"}}),a("el-table-column",{attrs:{label:"入库金额(元)",prop:"money"}}),a("el-table-column",{attrs:{label:"生产日期",prop:"createDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e.parseTimeShort(t.row.createDate))+" ")])]}}])}),a("el-table-column",{attrs:{label:"有效期",prop:"validDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e.parseTimeShort(t.row.validDate))+" ")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.detailTotal>0,expression:"detailTotal>0"}],attrs:{total:e.detailTotal,page:e.queryParamsOrder.pageNum,limit:e.queryParamsOrder.pageSize},on:{"update:page":function(t){return e.$set(e.queryParamsOrder,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParamsOrder,"pageSize",t)},pagination:e.getDetailList}}),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showDetail=!1}}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"修改",visible:e.updateBool,width:"80%","append-to-body":""},on:{"update:visible":function(t){e.updateBool=t}}},[a("el-form",{ref:"updateform",staticClass:"form",attrs:{model:e.updateform,"label-width":"0"}},[a("div",[a("el-descriptions",{staticClass:"descriptions",attrs:{column:9,border:"",direction:"vertical"}},[a("el-descriptions-item",{attrs:{label:"产品名称",labelStyle:"width:160px"}},[a("span",[e._v(e._s(e.updateform.productName))])]),a("el-descriptions-item",{attrs:{label:"单价",labelStyle:"width:60px"}},[a("span",[e._v(e._s(e.updateform.price))])]),a("el-descriptions-item",{attrs:{label:"单位",labelStyle:"width:60px"}},[a("span",[e._v(e._s(e.updateform.unit))])]),a("el-descriptions-item",{attrs:{label:"数量",labelStyle:"width:160px"}},[a("span",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"产品数量"},model:{value:e.updateform.cnt,callback:function(t){e.$set(e.updateform,"cnt",t)},expression:"updateform.cnt"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"入库金额(元)",labelStyle:"width:160px"}},[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"入库金额"},model:{value:e.updateform.money,callback:function(t){e.$set(e.updateform,"money",t)},expression:"updateform.money"}})],1)],1),a("el-descriptions-item",{attrs:{label:"仓库",labelStyle:"width:160px"}},[a("el-form-item",{attrs:{required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.updateform.storeId,callback:function(t){e.$set(e.updateform,"storeId",t)},expression:"updateform.storeId"}},e._l(e.storeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1)],1),a("el-descriptions-item",{attrs:{label:"批号"}},[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"请输入批号"},model:{value:e.updateform.batchCode,callback:function(t){e.$set(e.updateform,"batchCode",t)},expression:"updateform.batchCode"}})],1)],1),a("el-descriptions-item",{attrs:{label:"生产日期"}},[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择生产日期"},model:{value:e.updateform.createDate,callback:function(t){e.$set(e.updateform,"createDate",t)},expression:"updateform.createDate"}})],1)],1),a("el-descriptions-item",{attrs:{label:"有效期"}},[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择有效期"},model:{value:e.updateform.validDate,callback:function(t){e.$set(e.updateform,"validDate",t)},expression:"updateform.validDate"}})],1)],1)],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFormUpdate}},[e._v("确 定")]),a("el-button",{on:{click:function(t){e.updateBool=!1}}},[e._v("取 消")])],1)],1),e.show?a("SelectGoods",{attrs:{title:"选择商品",show:e.show},on:{confirm:e.confirmSelectGood,close:function(t){e.show=!1}}}):e._e()],1)},o=[],l=a("0344"),i=a("8955"),s=(a("6540"),a("1d7a"),a("70e78")),n=a("535d"),c=a("83f1"),u=a("a6db"),d={components:{SelectGoods:u["a"]},data:function(){var e;return{updateBool:!1,queryParamsOrder:{pageNum:1,pageSize:10,productName:"",orderId:""},updateform:{},goodList:[],detailTotal:0,loadingGood:!1,showDetail:!1,currentOrder:{},show:!1,detailform:{},detailBool:!1,userList:[],options:[],loading:!1,showSearch:!0,total:0,postList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,orderCode:"",status:"待入库"},form:{supplierId:"",supplier:"",takeDate:"",purchasor:"",money:""},rules:(e={purchasor:[{required:!0,message:"供应商不能为空",trigger:"change"}],takeDate:[{required:!0,message:"采购时间不能为空",trigger:"change"}]},Object(i["a"])(e,"purchasor",[{required:!0,message:"采购人员不能为空",trigger:"blur"}]),Object(i["a"])(e,"money",[{required:!0,message:"总金额不能为空",trigger:"blur"}]),e),currentDetail:[{cnt:"",money:"",storeId:"",batchCode:"",createDate:"",validDate:"",productId:""}],storeList:[]}},created:function(){this.getList(),this.supplierList(),this.companyUserList(),this.getstoreList()},methods:{verify:function(e){var t=this;Object(s["m"])({objectId:e.objectId,statuz:"已入库"}).then((function(e){console.log(e),t.$modal.msgSuccess("入库成功"),t.getList()}))},Noverify:function(e){var t=this;Object(s["m"])({objectId:e.objectId,statuz:"审核拒绝"}).then((function(e){t.$modal.msgSuccess("拒绝入库"),t.getList()}))},submitFormUpdate:function(){var e=this;Object(s["e"])(this.updateform).then((function(t){e.$modal.msgSuccess("修改成功"),e.updateBool=!1,e.getDetailList()}))},handleUpdateDetail:function(e){var t=this;Object(s["g"])(e.objectId).then((function(e){t.updateform=e.data,t.updateBool=!0}))},handleDeleteDetail:function(e){var t=this;this.$modal.confirm("是否确认删除该数据项？").then((function(){return Object(s["c"])(e.objectId)})).then((function(){t.getDetailList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},getstoreList:function(){var e=this;Object(c["O"])({companyId:this.$store.state.user.companyInfo.companyId}).then((function(t){e.storeList=t.data}))},submitFormDetail:function(){var e=this;console.log(this.currentDetail);var t={},a=[];this.currentDetail.map((function(e){a.push({cnt:e.cnt,money:e.money,storeId:e.storeId,batchCode:e.batchCode,createDate:e.createDate,validDate:e.validDate,productId:e.objectId})})),t.objectId=this.currentOrder.objectId,t.itemList=a,Object(s["a"])(t).then((function(t){console.log(t),e.$modal.msgSuccess("新增成功"),e.detailBool=!1,e.getDetailList()}))},handleQueryOrder:function(){this.queryParams.pageNum=1,this.getDetailList()},getDetailList:function(){var e=this;this.loadingGood=!0,Object(s["i"])(this.queryParamsOrder).then((function(t){e.goodList=t.rows,e.detailTotal=t.total,e.loadingGood=!1}))},resetDetail:function(){this.queryParamsOrder={pageNum:1,pageSize:10,productName:"",orderId:""}},confirmSelectGood:function(e){this.$set(this,"currentDetail",Object(l["a"])(e)),this.$forceUpdate(),this.show=!1,this.detailBool=!0},lookDetail:function(e){this.currentOrder=e,this.resetDetail(),this.queryParamsOrder.orderId=e.objectId,this.showDetail=!0,this.loadingGood=!0,this.getDetailList()},addDetail:function(){this.show=!0},selectSupplier:function(e){this.form.supplier=e.name,this.form.supplierId=e.objectId},getList:function(){var e=this;this.loading=!0,Object(s["k"])(this.queryParams).then((function(t){e.postList=t.rows,e.total=t.total,e.loading=!1}))},supplierList:function(){var e=this;Object(n["e"])().then((function(t){e.options=t.data}))},companyUserList:function(){var e=this;console.log(this.$store.state),Object(c["g"])({companyId:this.$store.state.user.companyInfo.companyId}).then((function(t){e.userList=t.data}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={supplierId:"",supplier:"",takeDate:"",purchasor:"",money:""},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQueryOrder:function(){this.resetForm("queryParamsOrder"),this.queryParamsOrder.pageNum=1,this.queryParamsOrder.productName="",this.getDetailList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加客户"},handleUpdate:function(e){var t=this;this.reset(),Object(s["j"])(e.objectId).then((function(e){t.form=e.data,t.open=!0,t.title="修改客户信息"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.objectId?Object(s["f"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(s["b"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this;this.$modal.confirm("是否确认删除该数据项？").then((function(){return Object(s["d"])(e.objectId)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},cancelDetail:function(){this.detailBool=!1}}},m=d,p=(a("896d"),a("cba8")),f=Object(p["a"])(m,r,o,!1,null,"120c74fb",null);t["default"]=f.exports},d44c:function(e,t,a){"use strict";a("4219")},d59d:function(e,t,a){},d60f:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showMain,expression:"showMain"}]},[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList}},[a("el-table-column",{attrs:{label:"检查类型",prop:"ckType"}}),a("el-table-column",{attrs:{label:"检查人员"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s((t.row.USER_ID_A_NAME?t.row.USER_ID_A_NAME+",":"")+t.row.USER_ID_B_NAME))])]}}])}),a("el-table-column",{attrs:{label:"处理意见",prop:"RESULT"}}),a("el-table-column",{attrs:{label:"检查时间",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTimeShort(new Date(t.row.CTIME_START))+"至"+e.parseTimeShort(new Date(t.row.CTIME_END))))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("查看")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.lookAttachment(t.row)}}},[e._v("附件")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1),a("el-dialog",{staticClass:"form",attrs:{title:e.title,visible:e.open,width:"800px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"检查类型",prop:"tradeId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.typeId,callback:function(t){e.$set(e.form,"typeId",t)},expression:"form.typeId"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.type,value:e.objectId}})})),1)],1),a("el-form-item",{attrs:{label:"行业类型",prop:"tradeId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.tradeId,callback:function(t){e.$set(e.form,"tradeId",t)},expression:"form.tradeId"}},e._l(e.industryTypeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1),a("el-form-item",{attrs:{label:"企业类型",prop:"comTypeId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.comTypeId,callback:function(t){e.$set(e.form,"comTypeId",t)},expression:"form.comTypeId"}},e._l(e.enterpriseType,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1),a("el-form-item",{attrs:{label:"选择企业",prop:"companyId"}},[a("el-select",{attrs:{filterable:"",remote:"","remote-method":e.remoteMethod,placeholder:"请选择企业",loading:e.loadingCompany},model:{value:e.form.companyId,callback:function(t){e.$set(e.form,"companyId",t)},expression:"form.companyId"}},e._l(e.options,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1),a("el-form-item",{attrs:{label:"检查项目",prop:"templateId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择模板"},model:{value:e.form.template,callback:function(t){e.$set(e.form,"template",t)},expression:"form.template"}},e._l(e.templateList,(function(e){return a("el-option",{key:e.objectId,attrs:{"value-key":e.objectId,label:e.name,value:e}})})),1)],1),a("el-form-item",{attrs:{label:"检查人员1"}},[a("el-input",{attrs:{type:"text",readonly:"",placeholder:"请输入内容"},model:{value:e.$store.state.user.nickName,callback:function(t){e.$set(e.$store.state.user,"nickName",t)},expression:"$store.state.user.nickName"}})],1),a("el-form-item",{attrs:{label:"检查人员2",prop:"userIdB"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入内容"},on:{focus:function(t){e.show=!0}},model:{value:e.form.userNameUp,callback:function(t){e.$set(e.form,"userNameUp",t)},expression:"form.userNameUp"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.nextAdd}},[e._v("下一步")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e.show?a("TreeAndRadio",{attrs:{show:e.show},on:{getNameList:e.getNameList,close:e.closeDialog,confirm:e.confirmEstablishPerson}}):e._e(),e.showTable?a("div",[a("TableDetail",{attrs:{baseForm:e.form,templateId:e.form.template.objectId,title:e.currentName,companyId:e.currentCompanyId,userNameUp:e.form.userNameUp},on:{save:e.saveTemplate,close:e.closeTable}})],1):e._e(),e.look?a("div",[a("LookTable",{attrs:{companyId:e.currentCompanyId,templateId:e.currentTemplateId,currentId:e.currentId},on:{back:e.backMain}})],1):e._e(),a("el-dialog",{staticClass:"form",attrs:{title:"附件",visible:e.attachment,width:"800px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.attachment=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),a("el-table-column",{attrs:{prop:"name",label:"文件名称"}}),a("el-table-column",{attrs:{prop:"createTime",label:"上传时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(new Date(t.row.createTime))))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-download"},on:{click:function(a){return e.downloadFile(t.row)}}},[e._v("下载")])]}}])})],1)],1)],1)},o=[],l=a("8955"),i=(a("1d7a"),a("2caf")),s=a("deb8"),n=a("89e6"),c=a("5e1a"),u=a("79b1");a("b775");var d={name:"Post",components:{TableDetail:i["default"],LookTable:s["default"]},data:function(){return Object(l["a"])({loadingCompany:!1,currentId:"",currentTemplateId:"",tableData:[],industryTypeList:[],enterpriseType:[],attachment:!1,look:!1,showTable:!1,templateList:[],showMain:!0,data:[],show:!1,options:[],loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,postList:[],title:"",open:!1,statusOptions:[],queryParams:{pageNum:1,pageSize:10,postCode:void 0,postName:void 0,status:void 0},form:{companyId:"",comTypeId:""},rules:{tradeId:[{required:!0,message:"行业类型不能为空",trigger:"blur"}],companyId:[{required:!0,message:"企业名称不能为空",trigger:"blur"}],userIdB:[{required:!0,message:"检查人员不能为空",trigger:"change"}],templateId:[{required:!0,message:"检查项目不能为空",trigger:"change"}]},currentName:"",currentCompanyId:""},"statusOptions",[])},created:function(){this.getList(),this.getIndustryTypeList(),this.getCompanyList()},methods:{downloadFile:function(e){window.location="/prod-api"+e.fileId},remoteMethod:function(e,t){this.loadingCompany=!0,this.getCompanyList(e,t)},saveTemplate:function(){this.showTable=!1,this.showMain=!0,this.getList()},getDailyCheckTypeList:function(){var e=this;(void 0)().then((function(t){e.statusOptions=t.data}))},getCompanyList:function(e,t){var a=this;Object(u["f"])({pageNum:1,pageSize:30,name:e||"",compTypeId:t||""}).then((function(e){a.loadingCompany=!1,a.options=e.rows}))},getIndustryTypeList:function(){var e=this;Object(c["b"])().then((function(t){e.industryTypeList=t.data?t.data:[]}))},getEnterpriseTypeList:function(){var e=this;Object(c["a"])({tradeId:this.form.tradeId?this.form.tradeId:this.queryParams.tradeId}).then((function(t){e.enterpriseType=t.data?t.data:[]}))},backMain:function(){this.look=!1,this.showMain=!0},closeTable:function(){this.showTable=!1,this.showMain=!0},nextAdd:function(){var e=this;this.$refs["form"].validate((function(t){t&&(e.open=!1,e.currentName=e.form.template.name,e.currentCompanyId=e.form.companyId,e.$nextTick((function(){e.showMain=!1,e.showTable=!0})))}))},getNameList:function(){},closeDialog:function(){this.show=!1},confirmEstablishPerson:function(e){this.show=!1,this.form.userIdB=e.userId,this.form.userNameUp=e.nickName},getList:function(){var e=this;this.loading=!0,Object(n["e"])(this.queryParams).then((function(t){e.postList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={companyId:"",comTypeId:""},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加检查"},handleUpdate:function(e){this.currentCompanyId=e.COMPANY_ID,this.currentTemplateId=e.TEMPLATE_ID,this.currentId=e.OBJECT_ID,this.reset(),this.$router.push({path:"/regulatoryInfo/lookCheck",query:{companyId:e.COMPANY_ID,templateId:e.TEMPLATE_ID,currentId:e.OBJECT_ID}})},lookAttachment:function(e){var t=this;this.attachment=!0,Object(n["d"])({checkId:e.OBJECT_ID}).then((function(e){console.log(e),t.tableData=e.data}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.postId?Object(n["h"])(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(n["a"])(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this;this.$confirm("是否确认删除数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(e.OBJECT_ID)})).then((function(){t.getList(),t.msgSuccess("删除成功")}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有岗位数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return exportPost(t)})).then((function(t){e.download(t.msg)}))},getTemplateById:function(e,t){var a=this;Object(n["g"])({tradeId:e,compTypeId:t}).then((function(e){a.templateList=e.data,a.form.templateId=e.data[0]}))}},watch:{"form.tradeId":{handler:function(e,t){this.form.comTypeId="",this.enterpriseType=[],this.getEnterpriseTypeList()}},"queryParams.tradeId":{handler:function(e,t){this.queryParams.tradeId=e,this.getEnterpriseTypeList()}},"form.comTypeId":{handler:function(e,t){e&&(this.form.companyId="",this.getTemplateById(this.form.tradeId,e),this.getCompanyList("",e))}}}},m=d,p=(a("5336"),a("cba8")),f=Object(p["a"])(m,r,o,!1,null,"ad3c648e",null);t["default"]=f.exports},d61d:function(e,t,a){},d70a:function(e,t,a){},d7bb:function(e,t,a){"use strict";a("1a27")},d961:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"订单号",prop:"orderCode"}},[a("el-input",{attrs:{placeholder:"请输入订单号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.orderCode,callback:function(t){e.$set(e.queryParams,"orderCode",t)},expression:"queryParams.orderCode"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList}},[a("el-table-column",{attrs:{label:"订单编号",align:"center",prop:"orderCode"}}),a("el-table-column",{attrs:{label:"客户",align:"center",prop:"custom"}}),a("el-table-column",{attrs:{label:"总金额(元)",align:"center",prop:"money"}}),a("el-table-column",{attrs:{label:"出库状态",align:"center",prop:"statuz"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(t.row.statuz)+" ")])]}}])}),a("el-table-column",{attrs:{label:"业务人员",align:"center",prop:"purchasor"}}),a("el-table-column",{attrs:{label:"操作人",align:"center",prop:"userId"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-tickets"},on:{click:function(a){return e.lookDetail(t.row)}}},[e._v("订单明细")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.title,visible:e.open,width:"50%","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{prop:"supplier",label:"供应商",required:""}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:e.selectSupplier},model:{value:e.form.supplier,callback:function(t){e.$set(e.form,"supplier",t)},expression:"form.supplier"}},e._l(e.options,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e,"value-key":"item.objectId"}})})),1)],1),a("el-form-item",{attrs:{prop:"takeDate",label:"采购时间",required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择采购时间"},model:{value:e.form.takeDate,callback:function(t){e.$set(e.form,"takeDate",t)},expression:"form.takeDate"}})],1),a("el-form-item",{attrs:{prop:"purchasor",label:"采购人员",required:""}},[a("el-input",{model:{value:e.form.purchasor,callback:function(t){e.$set(e.form,"purchasor",t)},expression:"form.purchasor"}})],1),a("el-form-item",{attrs:{prop:"money",label:"总金额(元)",required:""}},[a("el-input",{model:{value:e.form.money,callback:function(t){e.$set(e.form,"money",t)},expression:"form.money"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"添加明细",visible:e.detailBool,width:"80%","append-to-body":""},on:{"update:visible":function(t){e.detailBool=t}}},[a("el-form",{ref:"detailform",staticClass:"form",attrs:{model:e.detailform,"label-width":"0"}},e._l(e.currentDetail,(function(t){return a("div",{key:t.objectId},[a("el-descriptions",{staticClass:"descriptions",attrs:{column:9,border:"",direction:"vertical"}},[a("el-descriptions-item",{attrs:{label:"产品名称",labelStyle:"width:160px"}},[a("span",[e._v(e._s(t.name))])]),a("el-descriptions-item",{attrs:{label:"单价",labelStyle:"width:60px"}},[a("span",[e._v(e._s(t.price))])]),a("el-descriptions-item",{attrs:{label:"单位",labelStyle:"width:60px"}},[a("span",[e._v(e._s(t.unit))])]),a("el-descriptions-item",{attrs:{label:"数量",labelStyle:"width:160px"}},[a("span",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"产品数量"},model:{value:t.cnt,callback:function(a){e.$set(t,"cnt",a)},expression:"item.cnt"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"出库金额(元)",labelStyle:"width:160px"}},[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"出库金额"},model:{value:t.money,callback:function(a){e.$set(t,"money",a)},expression:"item.money"}})],1)],1),a("el-descriptions-item",{attrs:{label:"仓库",labelStyle:"width:160px"}},[a("el-form-item",{attrs:{required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.storeId,callback:function(a){e.$set(t,"storeId",a)},expression:"item.storeId"}},e._l(e.storeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1)],1),a("el-descriptions-item",{attrs:{label:"批号"}},[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"请输入批号"},model:{value:t.batchCode,callback:function(a){e.$set(t,"batchCode",a)},expression:"item.batchCode"}})],1)],1),a("el-descriptions-item",{attrs:{label:"生产日期"}},[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择生产日期"},model:{value:t.createDate,callback:function(a){e.$set(t,"createDate",a)},expression:"item.createDate"}})],1)],1),a("el-descriptions-item",{attrs:{label:"有效期"}},[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择有效期"},model:{value:t.validDate,callback:function(a){e.$set(t,"validDate",a)},expression:"item.validDate"}})],1)],1)],1)],1)})),0),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFormDetail}},[e._v("保存")])],1)],1),a("el-dialog",{attrs:{title:"订单明细",visible:e.showDetail,width:"50%","close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.showDetail=t}}},[a("el-form",{ref:"queryParamsOrder",attrs:{model:e.queryParamsOrder,inline:!0}},[a("el-form-item",{attrs:{label:"名称",prop:"productName"}},[a("el-input",{attrs:{placeholder:"请输入名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQueryOrder(t)}},model:{value:e.queryParamsOrder.productName,callback:function(t){e.$set(e.queryParamsOrder,"productName",t)},expression:"queryParamsOrder.productName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"cyan",icon:"el-icon-search",size:"mini"},on:{click:e.handleQueryOrder}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQueryOrder}},[e._v("重置")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingGood,expression:"loadingGood"}],attrs:{data:e.goodList,"highlight-current-row":""}},[a("el-table-column",{attrs:{label:"名称",prop:"productName"}}),a("el-table-column",{attrs:{label:"单位",prop:"unit"}}),a("el-table-column",{attrs:{label:"数量",prop:"cnt"}}),a("el-table-column",{attrs:{label:"仓库",prop:"store"}}),a("el-table-column",{attrs:{label:"出库金额(元)",prop:"money"}}),a("el-table-column",{attrs:{label:"生产日期",prop:"createDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e.parseTimeShort(t.row.createDate))+" ")])]}}])}),a("el-table-column",{attrs:{label:"有效期",prop:"validDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(e.parseTimeShort(t.row.validDate))+" ")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.detailTotal>0,expression:"detailTotal>0"}],attrs:{total:e.detailTotal,page:e.queryParamsOrder.pageNum,limit:e.queryParamsOrder.pageSize},on:{"update:page":function(t){return e.$set(e.queryParamsOrder,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParamsOrder,"pageSize",t)},pagination:e.getDetailList}}),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showDetail=!1}}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"修改",visible:e.updateBool,width:"80%","append-to-body":""},on:{"update:visible":function(t){e.updateBool=t}}},[a("el-form",{ref:"updateform",staticClass:"form",attrs:{model:e.updateform,"label-width":"0"}},[a("div",[a("el-descriptions",{staticClass:"descriptions",attrs:{column:9,border:"",direction:"vertical"}},[a("el-descriptions-item",{attrs:{label:"产品名称",labelStyle:"width:160px"}},[a("span",[e._v(e._s(e.updateform.productName))])]),a("el-descriptions-item",{attrs:{label:"单价",labelStyle:"width:60px"}},[a("span",[e._v(e._s(e.updateform.price))])]),a("el-descriptions-item",{attrs:{label:"单位",labelStyle:"width:60px"}},[a("span",[e._v(e._s(e.updateform.unit))])]),a("el-descriptions-item",{attrs:{label:"数量",labelStyle:"width:160px"}},[a("span",[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"产品数量"},model:{value:e.updateform.cnt,callback:function(t){e.$set(e.updateform,"cnt",t)},expression:"updateform.cnt"}})],1)],1)]),a("el-descriptions-item",{attrs:{label:"出库金额(元)",labelStyle:"width:160px"}},[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"出库金额"},model:{value:e.updateform.money,callback:function(t){e.$set(e.updateform,"money",t)},expression:"updateform.money"}})],1)],1),a("el-descriptions-item",{attrs:{label:"仓库",labelStyle:"width:160px"}},[a("el-form-item",{attrs:{required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.updateform.storeId,callback:function(t){e.$set(e.updateform,"storeId",t)},expression:"updateform.storeId"}},e._l(e.storeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1)],1),a("el-descriptions-item",{attrs:{label:"批号"}},[a("el-form-item",{attrs:{required:""}},[a("el-input",{attrs:{placeholder:"请输入批号"},model:{value:e.updateform.batchCode,callback:function(t){e.$set(e.updateform,"batchCode",t)},expression:"updateform.batchCode"}})],1)],1),a("el-descriptions-item",{attrs:{label:"生产日期"}},[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择生产日期"},model:{value:e.updateform.createDate,callback:function(t){e.$set(e.updateform,"createDate",t)},expression:"updateform.createDate"}})],1)],1),a("el-descriptions-item",{attrs:{label:"有效期"}},[a("el-form-item",{attrs:{required:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择有效期"},model:{value:e.updateform.validDate,callback:function(t){e.$set(e.updateform,"validDate",t)},expression:"updateform.validDate"}})],1)],1)],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFormUpdate}},[e._v("确 定")]),a("el-button",{on:{click:function(t){e.updateBool=!1}}},[e._v("取 消")])],1)],1),e.show?a("SelectGoods",{attrs:{title:"选择商品",show:e.show},on:{confirm:e.confirmSelectGood,close:function(t){e.show=!1}}}):e._e()],1)},o=[],l=a("0344"),i=a("8955"),s=(a("6540"),a("1d7a"),a("7564")),n=a("535d"),c=a("83f1"),u=a("a6db"),d={components:{SelectGoods:u["a"]},data:function(){var e;return{updateBool:!1,queryParamsOrder:{pageNum:1,pageSize:10,productName:"",orderId:""},updateform:{},goodList:[],detailTotal:0,loadingGood:!1,showDetail:!1,currentOrder:{},show:!1,detailform:{},detailBool:!1,userList:[],options:[],loading:!1,showSearch:!0,total:0,postList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,orderCode:"",status:"已出库,审核拒绝"},form:{supplierId:"",supplier:"",takeDate:"",purchasor:"",money:""},rules:(e={purchasor:[{required:!0,message:"供应商不能为空",trigger:"change"}],takeDate:[{required:!0,message:"采购时间不能为空",trigger:"change"}]},Object(i["a"])(e,"purchasor",[{required:!0,message:"采购人员不能为空",trigger:"blur"}]),Object(i["a"])(e,"money",[{required:!0,message:"总金额不能为空",trigger:"blur"}]),e),currentDetail:[{cnt:"",money:"",storeId:"",batchCode:"",createDate:"",validDate:"",productId:""}],storeList:[]}},created:function(){this.getList(),this.getstoreList()},methods:{submitFormUpdate:function(){var e=this;Object(s["e"])(this.updateform).then((function(t){e.$modal.msgSuccess("修改成功"),e.updateBool=!1,e.getDetailList()}))},handleUpdateDetail:function(e){var t=this;Object(s["g"])(e.objectId).then((function(e){t.updateform=e.data,t.updateBool=!0}))},handleDeleteDetail:function(e){var t=this;this.$modal.confirm("是否确认删除该数据项？").then((function(){return Object(s["c"])(e.objectId)})).then((function(){t.getDetailList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},getstoreList:function(){var e=this;Object(c["O"])({companyId:this.$store.state.user.companyInfo.companyId}).then((function(t){e.storeList=t.data}))},submitFormDetail:function(){var e=this,t={},a=[];this.currentDetail.map((function(e){a.push({cnt:e.cnt,money:e.money,storeId:e.storeId,batchCode:e.batchCode,createDate:e.createDate,validDate:e.validDate,productId:e.objectId})})),t.objectId=this.currentOrder.objectId,t.itemList=a,Object(s["a"])(t).then((function(t){e.$modal.msgSuccess("新增成功"),e.detailBool=!1,e.getDetailList()}))},handleQueryOrder:function(){this.queryParams.pageNum=1,this.getDetailList()},getDetailList:function(){var e=this;this.loadingGood=!0,Object(s["h"])(this.queryParamsOrder).then((function(t){e.goodList=t.rows,e.detailTotal=t.total,e.loadingGood=!1}))},confirmSelectGood:function(e){this.$set(this,"currentDetail",Object(l["a"])(e)),this.$forceUpdate(),this.show=!1,this.detailBool=!0},lookDetail:function(e){this.currentOrder=e,this.resetDetail(),this.queryParamsOrder.orderId=e.objectId,this.showDetail=!0,this.getDetailList()},resetDetail:function(){this.queryParamsOrder={pageNum:1,pageSize:10,productName:"",orderId:""}},addDetail:function(){this.show=!0},selectSupplier:function(e){this.form.supplier=e.name,this.form.supplierId=e.objectId},getList:function(){var e=this;this.loading=!0,Object(s["j"])(this.queryParams).then((function(t){e.postList=t.rows,e.total=t.total,e.loading=!1}))},supplierList:function(){var e=this;Object(n["e"])().then((function(t){e.options=t.data}))},companyUserList:function(){var e=this;Object(c["g"])({companyId:this.$store.state.user.companyInfo.companyId}).then((function(t){e.userList=t.data}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={supplierId:"",supplier:"",takeDate:"",purchasor:"",money:""},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQueryOrder:function(){this.queryParamsOrder.pageNum=1,this.queryParamsOrder.productName="",this.getDetailList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加客户"},handleUpdate:function(e){var t=this;this.reset(),Object(s["i"])(e.objectId).then((function(e){t.form=e.data,t.open=!0,t.title="修改客户信息"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.objectId?Object(s["f"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(s["b"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this;this.$modal.confirm("是否确认删除该数据项？").then((function(){return Object(s["d"])(e.objectId)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},cancelDetail:function(){this.detailBool=!1}}},m=d,p=(a("6595"),a("cba8")),f=Object(p["a"])(m,r,o,!1,null,"2974e13e",null);t["default"]=f.exports},d9bc:function(e,t,a){},da2e:function(e,t,a){"use strict";a("33b3")},da51:function(e,t,a){},dca2:function(e,t,a){},dcec:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"商品名称",prop:"productName"}},[a("el-input",{attrs:{placeholder:"请输入商品名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.productName,callback:function(t){e.$set(e.queryParams,"productName",t)},expression:"queryParams.productName"}})],1),a("el-form-item",{attrs:{label:"订单编号",prop:"productCode"}},[a("el-input",{attrs:{placeholder:"请输入订单编号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.productCode,callback:function(t){e.$set(e.queryParams,"productCode",t)},expression:"queryParams.productCode"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList}},[a("el-table-column",{attrs:{label:"订单编号",align:"center",prop:"orderCode"}}),a("el-table-column",{attrs:{label:"商品编号",align:"center",prop:"productCode"}}),a("el-table-column",{attrs:{label:"商品名称",align:"center",prop:"productName"}}),a("el-table-column",{attrs:{label:" 客户名称",align:"center",prop:"productName"}}),a("el-table-column",{attrs:{label:"入库数量",align:"center",prop:"cnt"}}),a("el-table-column",{attrs:{label:"金额(元)",align:"center",prop:"money"}}),a("el-table-column",{attrs:{label:"规格",align:"center",prop:"specs"}}),a("el-table-column",{attrs:{label:"订单日期",align:"center",prop:"createDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createDate)))])]}}])}),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"note"}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)},o=[],l=a("9378"),i={name:"Post",data:function(){return{loading:!1,showSearch:!0,total:0,postList:[],queryParams:{pageNum:1,pageSize:10,productName:void 0,productCode:void 0}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(l["c"])(this.queryParams).then((function(t){e.postList=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()}}},s=i,n=(a("4849"),a("cba8")),c=Object(n["a"])(s,r,o,!1,null,"dca26162",null);t["default"]=c.exports},dd7b:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("el-row",{attrs:{type:"flex",align:"center"}},[r("el-col",{attrs:{span:12,offset:3}},[r("div",{staticClass:"logo"},[r("img",{attrs:{src:a("9d64")}})])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"manual"},[r("span",{staticStyle:{cursor:"pointer"}},[e._v("用户手册")])])])],1),r("div",{staticClass:"login"},[r("el-row",{attrs:{type:"flex",align:"center"}},[r("el-col",{attrs:{span:12,offset:e.offset}},[r("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules}},[r("div",{staticClass:"title"},[r("span",{staticClass:"title-text"},[e._v("企业用户登录")])]),r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}},[r("img",{staticClass:"input-icon",attrs:{slot:"prefix",src:a("ba97")},slot:"prefix"})])],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[r("img",{staticClass:"input-icon",attrs:{slot:"prefix",src:a("1f07")},slot:"prefix"})])],1),r("el-checkbox",{staticStyle:{margin:"0px 0px 25px 0px"},model:{value:e.loginForm.rememberMe,callback:function(t){e.$set(e.loginForm,"rememberMe",t)},expression:"loginForm.rememberMe"}},[e._v("记住密码")]),r("el-form-item",{staticStyle:{width:"100%"}},[r("el-button",{staticStyle:{width:"100%",background:"#0a52c1","margin-bottom":"14px"},attrs:{loading:e.loading,size:"medium",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e.loading?r("span",[e._v("登 录 中...")]):r("span",[e._v("登 录")])]),e.register?r("div",{staticStyle:{"text-align":"center"}},[r("span",[e._v("没有账号？")]),r("router-link",{staticClass:"link-type",attrs:{to:"/register"}},[e._v("立即注册账号")])],1):e._e()],1)],1)],1)],1)],1),r("div",{staticClass:"el-login-footer"},[e._v(" 版权所有：晋城市市场监督管理总局 ")])],1)},o=[],l=a("7ded"),i=a("e04f"),s=a.n(i),n=a("dcaa"),c=a.n(n),u="MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAKoR8mX0rGKLqzcWmOzbfj64K8ZIgOdH\nnzkXSOVOZbFu/TJhZ7rFAN+eaGkl3C4buccQd/EjEsj9ir7ijT7h96MCAwEAAQ==",d="MIIBVAIBADANBgkqhkiG9w0BAQEFAASCAT4wggE6AgEAAkEAqhHyZfSsYourNxaY\n7Nt+PrgrxkiA50efORdI5U5lsW79MmFnusUA355oaSXcLhu5xxB38SMSyP2KvuKN\nPuH3owIDAQABAkAfoiLyL+Z4lf4Myxk6xUDgLaWGximj20CUf+5BKKnlrK+Ed8gA\nkM0HqoTt2UZwA5E2MzS4EI2gjfQhz5X28uqxAiEA3wNFxfrCZlSZHb0gn2zDpWow\ncSxQAgiCstxGUoOqlW8CIQDDOerGKH5OmCJ4Z21v+F25WaHYPxCFMvwxpcw99Ecv\nDQIgIdhDTIqD2jfYjPTY8Jj3EDGPbH2HHuffvflECt3Ek60CIQCFRlCkHpi7hthh\nYhovyloRYsM+IS9h/0BzlEAuO0ktMQIgSPT3aFAgJYwKpqRYKlLDVcflZFCKY7u3\nUP8iWi1Qw0Y=";function m(e){var t=new c.a;return t.setPublicKey(u),t.encrypt(e)}function p(e){var t=new c.a;return t.setPrivateKey(d),t.decrypt(e)}var f={name:"Login",data:function(){return{codeUrl:"",cookiePassword:"",loginForm:{username:"",password:"",rememberMe:!1,code:"",uuid:""},offset:14,loginRules:{username:[{required:!0,trigger:"blur",message:"请输入您的账号"}],password:[{required:!0,trigger:"blur",message:"请输入您的密码"}]},loading:!1,captchaOnOff:!0,register:!0,redirect:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect,console.log(this.redirect)},immediate:!0}},created:function(){this.getCookie();var e=document.body.clientWidth;e<=1e3&&e>800?this.offset=13:e<=400&&(this.offset=0)},methods:{getCode:function(){var e=this;Object(l["a"])().then((function(t){e.captchaOnOff=void 0===t.captchaOnOff||t.captchaOnOff,e.captchaOnOff&&(e.codeUrl="data:image/gif;base64,"+t.img,e.loginForm.uuid=t.uuid)}))},getCookie:function(){var e=s.a.get("username"),t=s.a.get("password"),a=s.a.get("rememberMe");this.loginForm={username:void 0===e?this.loginForm.username:e,password:void 0===t?this.loginForm.password:p(t),rememberMe:void 0!==a&&Boolean(a)}},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){t&&(e.loading=!0,e.loginForm.rememberMe?(s.a.set("username",e.loginForm.username,{expires:30}),s.a.set("password",m(e.loginForm.password),{expires:30}),s.a.set("rememberMe",e.loginForm.rememberMe,{expires:30})):(s.a.remove("username"),s.a.remove("password"),s.a.remove("rememberMe")),e.$store.dispatch("Login",e.loginForm).then((function(){e.$router.push({path:e.redirect||"/"}).catch((function(){}))})).catch((function(){e.loading=!1,e.captchaOnOff})))}))}}},h=f,b=(a("3513"),a("cba8")),v=Object(b["a"])(h,r,o,!1,null,"542d85a1",null);t["default"]=v.exports},de0a:function(e){e.exports=JSON.parse('["platform-eleme","eleme","delete-solid","delete","s-tools","setting","user-solid","user","phone","phone-outline","more","more-outline","star-on","star-off","s-goods","goods","warning","warning-outline","question","info","remove","circle-plus","success","error","zoom-in","zoom-out","remove-outline","circle-plus-outline","circle-check","circle-close","s-help","help","minus","plus","check","close","picture","picture-outline","picture-outline-round","upload","upload2","download","camera-solid","camera","video-camera-solid","video-camera","message-solid","bell","s-cooperation","s-order","s-platform","s-fold","s-unfold","s-operation","s-promotion","s-home","s-release","s-ticket","s-management","s-open","s-shop","s-marketing","s-flag","s-comment","s-finance","s-claim","s-custom","s-opportunity","s-data","s-check","s-grid","menu","share","d-caret","caret-left","caret-right","caret-bottom","caret-top","bottom-left","bottom-right","back","right","bottom","top","top-left","top-right","arrow-left","arrow-right","arrow-down","arrow-up","d-arrow-left","d-arrow-right","video-pause","video-play","refresh","refresh-right","refresh-left","finished","sort","sort-up","sort-down","rank","loading","view","c-scale-to-original","date","edit","edit-outline","folder","folder-opened","folder-add","folder-remove","folder-delete","folder-checked","tickets","document-remove","document-delete","document-copy","document-checked","document","document-add","printer","paperclip","takeaway-box","search","monitor","attract","mobile","scissors","umbrella","headset","brush","mouse","coordinate","magic-stick","reading","data-line","data-board","pie-chart","data-analysis","collection-tag","film","suitcase","suitcase-1","receiving","collection","files","notebook-1","notebook-2","toilet-paper","office-building","school","table-lamp","house","no-smoking","smoking","shopping-cart-full","shopping-cart-1","shopping-cart-2","shopping-bag-1","shopping-bag-2","sold-out","sell","present","box","bank-card","money","coin","wallet","discount","price-tag","news","guide","male","female","thumb","cpu","link","connection","open","turn-off","set-up","chat-round","chat-line-round","chat-square","chat-dot-round","chat-dot-square","chat-line-square","message","postcard","position","turn-off-microphone","microphone","close-notification","bangzhu","time","odometer","crop","aim","switch-button","full-screen","copy-document","mic","stopwatch","medal-1","medal","trophy","trophy-1","first-aid-kit","discover","place","location","location-outline","location-information","add-location","delete-location","map-location","alarm-clock","timer","watch-1","watch","lock","unlock","key","service","mobile-phone","bicycle","truck","ship","basketball","football","soccer","baseball","wind-power","light-rain","lightning","heavy-rain","sunrise","sunrise-1","sunset","sunny","cloudy","partly-cloudy","cloudy-and-sunny","moon","moon-night","dish","dish-1","food","chicken","fork-spoon","knife-fork","burger","tableware","sugar","dessert","ice-cream","hot-water","water-cup","coffee-cup","cold-drink","goblet","goblet-full","goblet-square","goblet-square-full","refrigerator","grape","watermelon","cherry","apple","pear","orange","coffee","ice-tea","ice-drink","milk-tea","potato-strips","lollipop","ice-cream-square","ice-cream-round"]')},de6a:function(e,t,a){},deb8:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{size:"mini"},on:{click:e.back}},[e._v("返回")])],1),a("h4",{staticStyle:{"text-align":"center"}},[e._v(" "+e._s(e.companyInfo.templateName+"检查结果"))]),a("el-form",{ref:"companyInfo",attrs:{model:e.companyInfo}},[a("table",{staticClass:"tableStyle tCenter"},[a("tbody",[a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("被检查单位名称")]),a("td",{staticClass:"tableContent"},[a("el-form-item",[a("el-input",{attrs:{readonly:"",placeholder:"请输入内容"},model:{value:e.companyInfo.companyName,callback:function(t){e.$set(e.companyInfo,"companyName",t)},expression:"companyInfo.companyName"}})],1)],1),a("td",{staticClass:"tableTitle tableTitle1"},[e._v("经营地址")]),a("td",{staticClass:"tableContent"},[a("el-form-item",[a("el-input",{attrs:{readonly:"",placeholder:"请输入内容"},model:{value:e.companyInfo.address,callback:function(t){e.$set(e.companyInfo,"address",t)},expression:"companyInfo.address"}})],1)],1)]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("法定代表人（负责人）")]),a("td",{staticClass:"tableContent"},[a("el-form-item",[a("el-input",{attrs:{readonly:"",placeholder:"请输入内容"},model:{value:e.companyInfo.leader,callback:function(t){e.$set(e.companyInfo,"leader",t)},expression:"companyInfo.leader"}})],1)],1),a("td",{staticClass:"tableTitle tableTitle1"},[e._v("电话")]),a("td",{staticClass:"tableContent"},[a("el-form-item",[a("el-input",{attrs:{readonly:"",placeholder:"请输入内容"},model:{value:e.companyInfo.mobile,callback:function(t){e.$set(e.companyInfo,"mobile",t)},expression:"companyInfo.mobile"}})],1)],1)]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("检查人员")]),a("td",{staticClass:"tableContent"},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.companyInfo.userIdBName,callback:function(t){e.$set(e.companyInfo,"userIdBName",t)},expression:"companyInfo.userIdBName"}})],1)],1)]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("检查时间 ")]),a("td",{staticClass:"tableContent"},[a("el-form-item",[a("el-date-picker",{attrs:{readonly:"",type:"datetime",placeholder:"选择日期时间"},model:{value:e.companyInfo.ctimeStart,callback:function(t){e.$set(e.companyInfo,"ctimeStart",t)},expression:"companyInfo.ctimeStart"}})],1)],1),a("td",{staticClass:"tableTitle tableTitle1"},[e._v("至 ")]),a("td",{staticClass:"tableContent"},[a("el-form-item",[a("el-date-picker",{attrs:{readonly:"",type:"datetime",placeholder:"选择日期时间"},model:{value:e.companyInfo.ctimeEnd,callback:function(t){e.$set(e.companyInfo,"ctimeEnd",t)},expression:"companyInfo.ctimeEnd"}})],1)],1)]),a("tr",[a("td",{staticClass:"tableTitle tableTitle1"},[e._v("处理意见")]),a("td",{staticClass:"tableContent",attrs:{colspan:"3"}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.companyInfo.result,callback:function(t){e.$set(e.companyInfo,"result",t)},expression:"companyInfo.result"}})],1)],1)])])])]),a("table",{ref:"checkTable",staticClass:"tableStyle tCenter",attrs:{id:"checkTable"}},[e._m(0),a("tbody",[e._l(e.list,(function(t,r){return e._l(t.contentList,(function(r,o){return a("tr",{key:o},[0==o?a("td",{staticClass:"tableTitle tableTitle1",attrs:{rowspan:t.contentList.length}},[e._v(" "+e._s(t.name)+" ")]):e._e(),a("td",{staticClass:"tableContent"},[e._v(" "+e._s(r.content)+" "),r.value?a("span",[e._v(e._s("【"+r.value+"】"))]):e._e()]),a("td",{staticClass:"tableContent center"},[a("span",[e._v(e._s(r.value))])]),a("td",{staticClass:"tableContent center"},[a("span",[e._v(e._s(r.currentValue))])]),a("td",{staticClass:"tableContent center"},["是"==r.default?a("span",[e._v("【☆】")]):e._e()])])}))})),a("tr",[a("td",{staticClass:"tableContent center"},[e._v("检查结果")]),a("td",{staticClass:"tableContent center"},[e._v(e._s("合理缺项:"+this.defaultCount+",合理缺项合计分:"+e.defaultValue))]),a("td",{staticClass:"tableContent center"},[e._v(e._s(e.score))]),a("td",{staticClass:"tableContent center"},[e._v(e._s(e.scoreCnt))]),a("td",{staticClass:"tableContent center"})]),a("tr",[a("td",{staticClass:"tableContent center",attrs:{colspan:"5"}},[e._v("检查总分: [检查合计分/(检查总分-合理缺项合计分)x检查总分] "+e._s((e.scoreCnt/(e.score-e.defaultValue)*e.score).toFixed(2)+"分"))])])],2)])],1)},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("td",{staticClass:"tableTitle tableTitle1 center"},[e._v("检查项目")]),a("td",{staticClass:"tableTitle tableTitle1 center"},[e._v(" 检查内容")]),a("td",{staticClass:"tableTitle tableTitle1 center"},[e._v("分值")]),a("td",{staticClass:"tableTitle tableTitle1 center"},[e._v("检查结果")]),a("td",{staticClass:"tableTitle tableTitle1 center"},[e._v("备注")])])])}],l=(a("6540"),a("83f1")),i=a("89e6"),s={props:{companyId:{type:String,default:""},templateId:{type:String,default:""},currentId:{type:String,default:""}},data:function(){return{form:{},list:[],companyInfo:{},defaultCount:0,defaultValue:0,score:0,scoreCnt:0}},created:function(){},mounted:function(){this.getCheckDetail()},methods:{companyGet:function(){var e=this;Object(l["e"])(this.companyId).then((function(t){e.companyInfo=t.data}))},getCheckDetail:function(){var e=this;Object(i["c"])(this.currentId).then((function(t){e.companyInfo=t.data,e.list=JSON.parse(t.data.templateJson),console.log(e.list);var a=0,r=0,o=0,l=0;e.list.map((function(e){e.contentList.map((function(e){"是"==e.default&&(a++,r+=parseInt(e.value)),"分值型"==e.type&&(o+=parseInt(e.value),"否"==e.default&&(l+=parseInt(e.currentValue)))}))})),e.score=o,e.defaultCount=a,e.defaultValue=r,e.scoreCnt=l}))},back:function(){this.$emit("back")}}},n=s,c=(a("1efb"),a("cba8")),u=Object(c["a"])(n,r,o,!1,null,"25e8381a",null);t["default"]=u.exports},df89:function(e,t,a){},e12b:function(e,t,a){},e1ad:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("h2",[e._v("投诉举报")]),a("el-divider"),a("el-form",{ref:"form",attrs:{"label-width":"0px",model:e.form,rules:e.rule}},[a("el-descriptions",{staticClass:"table",attrs:{column:2,border:""}},[a("el-descriptions-item",{attrs:{"content-class-name":"my-content"}},[a("template",{slot:"label"},[e._v(" 事发企业 ")]),a("el-form-item",{attrs:{prop:"compName",required:""}},[a("el-select",{staticStyle:{width:"90%"},attrs:{filterable:"",remote:"",clearable:"","reserve-keyword":"","remote-method":e.remoteMethod,loading:e.loading,"allow-create":"","default-first-option":"",placeholder:"请输入企业名称搜索"},model:{value:e.form.compName,callback:function(t){e.$set(e.form,"compName",t)},expression:"form.compName"}},e._l(e.options,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.name}})})),1),a("span",{staticStyle:{color:"#ff3631","font-family":"SimSun","margin-left":"10px"}},[e._v("*")])],1)],2),a("el-descriptions-item",{attrs:{"content-class-name":"my-content"}},[a("template",{slot:"label"},[e._v(" 事件名称 ")]),a("el-form-item",{attrs:{prop:"caseName",required:""}},[a("el-input",{staticStyle:{width:"90%"},model:{value:e.form.caseName,callback:function(t){e.$set(e.form,"caseName",t)},expression:"form.caseName"}}),a("span",{staticStyle:{color:"#ff3631","font-family":"SimSun","margin-left":"10px"}},[e._v("*")])],1)],2),a("el-descriptions-item",{attrs:{"content-class-name":"my-content"}},[a("template",{slot:"label"},[e._v(" 事件地点 ")]),a("el-form-item",{attrs:{prop:"caseAdress",required:""}},[a("el-input",{staticStyle:{width:"90%"},model:{value:e.form.caseAdress,callback:function(t){e.$set(e.form,"caseAdress",t)},expression:"form.caseAdress"}}),a("span",{staticStyle:{color:"#ff3631","font-family":"SimSun","margin-left":"10px"}},[e._v("*")])],1)],2),a("el-descriptions-item",{attrs:{"content-class-name":"my-content"}},[a("template",{slot:"label"},[e._v(" 类型 ")]),a("el-form-item",{attrs:{prop:"type",required:""}},[a("el-select",{staticStyle:{width:"90%"},attrs:{remote:"",clearable:"",placeholder:"请选择类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[a("el-option",{attrs:{label:"投诉",value:"投诉"}}),a("el-option",{attrs:{label:"举报",value:"举报"}}),a("el-option",{attrs:{label:"咨询",value:"咨询"}}),a("el-option",{attrs:{label:"意见建议",value:"意见建议"}}),a("el-option",{attrs:{label:"其他",value:"其他"}})],1),a("span",{staticStyle:{color:"#ff3631","font-family":"SimSun","margin-left":"10px"}},[e._v("*")])],1)],2),a("el-descriptions-item",{attrs:{span:2,"content-class-name":"my-content"}},[a("template",{slot:"label"},[e._v(" 发生时间 ")]),a("el-form-item",{attrs:{prop:"startTime",required:""}},[a("el-date-picker",{staticStyle:{width:"90%"},attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"选择日期"},model:{value:e.form.startTime,callback:function(t){e.$set(e.form,"startTime",t)},expression:"form.startTime"}}),a("span",{staticStyle:{color:"#ff3631","font-family":"SimSun","margin-left":"10px"}},[e._v("*")])],1)],2),a("el-descriptions-item",{attrs:{span:2,"content-class-name":"my-content"}},[a("template",{slot:"label"},[e._v(" 基本情况 ")]),a("el-form-item",{attrs:{prop:"context",required:""}},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("el-input",{staticStyle:{width:"90%"},attrs:{type:"textarea",autosize:{minRows:3}},model:{value:e.form.context,callback:function(t){e.$set(e.form,"context",t)},expression:"form.context"}}),a("span",{staticStyle:{color:"#ff3631","font-family":"SimSun","margin-left":"10px"}},[e._v("*")])],1)])],2),a("el-descriptions-item",{attrs:{span:2,"content-class-name":"my-content"}},[a("template",{slot:"label"},[e._v(" 附件上传 ")]),a("el-form-item",{attrs:{prop:"fileUpload"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.fileUrl,headers:e.headers,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,multiple:"","on-success":e.handleSuccess,"file-list":e.fileList}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],2),a("el-descriptions-item",{attrs:{"content-class-name":"my-content"}},[a("template",{slot:"label"},[e._v(" 报告人 ")]),a("el-form-item",{attrs:{prop:"reportName",required:""}},[a("el-input",{staticStyle:{width:"90%"},model:{value:e.form.reportName,callback:function(t){e.$set(e.form,"reportName",t)},expression:"form.reportName"}}),a("span",{staticStyle:{color:"#ff3631","font-family":"SimSun","margin-left":"10px"}},[e._v("*")])],1)],2),a("el-descriptions-item",{attrs:{"content-class-name":"my-content"}},[a("template",{slot:"label"},[e._v(" 联系方式 ")]),a("el-form-item",{attrs:{prop:"phone",required:""}},[a("el-input",{staticStyle:{width:"90%"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}}),a("span",{staticStyle:{color:"#ff3631","font-family":"SimSun","margin-left":"10px"}},[e._v("*")])],1)],2)],1),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确认")])],1)],1),e.open?a("SelectCompany",{attrs:{show:e.open,title:"选择企业",objectId:e.form.companyId},on:{confirm:e.selectCompany,close:e.closeSelectCompany}}):e._e()],1)},o=[],l=(a("1d7a"),a("cca2"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,visible:e.show,width:"50%","close-on-click-modal":!1,"append-to-body":"","before-close":e.close},on:{"update:visible":function(t){e.show=t}}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"cyan",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"singleTable",attrs:{data:e.Modeler,"highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{label:"名称",prop:"name"}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getCompanyList}}),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.close}},[e._v("取 消")])],1)],1)}),i=[],s=(a("6540"),a("83f1")),n={name:"ActIdGroup",components:{},props:{title:{type:String,default:""},show:{type:Boolean,default:!1},objectId:{type:String,default:""}},data:function(){return{loading:!0,single:!0,multiple:!0,total:0,Modeler:[],queryParams:{pageNum:1,pageSize:10,name:"",compTypeId:""},selection:[],form:{}}},created:function(){this.getCompanyList()},methods:{getCompanyList:function(){var e=this;Object(s["f"])(this.queryParams).then((function(t){e.Modeler=t.rows;var a=e;t.rows.map((function(e,t){console.log(a.objectId),a.objectId==e.objectId&&(console.log(e),a.$refs.singleTable.setCurrentRow(e))})),e.total=t.total,e.loading=!1}))},handleCurrentChange:function(e){this.form.name=e.name,this.form.compTypeName=e.compTypeName,this.form.tradeName=e.tradeName,this.form.objectId=e.objectId},handleQuery:function(){this.queryParams.pageNum=1,this.getCompanyList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},submitForm:function(){this.$emit("confirm",this.form)},close:function(){this.$emit("close")},formatter:function(e){return e.createTime?this.formatDate(e.createTime):""}}},c=n,u=a("cba8"),d=Object(u["a"])(c,l,i,!1,null,null,null),m=d.exports,p=a("5f87"),f=a("c77f"),h={components:{SelectCompany:m},data:function(){return{headers:{Authorization:"Bearer "+Object(p["a"])()},form:{compName:"",caseLevel:"4",reportName:"",caseAdress:"",startTime:"",context:"",phone:"",caseName:""},open:!1,size:"",fileUrl:"/prod-api/common/upload",fileList:[],rule:{compName:[{required:!0,message:"请选择事发企业",trigger:"blur"},{required:!0,message:"请选择事发企业",trigger:"change"}],caseName:[{required:!0,message:"请输入事件名称",trigger:"blur"},{required:!0,message:"请输入事件名称",trigger:"change"}],caseAdress:[{required:!0,message:"请输入事件地点",trigger:"blur"},{required:!0,message:"请输入事件地点",trigger:"change"}],startTime:[{required:!0,message:"请选择发生时间",trigger:"change"},{required:!0,message:"请选择发生时间",trigger:"blur"}],context:[{required:!0,message:"请输入基本内容",trigger:"blur"},{required:!0,message:"请输入基本内容",trigger:"change"}],phone:[{required:!0,message:"请输入联系方式",trigger:"blur"},{required:!0,message:"请输入联系方式",trigger:"change"}],caseLevel:[{required:!0,message:"请选择事件等级",trigger:"change"},{required:!0,message:"请选择事件等级",trigger:"blur"}],reportName:[{required:!0,message:"请输入报告人",trigger:"change"},{required:!0,message:"请输入报告人",trigger:"blur"}]},options:[],loading:!1}},mounted:function(){this.form.reportName=this.$store.state.user.companyInfo.name},methods:{remoteMethod:function(e){var t=this;t.loading=!0,Object(f["a"])({name:e}).then((function(e){t.loading=!1,t.options=e.data}))},submit:function(){var e=this;this.$refs["form"].validate((function(t){if(t)if(null!=e.form.objectId)Object(f["d"])(e.form).then((function(t){e.msgSuccess("修改成功")}));else{for(var a=[],r=0;r<e.fileList.length;r++)a.push(e.fileList[r].response.fileName);e.form.fileUpload=a.join(","),Object(f["b"])(e.form).then((function(t){e.msgSuccess("添加成功")}))}}))},closeSelectCompany:function(){this.open=!1},selectCompany:function(e){this.open=!1,this.form.compName=e.name,this.form.companyId=e.objectId},handleRemove:function(e,t){console.log(e,t),this.fileList=t},handlePreview:function(e){console.log(e)},handleSuccess:function(e,t,a){console.log(e,a),this.fileList=a},beforeRemove:function(e,t){return this.$confirm("确定移除 ".concat(e.name,"？"))}}},b=h,v=(a("9be9"),Object(u["a"])(b,r,o,!1,null,"3ad95f3c",null));t["default"]=v.exports},e268:function(e,t,a){},e2b0:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return s})),a.d(t,"d",(function(){return n}));var r=a("b775");function o(e){return Object(r["a"])({url:"/comp/c-ckwork-set-timrslot/add",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/comp/c-ckwork-set-timrslot/edit",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/comp/c-ckwork-set-timrslot/delete/".concat(e),method:"get"})}function s(e){return Object(r["a"])({url:"/comp/c-ckwork-set-timrslot/list",method:"get",params:e})}function n(e){return Object(r["a"])({url:"/comp/c-ckwork-set-timrslot/get/".concat(e),method:"get"})}},e599:function(e,t,a){},e723:function(e,t,a){},e787:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("router-view")],1)},o=[],l={data:function(){return{}},mounted:function(){}},i=l,s=a("cba8"),n=Object(s["a"])(i,r,o,!1,null,"53016fee",null);t["default"]=n.exports},e790:function(e,t,a){"use strict";a("3916")},ea7a:function(e,t,a){},eab4:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},o=[],l=a("4d28"),i=a.n(l),s=a("feb2");a("d8ac");var n={mixins:[s["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(e){this.setOptions(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.expectedData,a=e.actualData;this.chart.setOption({xAxis:{data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:["expected","actual"]},series:[{name:"expected",itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",data:t,animationDuration:2800,animationEasing:"cubicInOut"},{name:"actual",smooth:!0,type:"line",itemStyle:{normal:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2},areaStyle:{color:"#f3f8ff"}}},data:a,animationDuration:2800,animationEasing:"quadraticOut"}]})}}},c=n,u=a("cba8"),d=Object(u["a"])(c,r,o,!1,null,null,null);t["default"]=d.exports},ec55:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"errPage-container"},[a("el-button",{staticClass:"pan-back-btn",attrs:{icon:"arrow-left"},on:{click:e.back}},[e._v(" 返回 ")]),a("el-row",[a("el-col",{attrs:{span:12}},[a("h1",{staticClass:"text-jumbo text-ginormous"},[e._v(" 401错误! ")]),a("h2",[e._v("您没有访问权限！")]),a("h6",[e._v("对不起，您没有访问权限，请不要进行非法操作！您可以返回主页面")]),a("ul",{staticClass:"list-unstyled"},[a("li",{staticClass:"link-type"},[a("router-link",{attrs:{to:"/"}},[e._v(" 回首页 ")])],1)])]),a("el-col",{attrs:{span:12}},[a("img",{attrs:{src:e.errGif,width:"313",height:"428",alt:"Girl has dropped her ice cream."}})])],1)],1)},o=[],l=a("cc6c"),i=a.n(l),s={name:"Page401",data:function(){return{errGif:i.a+"?"+ +new Date}},methods:{back:function(){this.$route.query.noGoBack?this.$router.push({path:"/"}):this.$router.go(-1)}}},n=s,c=(a("ecf6"),a("cba8")),u=Object(c["a"])(n,r,o,!1,null,"f2e02586",null);t["default"]=u.exports},ecf6:function(e,t,a){"use strict";a("34bc")},ed45:function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return i})),a.d(t,"h",(function(){return s})),a.d(t,"b",(function(){return n})),a.d(t,"g",(function(){return c})),a.d(t,"c",(function(){return u})),a.d(t,"f",(function(){return d}));var r=a("b775");function o(e){return Object(r["a"])({url:"/system/dict/type/list",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/system/dict/type/"+e,method:"get"})}function i(e){return Object(r["a"])({url:"/system/dict/type",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/system/dict/type",method:"put",data:e})}function n(e){return Object(r["a"])({url:"/system/dict/type/"+e,method:"delete"})}function c(){return Object(r["a"])({url:"/system/dict/type/refreshCache",method:"delete"})}function u(e){return Object(r["a"])({url:"/system/dict/type/export",method:"get",params:e})}function d(){return Object(r["a"])({url:"/system/dict/type/optionselect",method:"get"})}},ed69:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"basicInfoForm",attrs:{model:e.info,rules:e.rules,"label-width":"150px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"表名称",prop:"tableName"}},[a("el-input",{attrs:{placeholder:"请输入仓库名称"},model:{value:e.info.tableName,callback:function(t){e.$set(e.info,"tableName",t)},expression:"info.tableName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"表描述",prop:"tableComment"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.info.tableComment,callback:function(t){e.$set(e.info,"tableComment",t)},expression:"info.tableComment"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"实体类名称",prop:"className"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.info.className,callback:function(t){e.$set(e.info,"className",t)},expression:"info.className"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作者",prop:"functionAuthor"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.info.functionAuthor,callback:function(t){e.$set(e.info,"functionAuthor",t)},expression:"info.functionAuthor"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.info.remark,callback:function(t){e.$set(e.info,"remark",t)},expression:"info.remark"}})],1)],1)],1)],1)},o=[],l={name:"BasicInfoForm",props:{info:{type:Object,default:null}},data:function(){return{rules:{tableName:[{required:!0,message:"请输入表名称",trigger:"blur"}],tableComment:[{required:!0,message:"请输入表描述",trigger:"blur"}],className:[{required:!0,message:"请输入实体类名称",trigger:"blur"}],functionAuthor:[{required:!0,message:"请输入作者",trigger:"blur"}]}}}},i=l,s=a("cba8"),n=Object(s["a"])(i,r,o,!1,null,null,null);t["default"]=n.exports},edf0:function(e,t,a){},ee2df:function(e,t,a){"use strict";a("9448")},ee46:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.user,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"旧密码",prop:"oldPassword"}},[a("el-input",{attrs:{placeholder:"请输入旧密码",type:"password","show-password":""},model:{value:e.user.oldPassword,callback:function(t){e.$set(e.user,"oldPassword",t)},expression:"user.oldPassword"}})],1),a("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[a("el-input",{attrs:{placeholder:"请输入新密码",type:"password","show-password":""},model:{value:e.user.newPassword,callback:function(t){e.$set(e.user,"newPassword",t)},expression:"user.newPassword"}})],1),a("el-form-item",{attrs:{label:"确认密码",prop:"confirmPassword"}},[a("el-input",{attrs:{placeholder:"请确认密码",type:"password","show-password":""},model:{value:e.user.confirmPassword,callback:function(t){e.$set(e.user,"confirmPassword",t)},expression:"user.confirmPassword"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.close}},[e._v("关闭")])],1)],1)},o=[],l=a("c0c7"),i={data:function(){var e=this,t=function(t,a,r){e.user.newPassword!==a?r(new Error("两次输入的密码不一致")):r()};return{test:"1test",user:{oldPassword:void 0,newPassword:void 0,confirmPassword:void 0},rules:{oldPassword:[{required:!0,message:"旧密码不能为空",trigger:"blur"}],newPassword:[{required:!0,message:"新密码不能为空",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"确认密码不能为空",trigger:"blur"},{required:!0,validator:t,trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.$refs["form"].validate((function(t){t&&Object(l["n"])(e.user.oldPassword,e.user.newPassword).then((function(t){e.$modal.msgSuccess("修改成功")}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/index"})}}},s=i,n=a("cba8"),c=Object(n["a"])(s,r,o,!1,null,null,null);t["default"]=c.exports},ef5b:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-container",[a("el-aside",{attrs:{width:"200px"}},[a("el-card",{attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("商品分类")])]),a("el-tree",{ref:"tree",attrs:{data:e.deptOptions,props:e.defaultProps,"expand-on-click-node":!1,"default-expand-all":"","highlight-current":""},on:{"node-click":e.handleNodeClick}})],1)],1),a("el-main",[a("el-row",[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"cyan",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1)],1),a("el-row",{staticClass:"mb8"},[a("el-col",{attrs:{span:1.5}},[a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.Addnotice}},[e._v("新增商品")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.Modeler}},[a("el-table-column",{attrs:{label:"商品名称",prop:"NAME"}}),a("el-table-column",{attrs:{label:"采购单价(元)",prop:"PRICE"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("编辑 ")]),a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除 ")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"产品名称","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入产品名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"分类","label-width":e.formLabelWidth,prop:"cateId"}},[a("treeselect",{attrs:{options:e.deptOptions,placeholder:"请选择选择分类",normalizer:e.normalizer,noResultsText:"无匹配数据",noOptionsText:"暂无数据"},model:{value:e.form.cateId,callback:function(t){e.$set(e.form,"cateId",t)},expression:"form.cateId"}})],1),a("el-form-item",{attrs:{label:"采购单价(元)","label-width":e.formLabelWidth,prop:"price"}},[a("el-input",{attrs:{autocomplete:"off",type:"number",placeholder:"请输入采购单价"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),a("el-form-item",{attrs:{label:"产地","label-width":e.formLabelWidth,prop:"origin"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入产地"},model:{value:e.form.origin,callback:function(t){e.$set(e.form,"origin",t)},expression:"form.origin"}})],1),a("el-form-item",{attrs:{label:"品牌名称","label-width":e.formLabelWidth,prop:"brand"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入品牌名称"},model:{value:e.form.brand,callback:function(t){e.$set(e.form,"brand",t)},expression:"form.brand"}})],1),a("el-form-item",{attrs:{label:"条码","label-width":e.formLabelWidth,prop:"barCode"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入条码"},model:{value:e.form.barCode,callback:function(t){e.$set(e.form,"barCode",t)},expression:"form.barCode"}})],1),a("el-form-item",{attrs:{label:"产品编号","label-width":e.formLabelWidth,prop:"code"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入产品编号"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),a("el-form-item",{attrs:{label:"规格","label-width":e.formLabelWidth,prop:"specs"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入规格"},model:{value:e.form.specs,callback:function(t){e.$set(e.form,"specs",t)},expression:"form.specs"}})],1),a("el-form-item",{attrs:{label:"来源","label-width":e.formLabelWidth,prop:"source"}},[a("el-radio-group",{model:{value:e.form.source,callback:function(t){e.$set(e.form,"source",t)},expression:"form.source"}},[a("el-radio",{attrs:{label:"外购"}}),a("el-radio",{attrs:{label:"自产"}}),a("el-radio",{attrs:{label:"外协加工"}})],1)],1),a("el-form-item",{attrs:{label:"供应商","label-width":e.formLabelWidth,prop:"supplierName"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择供应商"},model:{value:e.form.supplierName,callback:function(t){e.$set(e.form,"supplierName",t)},expression:"form.supplierName"}},e._l(e.options1,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.name,value:e.objectId}})})),1)],1),a("el-form-item",{attrs:{label:"注册证号","label-width":e.formLabelWidth,prop:"tcode"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入注册证号"},model:{value:e.form.tcode,callback:function(t){e.$set(e.form,"tcode",t)},expression:"form.tcode"}})],1),a("el-form-item",{attrs:{label:"计量单位","label-width":e.formLabelWidth,prop:"unit"}},[a("el-select",{attrs:{filterable:"","allow-create":"","default-first-option":"",placeholder:"请选择计量单位"},model:{value:e.form.unit,callback:function(t){e.$set(e.form,"unit",t)},expression:"form.unit"}},e._l(e.options,(function(e){return a("el-option",{key:e.unit,attrs:{label:e.unit,value:e.unit}})})),1)],1),a("el-form-item",{attrs:{label:"显示顺序","label-width":e.formLabelWidth,prop:"sortz"}},[a("el-input-number",{attrs:{min:0,placeholder:"请输入显示顺序"},model:{value:e.form.sortz,callback:function(t){e.$set(e.form,"sortz",t)},expression:"form.sortz"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("保 存")]),a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")])],1)],1)],1)},o=[],l=(a("989e"),a("0bd5"),a("79a8"),a("17b3")),i=a("1967"),s=a("535d"),n=a("b775");function c(e){return Object(n["a"])({url:"/store/st-product/proList",method:"get",params:e})}function u(e){return Object(n["a"])({url:"/store/st-product/add",method:"post",data:e})}function d(e){return Object(n["a"])({url:"/store/st-product/get/"+e,method:"get"})}function m(e){return Object(n["a"])({url:"/store/st-product/edit",method:"post",data:e})}function p(e){return Object(n["a"])({url:"/store/st-product/delete/"+e,method:"get"})}var f=a("095c"),h=a("7d66"),b=a.n(h),v=(a("5166"),{components:{Editor:f["a"],Treeselect:b.a},data:function(){return{normalizer:function(e){(e.children&&!e.children.length||null==e.children)&&delete e.children},loading:!1,showSearch:!0,total:0,Modeler:[],title:"",deptOptions:[],dialogFormVisible:!1,defaultProps:{children:"children",label:"label"},value:"",queryParams:{pageNum:1,pageSize:10,cateId:"",name:""},industryTypeList:[],compTypeList:[],form:{tags:[]},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],cateId:[{required:!0,message:"请选择类别",trigger:"change"}],price:[{required:!0,message:"请输入采购单价",trigger:"blur"}]},list:[],formLabelWidth:"120px",cateId:"",inputVisible:!1,inputValue:"",options:[],options1:[]}},mounted:function(){this.getTreeselect()},methods:{handleClose:function(e){this.form.tags.splice(this.form.tags.indexOf(e),1)},showInput:function(){var e=this;this.inputVisible=!0,this.$nextTick((function(t){e.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){var e=this.inputValue;e&&this.form.tags.push(e),this.inputVisible=!1,this.inputValue=""},handleQuery:function(){this.queryParams.pageNum=1,this.queryParams.cateId=this.cateId,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.queryParams.cateId=this.cateId,this.handleQuery()},addTag:function(){this.list.push({value:""})},filterNode:function(e,t){return console.log(e,t),!e||-1!==t.label.indexOf(e)},handleNodeClick:function(e){this.queryParams.cateId=e.id,this.cateId=e.id,this.getList()},getList:function(){var e=this;this.loading=!0,c(this.queryParams).then((function(t){e.Modeler=t.rows,e.total=t.total,e.loading=!1}))},getTreeselect:function(){var e=this;Object(l["e"])().then((function(t){e.deptOptions=t.data}))},deleteTag:function(e){console.log(e),this.list.splice(e,1)},Addnotice:function(){var e=this;this.reset(),this.cateId&&(this.form.cateId=this.cateId),Object(i["e"])().then((function(t){e.options=t.data})),Object(s["e"])().then((function(t){e.options1=t.data})),this.title="新增",this.dialogFormVisible=!0},handleUpdate:function(e){var t=this;this.reset(),Object(i["e"])().then((function(e){t.options=e.data})),Object(s["e"])().then((function(e){t.options1=e.data})),d(e.OBJECT_ID).then((function(e){e.data.tags&&(e.data.tags=e.data.tags.split(",")),t.form=e.data,t.title="修改",t.dialogFormVisible=!0}))},reset:function(){this.form={tags:[]},this.resetForm("form")},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.objectId?m(e.form).then((function(t){e.msgSuccess("修改成功"),e.dialogFormVisible=!1,e.getList()})):u(e.form).then((function(t){e.msgSuccess("新增成功"),e.dialogFormVisible=!1,e.getList()})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除"'+e.NAME+'"?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return p(e.OBJECT_ID)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},formatter:function(e){return e.startDate?this.formatDate(e.startDate,"{y}-{m}-{d}"):""},formatter1:function(e){return e.takeDate?this.formatDate(e.takeDate,"{y}-{m}-{d}"):""}}}),g=v,y=(a("fedb"),a("cba8")),k=Object(y["a"])(g,r,o,!1,null,"c8c00b92",null);t["default"]=k.exports},f0b5:function(e,t,a){},f18f:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.addDocument}},[e._v("增加仓库 ")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.Modeler}},[a("el-table-column",{attrs:{label:"仓库名称",prop:"name"}}),a("el-table-column",{attrs:{label:"仓库地址",prop:"areaDesc"}}),a("el-table-column",{attrs:{label:"仓库负责人",prop:"leader"}}),a("el-table-column",{attrs:{label:"联系方式",prop:"mobile"}}),a("el-table-column",{attrs:{label:"仓库类型",prop:"type"}}),a("el-table-column",{attrs:{label:"仓库面积(㎡)",prop:"size"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("编辑 ")]),a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除 ")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{visible:e.open,width:"600px",title:e.title,"append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t},close:e.modelCancel}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"仓库名称：",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入仓库名称"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"仓库地址：",prop:"areaDesc"}},[a("el-input",{attrs:{placeholder:"请输入仓库地址"},model:{value:e.ruleForm.areaDesc,callback:function(t){e.$set(e.ruleForm,"areaDesc",t)},expression:"ruleForm.areaDesc"}})],1),a("el-form-item",{attrs:{label:"仓库负责人：",prop:"leader"}},[a("el-input",{attrs:{placeholder:"请输入仓库负责人"},model:{value:e.ruleForm.leader,callback:function(t){e.$set(e.ruleForm,"leader",t)},expression:"ruleForm.leader"}})],1),a("el-form-item",{attrs:{label:"联系方式：",prop:"mobile"}},[a("el-input",{attrs:{placeholder:"请输入联系方式"},model:{value:e.ruleForm.mobile,callback:function(t){e.$set(e.ruleForm,"mobile",t)},expression:"ruleForm.mobile"}})],1),a("el-form-item",{attrs:{label:"工作人员数量：",prop:"cnt"}},[a("el-input",{attrs:{placeholder:"请输入工作人员数量"},model:{value:e.ruleForm.cnt,callback:function(t){e.$set(e.ruleForm,"cnt",t)},expression:"ruleForm.cnt"}})],1),a("el-form-item",{attrs:{label:"仓库面积(㎡)：",prop:"size"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入仓库面积(㎡)"},model:{value:e.ruleForm.size,callback:function(t){e.$set(e.ruleForm,"size",t)},expression:"ruleForm.size"}})],1),a("el-form-item",{attrs:{label:"仓库类型：",prop:"type"}},[a("el-checkbox-group",{model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[a("el-checkbox",{attrs:{label:"平面仓库",name:"type"}}),a("el-checkbox",{attrs:{label:"立体仓库",name:"type"}}),a("el-checkbox",{attrs:{label:"冷冻、冷藏仓库",name:"type"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存")]),a("el-button",{on:{click:e.modelCancel}},[e._v("取消")])],1)],1)],1)},o=[],l=a("8955"),i=(a("0bd5"),a("79a8"),a("402f"),a("836b"),a("83f1")),s={props:{objectId:{type:String,required:!0}},data:function(){return Object(l["a"])({loading:!1,showSearch:!0,total:0,Modeler:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10},ruleForm:{areaDesc:"",leader:"",mobile:"",cnt:"",size:"",type:[],companyId:""},rules:{name:[{required:!0,message:"请输入仓库名称",trigger:"blur"}],areaDesc:[{required:!0,message:"请输入仓库地址",trigger:"blur"}],leader:[{required:!0,message:"请输入仓库负责人",trigger:"blur"}],size:[{required:!0,message:"请输入仓库面积",trigger:"blur"}]},selection:[]},"title","")},watch:{objectId:function(){this.objectId&&this.getList()}},methods:{getList:function(){var e=this;this.loading=!0,this.ruleForm.companyId=this.objectId,Object(i["O"])({companyId:this.objectId}).then((function(t){e.Modeler=t.data,e.loading=!1}))},handleDelete:function(e){var t=this;this.$confirm("是否确认删除所选信息?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["L"])(e.objectId)})).then((function(){t.getList(),t.msgSuccess("删除成功"),t.$emit("comfign1",t.objectId)})).catch((function(){}))},modelCancel:function(){this.reset(),this.open=!1},addDocument:function(){this.reset(),this.title="新增仓库",this.open=!0},handleUpdate:function(e){var t=this;this.reset(),Object(i["N"])(e.objectId).then((function(e){e.data.type&&(e.data.type=e.data.type.split(",")),t.ruleForm=e.data,t.title="修改仓库",t.open=!0}))},submitForm:function(){var e=this;this.$refs["ruleForm"].validate((function(t){if(t){var a=JSON.parse(JSON.stringify(e.ruleForm));a.type=a.type.toString(),null!=a.objectId?Object(i["M"])(a).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList(),e.$emit("comfign1",e.objectId)})):Object(i["K"])(a).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList(),e.$emit("comfign1",e.objectId)}))}}))},reset:function(){this.ruleForm={companyId:this.objectId,areaDesc:"",leader:"",mobile:"",cnt:"",size:"",type:[]},this.resetForm("ruleForm")},formatter:function(e){return e.bdate?this.formatDate(e.bdate,"{y}-{m}-{d}"):""}}},n=s,c=(a("11f1"),a("cba8")),u=Object(c["a"])(n,r,o,!1,null,"c5480d5a",null);t["default"]=u.exports},f19c:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.addUnit}},[e._v("增加计量单位 ")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.Modeler}},[a("el-table-column",{attrs:{label:"单位",prop:"unit"}}),a("el-table-column",{attrs:{label:"排序值",prop:"sortz"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("编辑 ")]),a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除 ")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{visible:e.open,width:"800px",title:e.title,"append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t},close:e.modelCancel}},[a("el-form",{ref:"unitForm",staticClass:"demo-ruleForm",attrs:{model:e.unitForm,rules:e.rules,"label-width":"130px"}},[a("el-form-item",{attrs:{label:"单位：",prop:"unit"}},[a("el-input",{attrs:{placeholder:"请输入单位名称"},model:{value:e.unitForm.unit,callback:function(t){e.$set(e.unitForm,"unit",t)},expression:"unitForm.unit"}})],1),a("el-form-item",{attrs:{label:"排序值：",prop:"sortz"}},[a("el-input-number",{attrs:{"controls-position":"right",min:1,max:10},on:{change:e.handleChange},model:{value:e.unitForm.sortz,callback:function(t){e.$set(e.unitForm,"sortz",t)},expression:"unitForm.sortz"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("unitForm")}}},[e._v("保存")]),a("el-button",{on:{click:e.modelCancel}},[e._v("取消")])],1)],1)],1)},o=[],l=a("1967"),i=(a("5f87"),{data:function(){return{loading:!1,loadingUserList:!1,showSearch:!0,total:0,totalUserList:0,Modeler:[],userList:[],title:"",titleUser:"",open:!1,userOpen:!1,openUserList:!1,queryParams:{pageNum:1,pageSize:10,isBlack:0,certCode:"",mobile:"",companyId:this.$store.state.user.companyInfo.companyId},queryParamsUserList:{pageNum:1,pageSize:6,staffId:""},unitForm:{objectId:"",companyId:"",sortz:"",unit:""},rules:{companyId:[{required:!0,message:"请输入所在公司",trigger:"blur"}],unit:[{required:!0,message:"请输入单位",trigger:"blur"}],mobile:[{required:!0,message:"请输入联系电话",trigger:"blur"}]}}},mounted:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(l["e"])().then((function(t){e.Modeler=t.data,e.loading=!1}))},handleChange:function(e){console.log(e)},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleDelete:function(e){var t=this;this.$confirm("是否确认删除所选信息?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["b"])(e.objectId)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},modelCancel:function(){this.reset(),this.open=!1},addUnit:function(){this.reset(),this.title="新增计量单位",this.open=!0},handleUpdate:function(e){var t=this;this.reset(),Object(l["d"])(e.objectId).then((function(e){t.unitForm=e.data,t.title="修改从业人员",t.open=!0}))},submitForm:function(){var e=this;this.$refs["unitForm"].validate((function(t){t&&(null!=e.unitForm.objectId?Object(l["c"])(e.unitForm).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(l["a"])(e.unitForm).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},reset:function(){this.unitForm={companyId:"",sortz:"",unit:""},this.resetForm("unitForm")},handleUser:function(e){var t=this;this.queryParamsUserList.staffId=e.objectId,this.getListUserList(),permitTypeList().then((function(e){t.permitTypeList=e.data}))},addUser:function(){this.reset(),this.titleUser="新增证书",this.userOpen=!0},handleUpdateUser:function(e){var t=this;this.reset(),permitGet(e.objectId).then((function(e){t.userForm=e.data,t.titleUser="修改证书",t.userOpen=!0}))},submitFormUser:function(){var e=this;this.$refs["userForm"].validate((function(t){t&&(null!=e.userForm.objectId?permitEdit(e.userForm).then((function(t){e.msgSuccess("修改成功"),e.userOpen=!1,e.getListUserList()})):(e.userForm.staffId=e.queryParamsUserList.staffId,permitAdd(e.userForm).then((function(t){e.msgSuccess("新增成功"),e.userOpen=!1,e.getListUserList()}))))}))},handleDeleteUser:function(e){var t=this;this.$confirm("是否确认删除?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return permitDel(e.objectId)})).then((function(){t.getListUserList(),t.msgSuccess("删除成功")}))},formatter:function(e){return e.date1?this.formatDate(e.date1,"{y}-{m}-{d}"):""},formatter1:function(e){return e.date2?this.formatDate(e.date2,"{y}-{m}-{d}"):""},handleAvatarSuccess:function(e,t){this.userForm.fileUrl=e.fileName},beforeAvatarUpload:function(e){}}}),s=i,n=(a("b8d5"),a("cba8")),c=Object(n["a"])(s,r,o,!1,null,"b4900882",null);t["default"]=c.exports},f27a:function(e,t,a){},f327:function(e,t,a){"use strict";a("d59d")},f3a6:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.addDocument}},[e._v("增加从业人员 ")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.Modeler}},[a("el-table-column",{attrs:{label:"姓名",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{color:"#409EFF",cursor:"pointer"},on:{click:function(a){return e.seeDetail(t.row)}}},[e._v(e._s(t.row.name))])]}}])}),a("el-table-column",{attrs:{label:"身份证号",prop:"certCode"}}),a("el-table-column",{attrs:{label:"联系电话",prop:"mobile"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleUser(t.row)}}},[e._v("证书管理")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("编辑 ")]),a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除 ")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{visible:e.open,width:"85%",title:e.title,"append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t},close:e.modelCancel}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"130px",inline:!0}},[a("el-form-item",{attrs:{label:"姓名：",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"性别：",prop:"sex"}},[a("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.ruleForm.sex,callback:function(t){e.$set(e.ruleForm,"sex",t)},expression:"ruleForm.sex"}},[a("el-option",{attrs:{label:"男",value:"0"}}),a("el-option",{attrs:{label:"女",value:"1"}})],1)],1),a("el-form-item",{attrs:{label:"人员编号：",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入人员编号"},model:{value:e.ruleForm.code,callback:function(t){e.$set(e.ruleForm,"code",t)},expression:"ruleForm.code"}})],1),a("el-form-item",{attrs:{label:"身份证：",prop:"certCode"}},[a("el-input",{attrs:{placeholder:"请输入身份证"},model:{value:e.ruleForm.certCode,callback:function(t){e.$set(e.ruleForm,"certCode",t)},expression:"ruleForm.certCode"}})],1),a("el-form-item",{attrs:{label:"民族：",prop:"nation"}},[a("el-select",{attrs:{placeholder:"请选择民族"},model:{value:e.ruleForm.nation,callback:function(t){e.$set(e.ruleForm,"nation",t)},expression:"ruleForm.nation"}},[a("el-option",{attrs:{label:"汉族",value:"汉族"}}),a("el-option",{attrs:{label:"朝鲜族",value:"朝鲜族"}}),a("el-option",{attrs:{label:"满族",value:"满族"}}),a("el-option",{attrs:{label:"侗族",value:"侗族"}}),a("el-option",{attrs:{label:"瑶族",value:"瑶族"}}),a("el-option",{attrs:{label:"白族",value:"白族"}}),a("el-option",{attrs:{label:"土家族",value:"土家族"}}),a("el-option",{attrs:{label:"哈尼族",value:"哈尼族"}}),a("el-option",{attrs:{label:"哈萨克族",value:"哈萨克族"}}),a("el-option",{attrs:{label:"傣族",value:"傣族"}}),a("el-option",{attrs:{label:"黎族",value:"黎族"}}),a("el-option",{attrs:{label:"蒙古族",value:"蒙古族"}}),a("el-option",{attrs:{label:"傈傈族",value:"傈傈族"}}),a("el-option",{attrs:{label:"佤族",value:"佤族"}}),a("el-option",{attrs:{label:"畲族",value:"畲族"}}),a("el-option",{attrs:{label:"高山族",value:"高山族"}}),a("el-option",{attrs:{label:"拉祜族",value:"拉祜族"}}),a("el-option",{attrs:{label:"水族",value:"水族"}}),a("el-option",{attrs:{label:"东乡族",value:"东乡族"}}),a("el-option",{attrs:{label:"纳西族",value:"纳西族"}}),a("el-option",{attrs:{label:"景颇族",value:"景颇族"}}),a("el-option",{attrs:{label:"回族",value:"回族"}}),a("el-option",{attrs:{label:"柯尔克孜族",value:"柯尔克孜族"}}),a("el-option",{attrs:{label:"土族",value:"土族"}}),a("el-option",{attrs:{label:"达斡尔族",value:"达斡尔族"}}),a("el-option",{attrs:{label:"仫佬族",value:"仫佬族"}}),a("el-option",{attrs:{label:"羌族",value:"羌族"}}),a("el-option",{attrs:{label:"布朗族",value:"布朗族"}}),a("el-option",{attrs:{label:"撒拉族",value:"撒拉族"}}),a("el-option",{attrs:{label:"毛难族",value:"毛难族"}}),a("el-option",{attrs:{label:"仡佬族",value:"仡佬族"}}),a("el-option",{attrs:{label:"锡伯族",value:"锡伯族"}}),a("el-option",{attrs:{label:"阿昌族",value:"阿昌族"}}),a("el-option",{attrs:{label:"藏族",value:"藏族"}}),a("el-option",{attrs:{label:"普米族",value:"普米族"}}),a("el-option",{attrs:{label:"塔吉克族",value:"塔吉克族"}}),a("el-option",{attrs:{label:"怒族",value:"怒族"}}),a("el-option",{attrs:{label:"乌孜别克族",value:"乌孜别克族"}}),a("el-option",{attrs:{label:"俄罗斯族",value:"俄罗斯族"}}),a("el-option",{attrs:{label:"鄂温克族族",value:"鄂温克族族"}}),a("el-option",{attrs:{label:"崩龙族",value:"崩龙族"}}),a("el-option",{attrs:{label:"保安族",value:"保安族"}}),a("el-option",{attrs:{label:"裕固族",value:"裕固族"}}),a("el-option",{attrs:{label:"京族",value:"京族"}}),a("el-option",{attrs:{label:"维吾尔族",value:"维吾尔族"}}),a("el-option",{attrs:{label:"塔塔尔族",value:"塔塔尔族"}}),a("el-option",{attrs:{label:"独龙族",value:"独龙族"}}),a("el-option",{attrs:{label:"鄂伦春族",value:"鄂伦春族"}}),a("el-option",{attrs:{label:"赫哲族",value:"赫哲族"}}),a("el-option",{attrs:{label:"门巴族",value:"门巴族"}}),a("el-option",{attrs:{label:"珞巴族",value:"珞巴族"}}),a("el-option",{attrs:{label:"基诺族",value:"基诺族"}}),a("el-option",{attrs:{label:"苗族",value:"苗族"}}),a("el-option",{attrs:{label:"彝族",value:"彝族"}}),a("el-option",{attrs:{label:"壮族",value:"壮族"}}),a("el-option",{attrs:{label:"布衣族",value:"布衣族"}}),a("el-option",{attrs:{label:"其他",value:"其他"}}),a("el-option",{attrs:{label:"外国血统中国籍人士",value:"外国血统中国籍人士"}})],1)],1),a("el-form-item",{attrs:{label:"户籍登记地址：",prop:"areaDesc"}},[a("el-input",{attrs:{placeholder:"请输入户籍登记地址"},model:{value:e.ruleForm.areaDesc,callback:function(t){e.$set(e.ruleForm,"areaDesc",t)},expression:"ruleForm.areaDesc"}})],1),a("el-form-item",{attrs:{label:"职务：",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择职务"},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[a("el-option",{attrs:{label:"董事长兼总经理",value:"董事长兼总经理"}}),a("el-option",{attrs:{label:"董事兼总经理",value:"董事兼总经理"}}),a("el-option",{attrs:{label:"执行董事兼总经理",value:"执行董事兼总经理"}}),a("el-option",{attrs:{label:"董事长",value:"董事长"}}),a("el-option",{attrs:{label:"副董事长",value:"副董事长"}}),a("el-option",{attrs:{label:"董事",value:"董事"}}),a("el-option",{attrs:{label:"执行董事",value:"执行董事"}}),a("el-option",{attrs:{label:"总经理",value:"总经理"}}),a("el-option",{attrs:{label:"副总经理",value:"副总经理"}}),a("el-option",{attrs:{label:"经理",value:"经理"}}),a("el-option",{attrs:{label:"负责人",value:"负责人"}}),a("el-option",{attrs:{label:"总务主任",value:"总务主任"}}),a("el-option",{attrs:{label:"专职管理员",value:"专职管理员"}}),a("el-option",{attrs:{label:"其他人员",value:"其他人员"}})],1)],1),a("el-form-item",{attrs:{label:"联系电话：",prop:"mobile"}},[a("el-input",{attrs:{placeholder:"请输入联系电话"},model:{value:e.ruleForm.mobile,callback:function(t){e.$set(e.ruleForm,"mobile",t)},expression:"ruleForm.mobile"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存")]),a("el-button",{on:{click:e.modelCancel}},[e._v("取消")])],1)],1),a("el-dialog",{attrs:{visible:e.open1,width:"85%",title:e.title,"append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open1=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"130px",inline:!0}},[a("el-form-item",{attrs:{label:"姓名："}},[a("span",[e._v(e._s(e.ruleForm.name))])]),a("el-form-item",{attrs:{label:"性别："}},[a("span",[e._v(e._s(0==e.ruleForm.sex?"男":"女"))])]),a("el-form-item",{attrs:{label:"人员编号："}},[a("span",[e._v(e._s(e.ruleForm.code))])]),a("el-form-item",{attrs:{label:"身份证："}},[a("span",[e._v(e._s(e.ruleForm.certCode))])]),a("el-form-item",{attrs:{label:"民族："}},[a("span",[e._v(e._s(e.ruleForm.nation))])]),a("el-form-item",{attrs:{label:"户籍登记地址："}},[a("span",[e._v(e._s(e.ruleForm.areaDesc))])]),a("el-form-item",{attrs:{label:"职务："}},[a("span",[e._v(e._s(e.ruleForm.type))])]),a("el-form-item",{attrs:{label:"联系电话："}},[a("span",[e._v(e._s(e.ruleForm.mobile))])])],1)],1),a("el-dialog",{attrs:{visible:e.userOpen,width:"85%",title:e.titleUser,"append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.userOpen=t}}},[a("el-form",{ref:"userForm",attrs:{model:e.userForm,rules:e.userRules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"证书名称：",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入证书名称"},model:{value:e.userForm.name,callback:function(t){e.$set(e.userForm,"name",t)},expression:"userForm.name"}})],1),a("el-form-item",{attrs:{label:"编号：",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输编号"},model:{value:e.userForm.code,callback:function(t){e.$set(e.userForm,"code",t)},expression:"userForm.code"}})],1),a("el-form-item",{attrs:{label:"证件类型：",prop:"permitTypeId"}},[a("el-select",{attrs:{placeholder:"请选择证件类型"},model:{value:e.userForm.permitTypeId,callback:function(t){e.$set(e.userForm,"permitTypeId",t)},expression:"userForm.permitTypeId"}},e._l(e.permitTypeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.type,value:e.objectId}})})),1)],1),a("el-form-item",{attrs:{label:"发证日期：",prop:"date1"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"请选择发证日期"},model:{value:e.userForm.date1,callback:function(t){e.$set(e.userForm,"date1",t)},expression:"userForm.date1"}})],1),a("el-form-item",{attrs:{label:"到期日期：",prop:"date2"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss",type:"datetime",placeholder:"请选择到期日期"},model:{value:e.userForm.date2,callback:function(t){e.$set(e.userForm,"date2",t)},expression:"userForm.date2"}})],1),a("el-form-item",{attrs:{label:"发证单位：",prop:"certOrgan"}},[a("el-input",{attrs:{placeholder:"请输入发证单位"},model:{value:e.userForm.certOrgan,callback:function(t){e.$set(e.userForm,"certOrgan",t)},expression:"userForm.certOrgan"}})],1),a("el-form-item",{attrs:{label:"证书图片：",prop:"fileUrl"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.fileUrl,headers:e.headers,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[a("div",{staticClass:"upload"},[e.userForm.fileUrl?a("img",{staticClass:"avatar",attrs:{src:e.url+e.userForm.fileUrl}}):e._e(),a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选择文件")])],1)])],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFormUser}},[e._v("保存")]),a("el-button",{on:{click:function(t){e.userOpen=!1}}},[e._v("取消")])],1)],1),a("el-dialog",{attrs:{visible:e.openUserList,width:"85%",title:"证书管理","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.openUserList=t}}},[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.addUser}},[e._v("新增证书 ")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingUserList,expression:"loadingUserList"}],attrs:{data:e.userList}},[a("el-table-column",{attrs:{label:"证书名称",prop:"name"}}),a("el-table-column",{attrs:{label:"证书类型",prop:"type"}}),a("el-table-column",{attrs:{label:"发证日期",prop:"date1",formatter:e.formatter}}),a("el-table-column",{attrs:{label:"到期日期",prop:"date2",formatter:e.formatter1}}),a("el-table-column",{attrs:{label:"发证单位",prop:"certOrgan"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdateUser(t.row)}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDeleteUser(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalUserList>0,expression:"totalUserList>0"}],attrs:{total:e.totalUserList,page:e.queryParamsUserList.pageNum,limit:e.queryParamsUserList.pageSize},on:{"update:page":function(t){return e.$set(e.queryParamsUserList,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParamsUserList,"pageSize",t)},pagination:e.getListUserList}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.openUserList=!1}}},[e._v("确定")])],1)],1)],1)},o=[],l=a("8955"),i=(a("1d7a"),a("83f1")),s=a("5f87"),n={props:{objectId:{type:String,required:!0}},data:function(){var e;return e={loading:!1,loadingUserList:!1,showSearch:!0,total:0,totalUserList:0,Modeler:[],userList:[],title:"",titleUser:"",open:!1,open1:!1,userOpen:!1,openUserList:!1,queryParams:{pageNum:1,pageSize:10},queryParamsUserList:{pageNum:1,pageSize:6,companyId:""},userForm:{name:"",code:"",permitTypeId:"",date1:"",date2:"",certOrgan:"",fileUrl:""},ruleForm:{name:"",sex:"",certType:"身份证",certCode:"",nation:"汉族",areaDesc:"",companyId:"",type:"",mobile:""},rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}],certCode:[{required:!0,message:"请输入身份证",trigger:"blur"},{pattern:/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,message:"请输入正确的身份证",trigger:"blur"}],mobile:[{required:!0,message:"请输入联系电话",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的联系电话",trigger:"blur"}]},userRules:{permitTypeId:[{required:!0,message:"请选择证件类型",trigger:"change"}],date1:[{required:!0,message:"请选择发证日期",trigger:"change"}],date2:[{required:!0,message:"请选择到期日期",trigger:"change"}],certOrgan:[{required:!0,message:"请输入发证单位",trigger:"blur"}],fileUrl:[{required:!0,message:"请上传证书图片",trigger:"change"}]}},Object(l["a"])(e,"title",""),Object(l["a"])(e,"permitTypeList",[]),Object(l["a"])(e,"fileUrl","/prod-api/common/upload"),Object(l["a"])(e,"url","/prod-api"),Object(l["a"])(e,"headers",{Authorization:"Bearer "+Object(s["a"])()}),e},watch:{objectId:function(){this.objectId&&this.getList()}},methods:{getList:function(){var e=this;this.loading=!0,this.ruleForm.companyId=this.objectId,Object(i["J"])({companyId:this.objectId}).then((function(t){e.Modeler=t.data,e.loading=!1}))},handleDelete:function(e){var t=this;this.$confirm("是否确认删除所选信息?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["G"])(e.objectId)})).then((function(){t.getList(),t.msgSuccess("删除成功"),t.$emit("comfign1",t.objectId)})).catch((function(){}))},modelCancel:function(){this.reset(),this.open=!1},addDocument:function(){this.reset(),this.title="新增从业人员",this.open=!0},seeDetail:function(e){var t=this;this.reset(),Object(i["I"])(e.objectId).then((function(e){t.ruleForm=e.data,t.title="从业人员详情",t.open1=!0}))},handleUpdate:function(e){var t=this;this.reset(),Object(i["I"])(e.objectId).then((function(e){t.ruleForm=e.data,t.title="修改从业人员",t.open=!0}))},submitForm:function(){var e=this;this.$refs["ruleForm"].validate((function(t){t&&(null!=e.ruleForm.objectId?Object(i["H"])(e.ruleForm).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList(),e.$emit("comfign1",e.objectId)})):Object(i["F"])(e.ruleForm).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList(),e.$emit("comfign1",e.objectId)})))}))},reset:function(){this.ruleForm={companyId:this.objectId,name:"",sex:"",certType:"身份证",certCode:"",nation:"汉族",areaDesc:"",type:"",mobile:""},this.userForm={name:"",code:"",permitTypeId:"",date1:"",date2:"",certOrgan:"",fileUrl:""},this.resetForm("userForm"),this.resetForm("ruleForm")},handleUser:function(e){var t=this;this.queryParamsUserList.staffId=e.objectId,this.getListUserList(),Object(i["z"])().then((function(e){t.permitTypeList=e.data}))},getListUserList:function(){var e=this;this.loadingUser=!0,Object(i["y"])(this.queryParamsUserList).then((function(t){e.userList=t.data,e.totalUser=t.total,e.loadingUser=!1,e.openUserList=!0}))},addUser:function(){this.reset(),this.titleUser="新增证书",this.userOpen=!0},handleUpdateUser:function(e){var t=this;this.reset(),Object(i["x"])(e.objectId).then((function(e){t.userForm=e.data,t.titleUser="修改证书",t.userOpen=!0}))},submitFormUser:function(){var e=this;this.$refs["userForm"].validate((function(t){t&&(null!=e.userForm.objectId?Object(i["w"])(e.userForm).then((function(t){e.msgSuccess("修改成功"),e.userOpen=!1,e.getListUserList()})):(e.userForm.staffId=e.queryParamsUserList.staffId,Object(i["u"])(e.userForm).then((function(t){e.msgSuccess("新增成功"),e.userOpen=!1,e.getListUserList()}))))}))},handleDeleteUser:function(e){var t=this;this.$confirm('是否确认删除证书"'+e.name+'"?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["permitDel"])(e.objectId)})).then((function(){t.getListUserList(),t.msgSuccess("删除成功")}))},formatter:function(e){return e.date1?this.formatDate(e.date1,"{y}-{m}-{d}"):""},formatter1:function(e){return e.date2?this.formatDate(e.date2,"{y}-{m}-{d}"):""},handleAvatarSuccess:function(e,t){this.userForm.fileUrl=e.fileName},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/jpg"===e.type||"image/png"===e.type||"image/gif"===e.type;e.size;return t||this.$message.error("请上传jpeg/jpg/png/gif类型的图片!"),t}}},c=n,u=(a("da2e"),a("cba8")),d=Object(u["a"])(c,r,o,!1,null,"17d7c5f6",null);t["default"]=d.exports},f3ff:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"身份证号",prop:"certCode"}},[a("el-input",{attrs:{placeholder:"请输入身份证号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.certCode,callback:function(t){e.$set(e.queryParams,"certCode",t)},expression:"queryParams.certCode"}})],1),a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{attrs:{placeholder:"请输入手机号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.mobile,callback:function(t){e.$set(e.queryParams,"mobile",t)},expression:"queryParams.mobile"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"cyan",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.addDocument}},[e._v("增加从业人员 ")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.Modeler}},[a("el-table-column",{attrs:{label:"姓名",prop:"name"}}),a("el-table-column",{attrs:{label:"身份证号",prop:"certCode"}}),a("el-table-column",{attrs:{label:"联系电话",prop:"mobile"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleUser(t.row)}}},[e._v("证书管理")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("编辑 ")]),a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除 ")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{visible:e.open,width:"70%",title:e.title,"append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t},close:e.modelCancel}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"130px",inline:!0}},[a("el-form-item",{attrs:{label:"姓名：",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"性别：",prop:"sex"}},[a("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.ruleForm.sex,callback:function(t){e.$set(e.ruleForm,"sex",t)},expression:"ruleForm.sex"}},[a("el-option",{attrs:{label:"男",value:"0"}}),a("el-option",{attrs:{label:"女",value:"1"}})],1)],1),a("el-form-item",{attrs:{label:"人员编号：",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入人员编号"},model:{value:e.ruleForm.code,callback:function(t){e.$set(e.ruleForm,"code",t)},expression:"ruleForm.code"}})],1),a("el-form-item",{attrs:{label:"身份证：",prop:"certCode"}},[a("el-input",{attrs:{placeholder:"请输入身份证"},model:{value:e.ruleForm.certCode,callback:function(t){e.$set(e.ruleForm,"certCode",t)},expression:"ruleForm.certCode"}})],1),a("el-form-item",{attrs:{label:"民族：",prop:"nation"}},[a("el-select",{attrs:{placeholder:"请选择民族"},model:{value:e.ruleForm.nation,callback:function(t){e.$set(e.ruleForm,"nation",t)},expression:"ruleForm.nation"}},[a("el-option",{attrs:{label:"汉族",value:"汉族"}}),a("el-option",{attrs:{label:"朝鲜族",value:"朝鲜族"}}),a("el-option",{attrs:{label:"满族",value:"满族"}}),a("el-option",{attrs:{label:"侗族",value:"侗族"}}),a("el-option",{attrs:{label:"瑶族",value:"瑶族"}}),a("el-option",{attrs:{label:"白族",value:"白族"}}),a("el-option",{attrs:{label:"土家族",value:"土家族"}}),a("el-option",{attrs:{label:"哈尼族",value:"哈尼族"}}),a("el-option",{attrs:{label:"哈萨克族",value:"哈萨克族"}}),a("el-option",{attrs:{label:"傣族",value:"傣族"}}),a("el-option",{attrs:{label:"黎族",value:"黎族"}}),a("el-option",{attrs:{label:"蒙古族",value:"蒙古族"}}),a("el-option",{attrs:{label:"傈傈族",value:"傈傈族"}}),a("el-option",{attrs:{label:"佤族",value:"佤族"}}),a("el-option",{attrs:{label:"畲族",value:"畲族"}}),a("el-option",{attrs:{label:"高山族",value:"高山族"}}),a("el-option",{attrs:{label:"拉祜族",value:"拉祜族"}}),a("el-option",{attrs:{label:"水族",value:"水族"}}),a("el-option",{attrs:{label:"东乡族",value:"东乡族"}}),a("el-option",{attrs:{label:"纳西族",value:"纳西族"}}),a("el-option",{attrs:{label:"景颇族",value:"景颇族"}}),a("el-option",{attrs:{label:"回族",value:"回族"}}),a("el-option",{attrs:{label:"柯尔克孜族",value:"柯尔克孜族"}}),a("el-option",{attrs:{label:"土族",value:"土族"}}),a("el-option",{attrs:{label:"达斡尔族",value:"达斡尔族"}}),a("el-option",{attrs:{label:"仫佬族",value:"仫佬族"}}),a("el-option",{attrs:{label:"羌族",value:"羌族"}}),a("el-option",{attrs:{label:"布朗族",value:"布朗族"}}),a("el-option",{attrs:{label:"撒拉族",value:"撒拉族"}}),a("el-option",{attrs:{label:"毛难族",value:"毛难族"}}),a("el-option",{attrs:{label:"仡佬族",value:"仡佬族"}}),a("el-option",{attrs:{label:"锡伯族",value:"锡伯族"}}),a("el-option",{attrs:{label:"阿昌族",value:"阿昌族"}}),a("el-option",{attrs:{label:"藏族",value:"藏族"}}),a("el-option",{attrs:{label:"普米族",value:"普米族"}}),a("el-option",{attrs:{label:"塔吉克族",value:"塔吉克族"}}),a("el-option",{attrs:{label:"怒族",value:"怒族"}}),a("el-option",{attrs:{label:"乌孜别克族",value:"乌孜别克族"}}),a("el-option",{attrs:{label:"俄罗斯族",value:"俄罗斯族"}}),a("el-option",{attrs:{label:"鄂温克族族",value:"鄂温克族族"}}),a("el-option",{attrs:{label:"崩龙族",value:"崩龙族"}}),a("el-option",{attrs:{label:"保安族",value:"保安族"}}),a("el-option",{attrs:{label:"裕固族",value:"裕固族"}}),a("el-option",{attrs:{label:"京族",value:"京族"}}),a("el-option",{attrs:{label:"维吾尔族",value:"维吾尔族"}}),a("el-option",{attrs:{label:"塔塔尔族",value:"塔塔尔族"}}),a("el-option",{attrs:{label:"独龙族",value:"独龙族"}}),a("el-option",{attrs:{label:"鄂伦春族",value:"鄂伦春族"}}),a("el-option",{attrs:{label:"赫哲族",value:"赫哲族"}}),a("el-option",{attrs:{label:"门巴族",value:"门巴族"}}),a("el-option",{attrs:{label:"珞巴族",value:"珞巴族"}}),a("el-option",{attrs:{label:"基诺族",value:"基诺族"}}),a("el-option",{attrs:{label:"苗族",value:"苗族"}}),a("el-option",{attrs:{label:"彝族",value:"彝族"}}),a("el-option",{attrs:{label:"壮族",value:"壮族"}}),a("el-option",{attrs:{label:"布衣族",value:"布衣族"}}),a("el-option",{attrs:{label:"其他",value:"其他"}}),a("el-option",{attrs:{label:"外国血统中国籍人士",value:"外国血统中国籍人士"}})],1)],1),a("el-form-item",{attrs:{label:"户籍登记地址：",prop:"areaDesc"}},[a("el-input",{attrs:{placeholder:"请输入户籍登记地址"},model:{value:e.ruleForm.areaDesc,callback:function(t){e.$set(e.ruleForm,"areaDesc",t)},expression:"ruleForm.areaDesc"}})],1),a("el-form-item",{attrs:{label:"职务：",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择职务"},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[a("el-option",{attrs:{label:"董事长兼总经理",value:"董事长兼总经理"}}),a("el-option",{attrs:{label:"董事兼总经理",value:"董事兼总经理"}}),a("el-option",{attrs:{label:"执行董事兼总经理",value:"执行董事兼总经理"}}),a("el-option",{attrs:{label:"董事长",value:"董事长"}}),a("el-option",{attrs:{label:"副董事长",value:"副董事长"}}),a("el-option",{attrs:{label:"董事",value:"董事"}}),a("el-option",{attrs:{label:"执行董事",value:"执行董事"}}),a("el-option",{attrs:{label:"总经理",value:"总经理"}}),a("el-option",{attrs:{label:"副总经理",value:"副总经理"}}),a("el-option",{attrs:{label:"经理",value:"经理"}}),a("el-option",{attrs:{label:"负责人",value:"负责人"}}),a("el-option",{attrs:{label:"总务主任",value:"总务主任"}}),a("el-option",{attrs:{label:"专职管理员",value:"专职管理员"}}),a("el-option",{attrs:{label:"其他人员",value:"其他人员"}})],1)],1),a("el-form-item",{attrs:{label:"联系电话：",prop:"mobile"}},[a("el-input",{attrs:{placeholder:"请输入联系电话"},model:{value:e.ruleForm.mobile,callback:function(t){e.$set(e.ruleForm,"mobile",t)},expression:"ruleForm.mobile"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存")]),a("el-button",{on:{click:e.modelCancel}},[e._v("取消")])],1)],1),a("el-dialog",{attrs:{visible:e.openBlack,width:"600px",title:"拉黑理由","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.openBlack=t}}},[a("el-form",{ref:"blackForm",staticClass:"demo-ruleForm",attrs:{model:e.blackForm,rules:e.blackRules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"拉黑理由",prop:"blackReason"}},[a("el-input",{attrs:{placeholder:"请输入拉黑理由",clearable:""},model:{value:e.blackForm.blackReason,callback:function(t){e.$set(e.blackForm,"blackReason",t)},expression:"blackForm.blackReason"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFormBlack}},[e._v("保存")]),a("el-button",{on:{click:function(t){e.openBlack=!1}}},[e._v("取消")])],1)],1),a("el-dialog",{attrs:{visible:e.userOpen,width:"600px",title:e.titleUser,"append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.userOpen=t}}},[a("el-form",{ref:"userForm",attrs:{model:e.userForm,rules:e.userRules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"证书名称：",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入证书名称"},model:{value:e.userForm.name,callback:function(t){e.$set(e.userForm,"name",t)},expression:"userForm.name"}})],1),a("el-form-item",{attrs:{label:"编号：",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输编号"},model:{value:e.userForm.code,callback:function(t){e.$set(e.userForm,"code",t)},expression:"userForm.code"}})],1),a("el-form-item",{attrs:{label:"证件类型：",prop:"permitTypeId"}},[a("el-select",{attrs:{placeholder:"请选择证件类型"},model:{value:e.userForm.permitTypeId,callback:function(t){e.$set(e.userForm,"permitTypeId",t)},expression:"userForm.permitTypeId"}},e._l(e.permitTypeList,(function(e){return a("el-option",{key:e.objectId,attrs:{label:e.type,value:e.objectId}})})),1)],1),a("el-form-item",{attrs:{label:"发证日期：",prop:"date1"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择发证日期"},model:{value:e.userForm.date1,callback:function(t){e.$set(e.userForm,"date1",t)},expression:"userForm.date1"}})],1),a("el-form-item",{attrs:{label:"到期日期：",prop:"date2"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择到期日期"},model:{value:e.userForm.date2,callback:function(t){e.$set(e.userForm,"date2",t)},expression:"userForm.date2"}})],1),a("el-form-item",{attrs:{label:"发证单位：",prop:"certOrgan"}},[a("el-input",{attrs:{placeholder:"请输入发证单位"},model:{value:e.userForm.certOrgan,callback:function(t){e.$set(e.userForm,"certOrgan",t)},expression:"userForm.certOrgan"}})],1),a("el-form-item",{attrs:{label:"证书图片：",prop:"fileUrl"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.fileUrl,headers:e.headers,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.userForm.fileUrl?a("img",{staticClass:"avatar",attrs:{src:e.url+e.userForm.fileUrl}}):e._e(),a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选择文件")])],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFormUser}},[e._v("保存")]),a("el-button",{on:{click:function(t){e.userOpen=!1}}},[e._v("取消")])],1)],1),a("el-dialog",{attrs:{visible:e.openUserList,width:"600px",title:"证书管理","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.openUserList=t}}},[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.addUser}},[e._v("新增证书 ")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingUserList,expression:"loadingUserList"}],attrs:{data:e.userList}},[a("el-table-column",{attrs:{label:"证书类型",prop:"type"}}),a("el-table-column",{attrs:{label:"发证日期",prop:"date1",formatter:e.formatter}}),a("el-table-column",{attrs:{label:"到期日期",prop:"date2",formatter:e.formatter1}}),a("el-table-column",{attrs:{label:"发证单位",prop:"certOrgan"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdateUser(t.row)}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDeleteUser(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalUserList>0,expression:"totalUserList>0"}],attrs:{total:e.totalUserList,page:e.queryParamsUserList.pageNum,limit:e.queryParamsUserList.pageSize},on:{"update:page":function(t){return e.$set(e.queryParamsUserList,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParamsUserList,"pageSize",t)},pagination:e.getListUserList}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.openUserList=!1}}},[e._v("确定")])],1)],1)],1)},o=[],l=a("8955"),i=a("b775");function s(e){return Object(i["a"])({url:"/comp/c-staff/list",method:"get",params:e})}function n(e){return Object(i["a"])({url:"/comp/c-staff/add",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/comp/c-staff/get/"+e,method:"get"})}function u(e){return Object(i["a"])({url:"/comp/c-staff/edit",method:"post",data:e})}function d(e){return Object(i["a"])({url:"/comp/c-staff/delete/"+e,method:"get"})}function m(e){return Object(i["a"])({url:"/comp/c-staff/setBlack",method:"post",data:e})}function p(e){return Object(i["a"])({url:"/comp/c-staff-permit/list",method:"get",params:e})}function f(e){return Object(i["a"])({url:"/comp/c-staff-permit/add",method:"post",data:e})}function h(e){return Object(i["a"])({url:"/comp/c-staff-permit/get/"+e,method:"get"})}function b(e){return Object(i["a"])({url:"/comp/c-staff-permit/edit",method:"post",data:e})}function v(e){return Object(i["a"])({url:"/comp/c-staff-permit/delete/"+e,method:"get"})}function g(e){return Object(i["a"])({url:"/base/b-permit-type/list",method:"get",params:e})}var y=a("5f87"),k={data:function(){var e;return e={loading:!1,loadingUserList:!1,showSearch:!0,total:0,totalUserList:0,Modeler:[],userList:[],title:"",titleUser:"",open:!1,openBlack:!1,userOpen:!1,openUserList:!1,queryParams:{pageNum:1,pageSize:10,isBlack:0,certCode:"",mobile:"",companyId:this.$store.state.user.companyInfo.companyId},queryParamsUserList:{pageNum:1,pageSize:6,staffId:""},userForm:{name:"",code:"",permitTypeId:"",date1:"",date2:"",certOrgan:"",fileUrl:""},blackForm:{},ruleForm:{name:"",sex:"",certType:"身份证",certCode:"",nation:"汉族",areaDesc:"",companyId:"",type:"",mobile:"",isPharmacist:"否"},rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}],certCode:[{required:!0,message:"请输入身份证",trigger:"blur"}],mobile:[{required:!0,message:"请输入联系电话",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的联系电话",trigger:"blur"}]},blackRules:{blackReason:[{required:!0,message:"请输入拉黑原因",trigger:"blur"}]},userRules:{permitTypeId:[{required:!0,message:"请选择证件类型",trigger:"change"}],date1:[{required:!0,message:"请选择发证日期",trigger:"change"}],date2:[{required:!0,message:"请选择到期日期",trigger:"change"}],certOrgan:[{required:!0,message:"请输入发证单位",trigger:"blur"}],fileUrl:[{required:!0,message:"请上传证书图片",trigger:"change"}]}},Object(l["a"])(e,"title",""),Object(l["a"])(e,"imageUrl",""),Object(l["a"])(e,"permitTypeList",[]),Object(l["a"])(e,"fileUrl","/prod-api/common/upload"),Object(l["a"])(e,"url","/prod-api"),Object(l["a"])(e,"headers",{Authorization:"Bearer "+Object(y["a"])()}),e},mounted:function(){var e=this;this.$route.query.typeId&&this.$route.query.staffId&&(this.queryParamsUserList.staffId=this.$route.query.staffId,this.getListUserList(),g().then((function(t){e.permitTypeList=t.data,e.reset(),h(e.$route.query.typeId).then((function(t){e.userForm=t.data,e.titleUser="修改证书",e.userOpen=!0}))}))),this.getList()},methods:{getList:function(){var e=this;this.loading=!0,this.queryParams.companyId=this.$store.state.user.companyInfo.companyId,s(this.queryParams).then((function(t){e.Modeler=t.data,e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleDelete:function(e){var t=this;this.$confirm("是否确认删除所选信息?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(e.objectId)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},modelCancel:function(){this.reset(),this.open=!1},addDocument:function(){this.reset(),this.title="新增从业人员",this.open=!0},handleUpdate:function(e){var t=this;this.reset(),c(e.objectId).then((function(e){t.ruleForm=e.data,t.title="修改从业人员",t.open=!0}))},submitForm:function(){var e=this;this.$refs["ruleForm"].validate((function(t){t&&(null!=e.ruleForm.objectId?u(e.ruleForm).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):(e.ruleForm.companyId=e.$store.state.user.companyInfo.companyId,n(e.ruleForm).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()}))))}))},handleBlack:function(e){var t=this;this.reset(),c(e.objectId).then((function(e){t.blackForm=e.data,t.openBlack=!0}))},submitFormBlack:function(){var e=this;this.$refs["blackForm"].validate((function(t){t&&(e.blackForm.isBlack=1,m(e.blackForm).then((function(t){e.msgSuccess("拉黑成功"),e.openBlack=!1,e.getList()})))}))},reset:function(){this.ruleForm={companyId:"",name:"",sex:"",certType:"身份证",certCode:"",nation:"汉族",areaDesc:"",type:"",mobile:"",isPharmacist:"否"},this.blackForm={},this.userForm={staffId:this.queryParamsUserList.staffId,name:"",code:"",permitTypeId:"",date1:"",date2:"",certOrgan:"",fileUrl:""},this.resetForm("userForm"),this.resetForm("blackForm"),this.resetForm("ruleForm")},handleUser:function(e){var t=this;this.queryParamsUserList.staffId=e.objectId,this.getListUserList(),g().then((function(e){t.permitTypeList=e.data}))},getListUserList:function(){var e=this;this.reset(),this.loadingUser=!0,p(this.queryParamsUserList).then((function(t){e.userList=t.data,e.totalUser=t.total,e.loadingUser=!1,e.openUserList=!0}))},addUser:function(){this.reset(),this.titleUser="新增证书",this.userOpen=!0},handleUpdateUser:function(e){var t=this;this.reset(),h(e.objectId).then((function(e){t.userForm=e.data,t.titleUser="修改证书",t.userOpen=!0}))},submitFormUser:function(){var e=this;this.$refs["userForm"].validate((function(t){t&&(null!=e.userForm.objectId?b(e.userForm).then((function(t){e.msgSuccess("修改成功"),e.userOpen=!1,e.getListUserList()})):(e.userForm.staffId=e.queryParamsUserList.staffId,f(e.userForm).then((function(t){e.msgSuccess("新增成功"),e.userOpen=!1,e.getListUserList()}))))}))},handleDeleteUser:function(e){var t=this;this.$confirm("是否确认删除?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return v(e.objectId)})).then((function(){t.getListUserList(),t.msgSuccess("删除成功")}))},formatter:function(e){return e.date1?this.formatDate(e.date1,"{y}-{m}-{d}"):""},formatter1:function(e){return e.date2?this.formatDate(e.date2,"{y}-{m}-{d}"):""},handleAvatarSuccess:function(e,t){this.userForm.fileUrl=e.fileName},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/jpg"===e.type||"image/png"===e.type||"image/gif"===e.type;e.size;return t||this.$message.error("请上传jpeg/jpg/png/gif类型的图片!"),t}}},_=k,w=(a("b550"),a("cba8")),x=Object(w["a"])(_,r,o,!1,null,"cc958178",null);t["default"]=x.exports},f794:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"菜单名称",prop:"menuName"}},[a("el-input",{attrs:{placeholder:"请输入菜单名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.menuName,callback:function(t){e.$set(e.queryParams,"menuName",t)},expression:"queryParams.menuName"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"菜单状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.dict.type.sys_normal_disable,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:menu:add"],expression:"['system:menu:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"info",plain:"",icon:"el-icon-sort",size:"mini"},on:{click:e.toggleExpandAll}},[e._v("展开/折叠")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),e.refreshTable?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.menuList,"row-key":"menuId","default-expand-all":e.isExpandAll,"tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"menuName",label:"菜单名称","show-overflow-tooltip":!0,width:"160"}}),a("el-table-column",{attrs:{prop:"icon",label:"图标",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("svg-icon",{attrs:{"icon-class":e.row.icon}})]}}],null,!1,3094025326)}),a("el-table-column",{attrs:{prop:"orderNum",label:"排序",width:"60"}}),a("el-table-column",{attrs:{prop:"perms",label:"权限标识","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"component",label:"组件路径","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("dict-tag",{attrs:{options:e.dict.type.sys_normal_disable,value:t.row.status}})]}}],null,!1,2802338569)}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}],null,!1,3078210614)}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:menu:edit"],expression:"['system:menu:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:menu:add"],expression:"['system:menu:add']"}],attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("新增")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:menu:remove"],expression:"['system:menu:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}],null,!1,1292372230)})],1):e._e(),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"680px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"上级菜单"}},[a("treeselect",{attrs:{options:e.menuOptions,normalizer:e.normalizer,"show-count":!0,placeholder:"选择上级菜单"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"菜单类型",prop:"menuType"}},[a("el-radio-group",{model:{value:e.form.menuType,callback:function(t){e.$set(e.form,"menuType",t)},expression:"form.menuType"}},[a("el-radio",{attrs:{label:"M"}},[e._v("目录")]),a("el-radio",{attrs:{label:"C"}},[e._v("菜单")]),a("el-radio",{attrs:{label:"F"}},[e._v("按钮")])],1)],1)],1),a("el-col",{attrs:{span:24}},["F"!=e.form.menuType?a("el-form-item",{attrs:{label:"菜单图标"}},[a("el-popover",{attrs:{placement:"bottom-start",width:"460",trigger:"click"},on:{show:function(t){return e.$refs["iconSelect"].reset()}}},[a("IconSelect",{ref:"iconSelect",on:{selected:e.selected}}),a("el-input",{attrs:{slot:"reference",placeholder:"点击选择图标",readonly:""},slot:"reference",model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}},[e.form.icon?a("svg-icon",{staticClass:"el-input__icon",staticStyle:{height:"32px",width:"16px"},attrs:{slot:"prefix","icon-class":e.form.icon},slot:"prefix"}):a("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},slot:"prefix"})],1)],1)],1):e._e()],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"菜单名称",prop:"menuName"}},[a("el-input",{attrs:{placeholder:"请输入菜单名称"},model:{value:e.form.menuName,callback:function(t){e.$set(e.form,"menuName",t)},expression:"form.menuName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"显示排序",prop:"orderNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.orderNum,callback:function(t){e.$set(e.form,"orderNum",t)},expression:"form.orderNum"}})],1)],1),a("el-col",{attrs:{span:12}},["F"!=e.form.menuType?a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[a("el-tooltip",{attrs:{content:"选择是外链则路由地址需要以`http(s)://`开头",placement:"top"}},[a("i",{staticClass:"el-icon-question"})]),e._v(" 是否外链 ")],1),a("el-radio-group",{model:{value:e.form.isFrame,callback:function(t){e.$set(e.form,"isFrame",t)},expression:"form.isFrame"}},[a("el-radio",{attrs:{label:"0"}},[e._v("是")]),a("el-radio",{attrs:{label:"1"}},[e._v("否")])],1)],1):e._e()],1),a("el-col",{attrs:{span:12}},["F"!=e.form.menuType?a("el-form-item",{attrs:{prop:"path"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("el-tooltip",{attrs:{content:"访问的路由地址，如：`user`，如外网地址需内链访问则以`http(s)://`开头",placement:"top"}},[a("i",{staticClass:"el-icon-question"})]),e._v(" 路由地址 ")],1),a("el-input",{attrs:{placeholder:"请输入路由地址"},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1):e._e()],1),"C"==e.form.menuType?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"component"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("el-tooltip",{attrs:{content:"访问的组件路径，如：`system/user/index`，默认在`views`目录下",placement:"top"}},[a("i",{staticClass:"el-icon-question"})]),e._v(" 组件路径 ")],1),a("el-input",{attrs:{placeholder:"请输入组件路径"},model:{value:e.form.component,callback:function(t){e.$set(e.form,"component",t)},expression:"form.component"}})],1)],1):e._e(),a("el-col",{attrs:{span:12}},["M"!=e.form.menuType?a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入权限标识",maxlength:"100"},model:{value:e.form.perms,callback:function(t){e.$set(e.form,"perms",t)},expression:"form.perms"}}),a("span",{attrs:{slot:"label"},slot:"label"},[a("el-tooltip",{attrs:{content:"控制器中定义的权限字符，如：@PreAuthorize(`@ss.hasPermi('system:user:list')`)",placement:"top"}},[a("i",{staticClass:"el-icon-question"})]),e._v(" 权限字符 ")],1)],1):e._e()],1),a("el-col",{attrs:{span:12}},["C"==e.form.menuType?a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入路由参数",maxlength:"255"},model:{value:e.form.query,callback:function(t){e.$set(e.form,"query",t)},expression:"form.query"}}),a("span",{attrs:{slot:"label"},slot:"label"},[a("el-tooltip",{attrs:{content:'访问路由的默认传递参数，如：`{"id": 1, "name": "ry"}`',placement:"top"}},[a("i",{staticClass:"el-icon-question"})]),e._v(" 路由参数 ")],1)],1):e._e()],1),a("el-col",{attrs:{span:12}},["C"==e.form.menuType?a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[a("el-tooltip",{attrs:{content:"选择是则会被`keep-alive`缓存，需要匹配组件的`name`和地址保持一致",placement:"top"}},[a("i",{staticClass:"el-icon-question"})]),e._v(" 是否缓存 ")],1),a("el-radio-group",{model:{value:e.form.isCache,callback:function(t){e.$set(e.form,"isCache",t)},expression:"form.isCache"}},[a("el-radio",{attrs:{label:"0"}},[e._v("缓存")]),a("el-radio",{attrs:{label:"1"}},[e._v("不缓存")])],1)],1):e._e()],1),a("el-col",{attrs:{span:12}},["F"!=e.form.menuType?a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[a("el-tooltip",{attrs:{content:"选择隐藏则路由将不会出现在侧边栏，但仍然可以访问",placement:"top"}},[a("i",{staticClass:"el-icon-question"})]),e._v(" 显示状态 ")],1),a("el-radio-group",{model:{value:e.form.visible,callback:function(t){e.$set(e.form,"visible",t)},expression:"form.visible"}},e._l(e.dict.type.sys_show_hide,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1):e._e()],1),a("el-col",{attrs:{span:12}},["F"!=e.form.menuType?a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[a("el-tooltip",{attrs:{content:"选择停用则路由将不会出现在侧边栏，也不能被访问",placement:"top"}},[a("i",{staticClass:"el-icon-question"})]),e._v(" 菜单状态 ")],1),a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.dict.type.sys_normal_disable,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1):e._e()],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},o=[],l=a("a6dc"),i=a("7d66"),s=a.n(i),n=(a("5166"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon-body"},[a("el-input",{staticStyle:{position:"relative"},attrs:{clearable:"",placeholder:"请输入图标名称"},on:{clear:e.filterIcons},nativeOn:{input:function(t){return e.filterIcons(t)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[a("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"suffix"},slot:"suffix"})]),a("div",{staticClass:"icon-list"},e._l(e.iconList,(function(t,r){return a("div",{key:r,on:{click:function(a){return e.selectedIcon(t)}}},[a("svg-icon",{staticStyle:{height:"30px",width:"16px"},attrs:{"icon-class":t}}),a("span",[e._v(e._s(t))])],1)})),0)],1)}),c=[],u=(a("1d7a"),a("cb3c"),a("c726"),a("b784"),a("402f"),a("6ab7"),a("6540"),a("0bd5"),a("5a4c"),a("23f1")),d=function(e){return e.keys()},m=/\.\/(.*)\.svg/,p=d(u).map((function(e){return e.match(m)[1]})),f=p,h={name:"IconSelect",data:function(){return{name:"",iconList:f}},methods:{filterIcons:function(){var e=this;this.iconList=f,this.name&&(this.iconList=this.iconList.filter((function(t){return t.includes(e.name)})))},selectedIcon:function(e){this.$emit("selected",e),document.body.click()},reset:function(){this.name="",this.iconList=f}}},b=h,v=(a("bce5"),a("cba8")),g=Object(v["a"])(b,n,c,!1,null,"0273f142",null),y=g.exports,k={name:"Menu",dicts:["sys_show_hide","sys_normal_disable"],components:{Treeselect:s.a,IconSelect:y},data:function(){return{loading:!0,showSearch:!0,menuList:[],menuOptions:[],title:"",open:!1,isExpandAll:!1,refreshTable:!0,queryParams:{menuName:void 0,visible:void 0},form:{},rules:{menuName:[{required:!0,message:"菜单名称不能为空",trigger:"blur"}],orderNum:[{required:!0,message:"菜单顺序不能为空",trigger:"blur"}],path:[{required:!0,message:"路由地址不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{selected:function(e){this.form.icon=e},getList:function(){var e=this;this.loading=!0,Object(l["d"])(this.queryParams).then((function(t){e.menuList=e.handleTree(t.data,"menuId"),e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.menuId,label:e.menuName,children:e.children}},getTreeselect:function(){var e=this;Object(l["d"])().then((function(t){e.menuOptions=[];var a={menuId:0,menuName:"主类目",children:[]};a.children=e.handleTree(t.data,"menuId"),e.menuOptions.push(a)}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={menuId:void 0,parentId:0,menuName:void 0,icon:void 0,menuType:"M",orderNum:void 0,isFrame:"1",isCache:"0",visible:"0",status:"0"},this.resetForm("form")},handleQuery:function(){this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(e){this.reset(),this.getTreeselect(),null!=e&&e.menuId?this.form.parentId=e.menuId:this.form.parentId=0,this.open=!0,this.title="添加菜单"},toggleExpandAll:function(){var e=this;this.refreshTable=!1,this.isExpandAll=!this.isExpandAll,this.$nextTick((function(){e.refreshTable=!0}))},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect(),Object(l["c"])(e.menuId).then((function(e){t.form=e.data,t.open=!0,t.title="修改菜单"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.menuId?Object(l["g"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(l["a"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this;this.$modal.confirm('是否确认删除名称为"'+e.menuName+'"的数据项？').then((function(){return Object(l["b"])(e.menuId)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))}}},_=k,w=Object(v["a"])(_,r,o,!1,null,null,null);t["default"]=w.exports},fb28:function(e,t,a){"use strict";a("e723")},fbc4:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("newVisitis")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-people"},[a("svg-icon",{attrs:{"icon-class":"peoples","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v(" 访客 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":102400,duration:2600}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("messages")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-message"},[a("svg-icon",{attrs:{"icon-class":"message","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v(" 消息 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":81212,duration:3e3}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("purchases")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-money"},[a("svg-icon",{attrs:{"icon-class":"money","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v(" 金额 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":9280,duration:3200}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("shoppings")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[a("svg-icon",{attrs:{"icon-class":"shopping","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v(" 订单 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":13600,duration:3600}})],1)])])],1)},o=[],l=a("9e2e"),i=a.n(l),s={components:{CountTo:i.a},methods:{handleSetLineChartData:function(e){this.$emit("handleSetLineChartData",e)}}},n=s,c=(a("26ab7"),a("cba8")),u=Object(c["a"])(n,r,o,!1,null,"0ac8ac4e",null);t["default"]=u.exports},fcb7:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"c",(function(){return i})),a.d(t,"g",(function(){return s})),a.d(t,"f",(function(){return n})),a.d(t,"a",(function(){return c})),a.d(t,"h",(function(){return u})),a.d(t,"b",(function(){return d}));var r=a("b775");function o(e){return Object(r["a"])({url:"/system/dept/list",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/system/dept/list/exclude/"+e,method:"get"})}function i(e){return Object(r["a"])({url:"/system/dept/"+e,method:"get"})}function s(){return Object(r["a"])({url:"/system/dept/treeselect",method:"get"})}function n(e){return Object(r["a"])({url:"/system/dept/roleDeptTreeselect/"+e,method:"get"})}function c(e){return Object(r["a"])({url:"/system/dept",method:"post",data:e})}function u(e){return Object(r["a"])({url:"/system/dept",method:"put",data:e})}function d(e){return Object(r["a"])({url:"/system/dept/"+e,method:"delete"})}},feb2:function(e,t,a){"use strict";a.r(t);var r=a("ed08");t["default"]={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){this.initListener()},activated:function(){this.$_resizeHandler||this.initListener(),this.resize()},beforeDestroy:function(){this.destroyListener()},deactivated:function(){this.destroyListener()},methods:{$_sidebarResizeHandler:function(e){"width"===e.propertyName&&this.$_resizeHandler()},initListener:function(){var e=this;this.$_resizeHandler=Object(r["c"])((function(){e.resize()}),100),window.addEventListener("resize",this.$_resizeHandler),this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},destroyListener:function(){window.removeEventListener("resize",this.$_resizeHandler),this.$_resizeHandler=null,this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)},resize:function(){var e=this.chart;e&&e.resize()}}}},feb5:function(e,t,a){},fedb:function(e,t,a){"use strict";a("ac20")},ff4e:function(e,t,a){"use strict";a("bb0a")}}]);